{"version":3,"file":"addons.js","mappings":"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A,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEAC,GAAY,CACZ,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GA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","sources":["webpack://addons/webpack/universalModuleDefinition","webpack://addons/webpack/runtime/create fake namespace object","webpack://addons/webpack/runtime/load script","webpack://addons/../../node_modules/chart.js/dist/chunks/helpers.segment.js","webpack://addons/../../node_modules/chart.js/dist/chart.esm.js","webpack://addons/../../node_modules/jwt-decode/lib/atob.js","webpack://addons/../../node_modules/jwt-decode/lib/base64_url_decode.js","webpack://addons/../../node_modules/jwt-decode/lib/index.js","webpack://addons/../../node_modules/preact/src/constants.js","webpack://addons/../../node_modules/preact/src/util.js","webpack://addons/../../node_modules/preact/src/options.js","webpack://addons/../../node_modules/preact/src/create-element.js","webpack://addons/../../node_modules/preact/src/component.js","webpack://addons/../../node_modules/preact/src/create-context.js","webpack://addons/../../node_modules/preact/src/diff/children.js","webpack://addons/../../node_modules/preact/src/diff/props.js","webpack://addons/../../node_modules/preact/src/diff/index.js","webpack://addons/../../node_modules/preact/src/render.js","webpack://addons/../../node_modules/preact/src/clone-element.js","webpack://addons/../../node_modules/preact/src/diff/catch-error.js","webpack://addons/../../node_modules/prismjs/prism.js","webpack://addons/../../../../../Trace.common.kt","webpack://addons/../../../../../AtomicFU.kt","webpack://addons/../../../../../<js-code>","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/CoroutineContext.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Arrays.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Collections.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashSet.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sets.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sequences.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Ranges.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Sequences.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractList.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Collections.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Iterables.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Maps.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Standard.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/CoroutineContextImpl.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/intrinsics/Intrinsics.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/properties/ObservableProperty.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Appendable.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Char.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/char.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/dynamic.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Strings.kt","webpack://addons/../../../../../src/generated/_ArraysJs.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/string.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Result.kt","webpack://addons/../../../../../src/kotlin/exceptions.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Tuples.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/ProgressionIterators.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Progressions.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Ranges.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/internal/progressionUtil.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/runtime/primitiveCompanionObjects.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections.kt","webpack://addons/../../../../../runtime/kotlinHacks.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableCollection.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableList.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableSet.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/ArrayList.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Preconditions.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashSet.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalHashCodeMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/KClassImpl.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/primitives.kt","webpack://addons/../../../../../builtins/Library.kt","webpack://addons/../../../../../runtime/typeCheckUtils.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/reflection.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/StringBuilderJs.kt","webpack://addons/../../../../../src/generated/_WhitespaceChars.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/CharCode.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/regex.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/stringsCode.kt","webpack://addons/../../../../../builtins/Char.kt","webpack://addons/../../../../../builtins/Enum.kt","webpack://addons/../../../../../runtime/arrays.kt","webpack://addons/../../../../../runtime/noPackageHacks.kt","webpack://addons/../../../../../runtime/bitUtils.kt","webpack://addons/../../../../../runtime/charSequence.kt","webpack://addons/../../../../../runtime/numberConversion.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/unsigned/src/kotlin/UShort.kt","webpack://addons/../../../../../runtime/collectionsHacks.kt","webpack://addons/../../../../../runtime/compareTo.kt","webpack://addons/../../../../../runtime/coreRuntime.kt","webpack://addons/../../../../../runtime/hacks.kt","webpack://addons/../../../../../runtime/long.kt","webpack://addons/../../../../../runtime/longjs.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/numbers.kt","webpack://addons/../../../../../runtime/rangeTo.kt","webpack://addons/../../../../../runtime/reflectRuntime.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/JsClass.kt","webpack://addons/../../../../../src/kotlin/coroutines_13/CoroutineImpl.kt","webpack://addons/../../../../../src/kotlin/coroutines_13/IntrinsicsJs.kt","webpack://addons/../../../../../src/kotlin/jsOperators.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractCollection.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractSet.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Iterators.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Unit.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/EqualityComparator.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Strings.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/regexp.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/Continuation.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/kotlin/MathH.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/coroutines/cancellation/CancellationException.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Iterators.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/MutableCollections.kt","webpack://addons/../../../../../src/generated/_ComparisonsJs.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/ContinuationInterceptor.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/math.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlinx/dom/Mutations.kt","webpack://addons/../../../../../CssBuilder.kt","webpack://addons/../../../../../Extensions.kt","webpack://addons/../../../../../Rule.kt","webpack://addons/../../../../../StyleDimensions.kt","webpack://addons/../../../../../StyleEnums.kt","webpack://addons/../../../../../StyleList.kt","webpack://addons/../../../../../StyledElement.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Maps.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/StringBuilder.kt","webpack://addons/../../../../../Animation.kt","webpack://addons/../../../../../BoxShadow.kt","webpack://addons/../../../../../Transform.kt","webpack://addons/../../../../../Transition.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/HashCode.kt","webpack://addons/../../../../../RuleContainer.kt","webpack://addons/../../../../../api.kt","webpack://addons/../../../../../attributes.kt","webpack://addons/../../../../../delegating-map.kt","webpack://addons/../../../../../gen-attributes.kt","webpack://addons/../../../../../gen-enums.kt","webpack://addons/../../../../../gen-tags-a.kt","webpack://addons/../../../../../gen-tags-c.kt","webpack://addons/../../../../../gen-tags-d.kt","webpack://addons/../../../../../gen-tags-h.kt","webpack://addons/../../../../../gen-tags-i.kt","webpack://addons/../../../../../gen-tags-l.kt","webpack://addons/../../../../../gen-tags-p.kt","webpack://addons/../../../../../gen-tags-t.kt","webpack://addons/../../../../../htmltag.kt","webpack://addons/../../../../../gen-event-attrs-js.kt","webpack://addons/../../../../../gen-attr-traits.kt","webpack://addons/../../../../../Job.kt","webpack://addons/../../../../../AbstractCoroutine.kt","webpack://addons/../../../../../Builders.common.kt","webpack://addons/../../../../../CoroutineContext.kt","webpack://addons/../../../../../DispatchedTask.kt","webpack://addons/../../../../../CancellableContinuationImpl.kt","webpack://addons/../../../../../CompletionHandler.kt","webpack://addons/../../../../../AtomicFU.common.kt","webpack://addons/../../../../../CompletionState.kt","webpack://addons/../../../../../CoroutineDispatcher.kt","webpack://addons/../../../../../CoroutineExceptionHandler.kt","webpack://addons/../../../../../EventLoop.common.kt","webpack://addons/../../../../../Exceptions.common.kt","webpack://addons/../../../../../JobSupport.kt","webpack://addons/../../../../../Concurrent.kt","webpack://addons/../../../../../LinkedList.kt","webpack://addons/../../../../../Synchronized.kt","webpack://addons/../../../../../MainCoroutineDispatcher.kt","webpack://addons/../../../../../Supervisor.kt","webpack://addons/../../../../../Unconfined.kt","webpack://addons/../../../../../ArrayQueue.kt","webpack://addons/../../../../../DispatchedContinuation.kt","webpack://addons/../../../../../ThreadContext.kt","webpack://addons/../../../../../Scopes.kt","webpack://addons/../../../../../Symbol.kt","webpack://addons/../../../../../Cancellable.kt","webpack://addons/../../../../../Window.kt","webpack://addons/../../../../../CoroutineExceptionHandlerImpl.kt","webpack://addons/../../../../../Debug.kt","webpack://addons/../../../../../Dispatchers.kt","webpack://addons/../../../../../EventLoop.kt","webpack://addons/../../../../../Exceptions.kt","webpack://addons/../../../../../JSDispatcher.kt","webpack://addons/../../../../../StackTraceRecovery.kt","webpack://addons/../../../../../ThreadLocal.kt","webpack://addons/../../../../../CoroutineStart.kt","webpack://addons/../../../../../Undispatched.kt","webpack://addons/../../../../../ProbesSupport.kt","webpack://addons/../../../../../CompletionHandler.common.kt","webpack://addons/../../../../../SchedulerTask.kt","webpack://addons/../../../../../Delay.kt","webpack://addons/../../../../../CancellableContinuation.kt","webpack://addons/../../../../../CoroutineScope.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/helpers.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/AddonExamplesApp.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/HomePage.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/chartjs/ChartJsExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/index.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/routes.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/jwtdecode/JwtDecodeExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/konva/KonvaExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/marked/MarkedExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/prismjs/PrismJsExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/konva/KonvaExampleStage.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/Prism.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/ChartJsComponent.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/chartjs_builder.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/chartjs_utils.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/FieldOptionsBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/routes.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/GenericFormField.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/dom_events.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/events.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/ActiveRoute.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/MountedRoute.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/Router.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/RouterBuilder.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/RouterComponent.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/middleware.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/regex/RegexExtensions.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/field_textarea.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/form_helpers.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/settings.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/styling/inline_style.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/Component.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/Ctx.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/PureComponent.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/component_state.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/MessageBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/MessagesHandler.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/messages.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamMapper.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamSourceImpl.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamWrapperBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/ticker.kt","webpack://addons/../../../../core/src/jsMain/kotlin/utils/async.kt","webpack://addons/../../../../core/src/jsMain/kotlin/utils/jsHelpers.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/VDom.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/VDomEngine.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactElements.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactLLC.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactTagConsumer.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactVDomEngine.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/SemanticTag.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/streams.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/FormField.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/routing.kt","webpack://addons/../../../../core/src/jsMain/kotlin/jsbridges/jwt_decode_helpers.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/map.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/PrismJsInternals.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/PrismPlugin.kt","webpack://addons/../../../../../gen-tag-groups.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/org.w3c/org.w3c.dom.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/internals.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/index.kt","webpack://addons/../../../../../RunSync.kt","webpack://addons/../../node_modules/marked/lib/marked.cjs","webpack://addons/../../node_modules/konva/lib/Global.js","webpack://addons/../../node_modules/konva/lib/Util.js","webpack://addons/../../node_modules/konva/lib/Validators.js","webpack://addons/../../node_modules/konva/lib/Factory.js","webpack://addons/../../node_modules/konva/lib/Context.js","webpack://addons/../../node_modules/konva/lib/Canvas.js","webpack://addons/../../node_modules/konva/lib/DragAndDrop.js","webpack://addons/../../node_modules/konva/lib/Node.js","webpack://addons/../../node_modules/konva/lib/Container.js","webpack://addons/../../node_modules/konva/lib/PointerEvents.js","webpack://addons/../../node_modules/konva/lib/Stage.js","webpack://addons/../../node_modules/konva/lib/Shape.js","webpack://addons/../../node_modules/konva/lib/Layer.js","webpack://addons/../../node_modules/konva/lib/FastLayer.js","webpack://addons/../../node_modules/konva/lib/Group.js","webpack://addons/../../node_modules/konva/lib/Animation.js","webpack://addons/../../node_modules/konva/lib/Tween.js","webpack://addons/../../node_modules/konva/lib/_CoreInternals.js","webpack://addons/../../node_modules/konva/lib/shapes/Arc.js","webpack://addons/../../node_modules/konva/lib/shapes/Line.js","webpack://addons/../../node_modules/konva/lib/shapes/Path.js","webpack://addons/../../node_modules/konva/lib/shapes/Arrow.js","webpack://addons/../../node_modules/konva/lib/shapes/Circle.js","webpack://addons/../../node_modules/konva/lib/shapes/Ellipse.js","webpack://addons/../../node_modules/konva/lib/shapes/Image.js","webpack://addons/../../node_modules/konva/lib/shapes/Label.js","webpack://addons/../../node_modules/konva/lib/shapes/Rect.js","webpack://addons/../../node_modules/konva/lib/shapes/RegularPolygon.js","webpack://addons/../../node_modules/konva/lib/shapes/Ring.js","webpack://addons/../../node_modules/konva/lib/shapes/Sprite.js","webpack://addons/../../node_modules/konva/lib/shapes/Star.js","webpack://addons/../../node_modules/konva/lib/shapes/Text.js","webpack://addons/../../node_modules/konva/lib/shapes/TextPath.js","webpack://addons/../../node_modules/konva/lib/shapes/Transformer.js","webpack://addons/../../node_modules/konva/lib/shapes/Wedge.js","webpack://addons/../../node_modules/konva/lib/filters/Blur.js","webpack://addons/../../node_modules/konva/lib/filters/Enhance.js","webpack://addons/../../node_modules/konva/lib/filters/Mask.js","webpack://addons/../../node_modules/konva/lib/filters/Brighten.js","webpack://addons/../../node_modules/konva/lib/filters/Contrast.js","webpack://addons/../../node_modules/konva/lib/filters/Emboss.js","webpack://addons/../../node_modules/konva/lib/filters/HSL.js","webpack://addons/../../node_modules/konva/lib/filters/HSV.js","webpack://addons/../../node_modules/konva/lib/filters/Kaleidoscope.js","webpack://addons/../../node_modules/konva/lib/filters/Noise.js","webpack://addons/../../node_modules/konva/lib/filters/Pixelate.js","webpack://addons/../../node_modules/konva/lib/filters/Posterize.js","webpack://addons/../../node_modules/konva/lib/filters/RGB.js","webpack://addons/../../node_modules/konva/lib/filters/RGBA.js","webpack://addons/../../node_modules/konva/lib/filters/Threshold.js","webpack://addons/../../node_modules/konva/lib/_FullInternals.js","webpack://addons/../../node_modules/konva/lib/index.js","webpack://addons/../../node_modules/konva/lib/filters/Grayscale.js","webpack://addons/../../node_modules/konva/lib/filters/Invert.js","webpack://addons/../../node_modules/konva/lib/filters/Sepia.js","webpack://addons/../../node_modules/konva/lib/filters/Solarize.js","webpack://addons/webpack/bootstrap","webpack://addons/webpack/runtime/define property getters","webpack://addons/webpack/runtime/ensure chunk","webpack://addons/webpack/runtime/get javascript chunk filename","webpack://addons/webpack/runtime/global","webpack://addons/webpack/runtime/hasOwnProperty shorthand","webpack://addons/webpack/runtime/make namespace object","webpack://addons/webpack/runtime/publicPath","webpack://addons/webpack/runtime/jsonp chunk loading","webpack://addons/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"addons\"] = factory();\n\telse\n\t\troot[\"addons\"] = factory();\n})(this, () => {\nreturn ","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"addons:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/*!\n * Chart.js v3.8.0\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.slice(pos, idx)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.2.1\n * https://github.com/kurkle/color#readme\n * (c) 2022 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nfunction isPatternOrGradient(value) {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n  return false;\n}\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array(count);\n  let i, ilen, index, item;\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(e, canvas) {\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  if ('native' in evt) {\n    return evt;\n  }\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { toFont as $, _rlookupByKey as A, _isPointInArea as B, getAngleFromPoint as C, toPadding as D, each as E, getMaximumSize as F, _getParentNode as G, HALF_PI as H, readUsedSize as I, throttled as J, supportsEventListenerOptions as K, _isDomSupported as L, log10 as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, toDegrees as S, TAU as T, _measureText as U, _int16Range as V, _alignPixel as W, clipArea as X, renderText as Y, unclipArea as Z, _arrayUnique as _, resolve as a, QUARTER_PI as a$, _toLeftRightCenter as a0, _alignStartEnd as a1, overrides as a2, merge as a3, _capitalize as a4, descriptors as a5, isFunction as a6, _attachContext as a7, _createResolver as a8, _descriptors as a9, _textX as aA, restoreTextDirection as aB, noop as aC, distanceBetweenPoints as aD, _setMinAndMaxByKey as aE, niceNum as aF, almostWhole as aG, almostEquals as aH, _decimalPlaces as aI, _longestText as aJ, _filterBetween as aK, _lookup as aL, isPatternOrGradient as aM, getHoverColor as aN, clone$1 as aO, _merger as aP, _mergerIf as aQ, _deprecated as aR, toFontString as aS, splineCurve as aT, splineCurveMonotone as aU, getStyle as aV, fontString as aW, toLineHeight as aX, PITAU as aY, INFINITY as aZ, RAD_PER_DEG as a_, mergeIf as aa, uid as ab, debounce as ac, retinaScale as ad, clearCanvas as ae, setsEqual as af, _elementsEqual as ag, _isClickEvent as ah, _isBetween as ai, _readValueToProps as aj, _updateBezierControlPoints as ak, _computeSegments as al, _boundSegments as am, _steppedInterpolation as an, _bezierInterpolation as ao, _pointInLine as ap, _steppedLineTo as aq, _bezierCurveTo as ar, drawPoint as as, addRoundedRectPath as at, toTRBL as au, toTRBLCorners as av, _boundSegment as aw, _normalizeAngle as ax, getRtlAdapter as ay, overrideTextDirection as az, isArray as b, TWO_THIRDS_PI as b0, _angleDiff as b1, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n","/*!\n * Chart.js v3.8.0\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _isPointInArea, C as getAngleFromPoint, D as toPadding, E as each, F as getMaximumSize, G as _getParentNode, I as readUsedSize, J as throttled, K as supportsEventListenerOptions, L as _isDomSupported, M as log10, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as toDegrees, U as _measureText, V as _int16Range, W as _alignPixel, X as clipArea, Y as renderText, Z as unclipArea, $ as toFont, a0 as _toLeftRightCenter, a1 as _alignStartEnd, a2 as overrides, a3 as merge, a4 as _capitalize, a5 as descriptors, a6 as isFunction, a7 as _attachContext, a8 as _createResolver, a9 as _descriptors, aa as mergeIf, ab as uid, ac as debounce, ad as retinaScale, ae as clearCanvas, af as setsEqual, ag as _elementsEqual, ah as _isClickEvent, ai as _isBetween, aj as _readValueToProps, ak as _updateBezierControlPoints, al as _computeSegments, am as _boundSegments, an as _steppedInterpolation, ao as _bezierInterpolation, ap as _pointInLine, aq as _steppedLineTo, ar as _bezierCurveTo, as as drawPoint, at as addRoundedRectPath, au as toTRBL, av as toTRBLCorners, aw as _boundSegment, ax as _normalizeAngle, ay as getRtlAdapter, az as overrideTextDirection, aA as _textX, aB as restoreTextDirection, aC as noop, aD as distanceBetweenPoints, aE as _setMinAndMaxByKey, aF as niceNum, aG as almostWhole, aH as almostEquals, aI as _decimalPlaces, aJ as _longestText, aK as _filterBetween, aL as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(this._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (!item.controller.options.grouped) {\n        continue;\n      }\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n    return range;\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  evaluateInteractionItems,\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n      if (isHorizontal) {\n        x = pixel;\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign: tickTextAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.8.0\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n    this.render();\n  }\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n    this.notifyPlugins('afterDestroy');\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n    if (inChartArea) {\n      this._lastEvent = null;\n      callback(options.onHover, [e, active, this], this);\n      if (isClick) {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  const {options} = element;\n  const {borderWidth, borderJoinStyle} = options;\n  const inner = options.borderAlign === 'inner';\n  if (!borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (!meta.controller.supportsDecimation) {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n  return target;\n}\nfunction _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\nfunction _getTargetValue(fill, scale, startValue) {\n  let value;\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n\nfunction _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n\nfunction _getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return _createBoundaryLine(boundary, line);\n}\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n  if (isNumberFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n  return null;\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nvar index = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart || config._chart;\n    this._chart = this.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  _willRender() {\n    return !!this.opacity;\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n    const positionChanged = this._positionChanged(active, e);\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n    if (options.reverse) {\n      active.reverse();\n    }\n    return active;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n      if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n        return;\n      }\n      tooltip.draw(chart.ctx);\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const extra = getTickBackdropHeight(opts) / 2;\n  const outerDistance = scale.drawingArea;\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const borderRadius = toTRBLCorners(optsAtIndex.borderRadius);\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      const backdropLeft = left - padding.left;\n      const backdropTop = top - padding.top;\n      const backdropWidth = right - left + padding.width;\n      const backdropHeight = bottom - top + padding.height;\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: backdropLeft,\n          y: backdropTop,\n          w: backdropWidth,\n          h: backdropHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n      }\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this._pointLabels.length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  afterAutoSkip() {\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism’s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-](?:[^;{\\s]|\\s+(?![\\s{]))*(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.KraftDsl\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.Tag\n\n/**\n * Markup Element key\n */\n@KraftDsl\nvar CommonAttributeGroupFacade.key: String\n    get() = attributes[\"key\"] ?: \"\"\n    set(value) {\n        attributes[\"key\"] = value\n    }\n\n/**\n * Gets the \"debug-id\" attribute\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.debugId(): String? = attributes[\"debug-id\"]\n\n/**\n * Sets the \"debug-id\" attribute to [id]\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.debugId(id: String) {\n    (consumer as? VDomTagConsumer)\n        ?.takeIf { it.isDebugMode }\n        ?.let { attributes[\"debug-id\"] = id }\n}\n\n/**\n * Gets the \"data-[id]\" attribute\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.data(id: String): String? = attributes[\"data-$id\"]\n\n/**\n * Sets the \"data-[id]\" attribute to [value]\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.data(id: String, value: String) {\n    attributes[\"data-$id\"] = value\n}\n\n/**\n * Adds a child component to the current tag\n */\n@KraftDsl\ninline fun <P, reified C : Component<P>> Tag.comp(props: P, noinline component: (Ctx<P>) -> C): ComponentRef<C> {\n    return (this.consumer as VDomTagConsumer).onComponent(props, component, C::class)\n}\n\n/**\n * Adds a parameterless child component to the current tag\n */\n@KraftDsl\ninline fun <reified C : Component<Any?>> Tag.comp(noinline component: (NoProps) -> C): ComponentRef<C> {\n    return comp(null, component)\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.RouterComponent\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\n\n@Suppress(\"FunctionName\")\nfun Tag.AddonExamplesApp() = comp {\n    AddonExamplesApp(it)\n}\n\nclass AddonExamplesApp(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @Suppress(\"unused\")\n    private val activeRoute by subscribingTo(router.current)\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.container {\n\n            ui.basic.segment {\n                ui.header H1 { +\"K.R.A.F.T. addon examples\" }\n            }\n\n            ui.basic.segment {\n                RouterComponent(router = router)\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.noui\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.px\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\n\n@Suppress(\"FunctionName\")\nfun Tag.HomePage() = comp {\n    HomePage(it)\n}\n\nclass HomePage(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.four.link.cards {\n\n            noui.card A {\n                href = routes.chartJs()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://www.chartjs.org/img/chartjs-logo.svg\",\n                        alt = \"ChartJS Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"ChartJS\"\n                }\n            }\n\n            noui.card A {\n                href = routes.jwtDecode()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://user-images.githubusercontent.com/83319/31722733-de95bbde-b3ea-11e7-96bf-4f4e8f915588.png\",\n                        alt = \"JWT Decode Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"JWT Decode\"\n                }\n            }\n\n            noui.card A {\n                href = routes.konva()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://camo.githubusercontent.com/8ee88dda37d12638ee55035971e01ce818f0564584264cd9a688188846ce7e34/68747470733a2f2f6b6f6e76616a732e6f72672f616e64726f69642d6368726f6d652d313932783139322e706e67\",\n                        alt = \"Konva Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"Konva\"\n                }\n            }\n\n            noui.card A {\n                href = routes.marked()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://marked.js.org/img/logo-black.svg\",\n                        alt = \"Marked Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"Marked\"\n                }\n            }\n\n            noui.card A {\n                href = routes.prismjs()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://pbs.twimg.com/profile_images/2451426554/Screen_Shot_2012-07-31_at_21.57.03__400x400.png\",\n                        alt = \"PrismJs Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"PrismJs\"\n                }\n            }\n        }\n    }\n\n    private fun FlowContent.renderLogo(src: String, alt: String) {\n        ui.image Img {\n            css {\n                height = 100.px\n            }\n            this.src = src\n            this.alt = alt\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.chartjs\n\nimport de.peekandpoke.kraft.addons.chartjs.ChartJs\nimport de.peekandpoke.kraft.addons.chartjs.chartJsData\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.streams.addons.map\nimport de.peekandpoke.kraft.streams.addons.ticker\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.vh\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlin.math.PI\nimport kotlin.math.pow\nimport kotlin.math.sin\n\n@Suppress(\"FunctionName\")\nfun Tag.ChartJsExample() = comp {\n    ChartJsExample(it)\n}\n\nclass ChartJsExample(ctx: NoProps) : PureComponent(ctx) {\n\n    ////  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private val factor by subscribingTo(ticker(1000).map { 1.0 + sin(it * 10 * PI / 180.0) })\n\n    ////  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n\n            ui.header H2 { +\"Chart.js demos\" }\n\n            ui.two.cards {\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleBarChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Bar Chart\" }\n                        ui.meta {\n                            a(\n                                href = \"https://www.chartjs.org/docs/latest/samples/bar/vertical.html\",\n                                target = \"_blank\"\n                            ) {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleLineChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Line Chart\" }\n                        ui.meta {\n                            a(href = \"https://www.chartjs.org/docs/latest/samples/line/line.html\", target = \"_blank\") {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleDoughnutChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Doughnut Chart\" }\n                        ui.meta {\n                            a(\n                                href = \"https://www.chartjs.org/docs/latest/samples/other-charts/doughnut.html\",\n                                target = \"_blank\"\n                            ) {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private fun FlowContent.simpleBarChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"bar\"\n                data = jsObject {\n                    labels = arrayOf(\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\")\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"# of votes\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3).map { it * factor }.toTypedArray()\n                            color = value(\"#444\")\n                            backgroundColor = value(\n                                \"rgba(255, 99, 132, 0.2)\",\n                                \"rgba(54, 162, 235, 0.2)\",\n                                \"rgba(255, 206, 86, 0.2)\",\n                                \"rgba(75, 192, 192, 0.2)\",\n                                \"rgba(153, 102, 255, 0.2)\",\n                                \"rgba(255, 159, 64, 0.2)\",\n                            )\n                            borderColor = value(\n                                \"rgba(255, 99, 132, 1)\",\n                                \"rgba(54, 162, 235, 1)\",\n                                \"rgba(255, 206, 86, 1)\",\n                                \"rgba(75, 192, 192, 1)\",\n                                \"rgba(153, 102, 255, 1)\",\n                                \"rgba(255, 159, 64, 1)\",\n                            )\n                            borderWidth = value(1)\n                        }\n                    )\n                }\n\n                options = jsObject {\n                    scales = jsObject {\n                        yAxes = jsObject {\n                            ticks = jsObject {\n                                suggestedMin = 0\n                                suggestedMax = 40\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n\n    private fun FlowContent.simpleLineChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"line\"\n                data = jsObject {\n                    labels = numberLabels(6)\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"# of votes\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3).map { it * factor }.toTypedArray()\n                            color = value(\"#444\")\n                            backgroundColor = value(\"rgba(255, 99, 132, 0.2)\")\n                            borderColor = value(\"rgba(255, 99, 132, 1)\")\n                            borderWidth = value(3)\n                        }\n                    )\n                }\n\n                options = jsObject {\n                    scales = jsObject {\n                        yAxes = jsObject {\n                            ticks = jsObject {\n                                suggestedMin = 0\n                                suggestedMax = 40\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n\n    private fun FlowContent.simpleDoughnutChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"doughnut\"\n                data = jsObject {\n                    labels = numberLabels(6)\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"Dataset #1\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3)\n                                .mapIndexed { index, it -> it * (index + 1).toDouble().pow(factor) }\n                                .toTypedArray()\n                            backgroundColor = value(\n                                \"rgba(255, 99, 132, 0.2)\",\n                                \"rgba(54, 162, 235, 0.2)\",\n                                \"rgba(255, 206, 86, 0.2)\",\n                                \"rgba(75, 192, 192, 0.2)\",\n                                \"rgba(153, 102, 255, 0.2)\",\n                                \"rgba(255, 159, 64, 0.2)\",\n                            )\n                        }\n                    )\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.Router\nimport de.peekandpoke.kraft.addons.routing.router\nimport de.peekandpoke.kraft.vdom.preact.PreactVDomEngine\nimport kotlinx.browser.document\nimport org.w3c.dom.HTMLElement\n\nval routes = Routes()\n\nval router: Router = router {\n    mount(routes)\n}\n\nfun main() {\n    val mountPoint = document.getElementById(\"spa\") as HTMLElement\n\n    PreactVDomEngine(mountPoint) {\n        AddonExamplesApp()\n    }\n\n    router.resolveCurrentRoute()\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.RouterBuilder\nimport de.peekandpoke.kraft.addons.routing.Static\nimport de.peekandpoke.kraft.examples.jsaddons.chartjs.ChartJsExample\nimport de.peekandpoke.kraft.examples.jsaddons.jwtdecode.JwtDecodeExample\nimport de.peekandpoke.kraft.examples.jsaddons.konva.KonvaExample\nimport de.peekandpoke.kraft.examples.jsaddons.marked.MarkedExample\nimport de.peekandpoke.kraft.examples.jsaddons.prismjs.PrismJsExample\n\nclass Routes {\n\n    val home = Static(\"\")\n    val homeSlash = Static(\"/\")\n\n    val chartJs = Static(\"/example/chart-js\")\n    val jwtDecode = Static(\"/example/jwt-decode\")\n    val konva = Static(\"/example/konva\")\n    val marked = Static(\"/example/marked\")\n    val prismjs = Static(\"/example/prism-js\")\n\n}\n\nfun RouterBuilder.mount(routes: Routes) {\n    mount(routes.home) { HomePage() }\n    mount(routes.homeSlash) { HomePage() }\n\n    mount(routes.chartJs) { ChartJsExample() }\n    mount(routes.jwtDecode) { JwtDecodeExample() }\n    mount(routes.konva) { KonvaExample() }\n    mount(routes.marked) { MarkedExample() }\n    mount(routes.prismjs) { PrismJsExample() }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.jwtdecode\n\nimport de.peekandpoke.kraft.addons.semanticui.forms.UiTextArea\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.jsbridges.decodeJwt\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.pre\n\n@Suppress(\"FunctionName\")\nfun Tag.JwtDecodeExample() = comp {\n    JwtDecodeExample(it)\n}\n\nclass JwtDecodeExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var jwt by value(\n        \" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.cThIIoDvwdueQB468K5xDc5633seEFoqwxjF_xSJyQQ\"\n    )\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"jwt_decode\" }\n\n            ui.two.column.grid {\n                ui.column {\n                    ui.form {\n                        UiTextArea(jwt, { jwt = it }) {\n                            label(\"JWT\")\n                        }\n                    }\n                }\n                ui.column {\n                    pre {\n                        +JSON.stringify(decodeJwt(jwt))\n                    }\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.konva\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.pct\nimport kotlinx.css.vh\nimport kotlinx.css.width\nimport kotlinx.html.Tag\nimport kotlinx.html.div\n\n@Suppress(\"FunctionName\")\nfun Tag.KonvaExample() = comp {\n    KonvaExample(it)\n}\n\nclass KonvaExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.segment {\n            ui.header H2 { +\"Konva\" }\n\n            div {\n                css {\n                    width = 100.pct\n                    height = 50.vh\n                }\n                KonvaExampleStage()\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.marked\n\nimport de.peekandpoke.kraft.addons.marked.marked\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlinx.html.div\nimport kotlinx.html.unsafe\n\n@Suppress(\"FunctionName\")\nfun Tag.MarkedExample() = comp {\n    MarkedExample(it)\n}\n\nclass MarkedExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"Marked JS\" }\n\n            div {\n                a(href = \"https://www.npmjs.com/package/marked\", target = \"_blank\") {\n                    +\"https://www.npmjs.com/package/marked\"\n                }\n            }\n\n            ui.segment {\n                unsafe {\n                    +marked.parse(\n                        \"\"\"\n                            # Header 1                         \n                            ## Header 2                         \n                            ### Header 3                         \n                        \"\"\".trimIndent()\n                    )\n                }\n            }\n\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.prismjs\n\nimport de.peekandpoke.kraft.addons.prismjs.*\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.CopyToClipboard.Companion.copyToClipboard\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.InlineColor.Companion.inlineColor\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.LineNumbers.Companion.lineNumbers\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlinx.html.p\n\n@Suppress(\"FunctionName\")\nfun Tag.PrismJsExample() = comp {\n    PrismJsExample(it)\n}\n\nclass PrismJsExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.segment {\n            ui.header H2 { +\"PrismJs syntax highlighter\" }\n\n            ui.header H3 { +\"Plugin Examples\" }\n            pluginExamples()\n\n            ui.header H3 { +\"Language Examples\" }\n            languageExamples()\n        }\n    }\n\n    private fun FlowContent.pluginExamples() {\n        ui.header { +\"Line numbers\" }\n\n        p {\n            a(href = \"https://prismjs.com/plugins/line-numbers/\") {\n                +\"PrismJs docs\"\n            }\n        }\n\n        p { +\"Usage\" }\n        PrismKotlinScript(\n            \"\"\"\n                PrismKotlin(\"... code ...\") {\n                    lineNumbers(\n                        // line number of the first line, default = 1\n                        start = -5,\n                        // should soft wraps be used, default = false\n                        softWrap = true,\n                    )\n                }            \n            \"\"\".trimIndent()\n        )\n\n        PrismHtml(getPluginExampleHtmlCode()) {\n            lineNumbers(start = -5, softWrap = true)\n        }\n    }\n\n    private fun FlowContent.languageExamples() {\n\n        val configure: PrismOptsBuilder = {\n            inlineColor()\n            lineNumbers()\n            copyToClipboard()\n        }\n\n        ui.header { +\"atom\" }\n        PrismAtom(\n            \"\"\"\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"clike\" }\n        PrismCLike(\n            \"\"\"\n                #include <stdio.h>\n                int main() {\n                    printf(\"Hello, World!\");\n                    return 0;\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"css\" }\n        PrismCss(\n            \"\"\"\n                /* All in red */\n                body {\n                    color: #FF0000;\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"dart\" }\n        PrismDart(\n            \"\"\"\n                /* Hello world from dart */\n                void main() {\n                    print('Hello, World!');\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"html\" }\n        PrismHtml(\n            \"\"\"\n                <!-- Hello world from html -->\n                <div>\n                    Hello, World!\n                </div>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"kotlin\" }\n        PrismKotlin(\n            \"\"\"\n                /** Hello world from kotlin */\n                fun main() {\n                    println(\"Hello, World!\")\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"java\" }\n        PrismJava(\n            \"\"\"\n                /** Hello world from java */\n                class HelloWorld {\n                    public static void main(String[] args) {\n                        System.out.println(\"Hello, World!\"); \n                    }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"javascript\" }\n        PrismJavascript(\n            \"\"\"\n                /** Hello world from javascript */\n                function helloWorld() {\n                    alert( 'Hello, world!' );\n                }\n                \n                helloWorld();\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"json\" }\n        PrismJson(\n            \"\"\"\n                {\n                    \"json\": \"Hello, World!\"                        \n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"json5\" }\n        PrismJson5(\n            \"\"\"\n                {\n                  // comments\n                  unquoted: 'and you can quote me on that',\n                  singleQuotes: 'I can use \"double quotes\" here',\n                  lineBreaks: \"Look, Mom! \\\n                      No \\\\n's!\",\n                  hexadecimal: 0xdecaf,\n                  leadingDecimalPoint: .8675309, andTrailing: 8675309.,\n                  positiveSign: +1,\n                  trailingComma: 'in objects', andIn: ['arrays',],\n                  \"backwardsCompatible\": \"with JSON\",\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"jsonp\" }\n        PrismJsonp(\n            \"\"\"\n                myFunc(\n                    '{ \"name\":\"John\", \"age\":30, \"city\":\"New York\" }'\n                );\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"less\" }\n        PrismLess(\n            \"\"\"\n                @header-color: #FFAA88;\n                \n                #header {\n                  color: @header-color;\n                  .navigation {\n                    font-size: 12px;\n                  }\n                  .logo {\n                    width: 300px;\n                  }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"markup\" }\n        PrismMarkup(\n            \"\"\"\n                <!-- Hello world from markup -->\n                <div>\n                    Hello, World!\n                </div>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"php\" }\n        PrismPhp(\n            \"\"\"\n                <?php\n                    // Hello world from PHP\n                    phpinfo(); \n                \n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"plain\" }\n        PrismPlain(\n            \"\"\"\n                This is just a plain text.\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"regex\" }\n        PrismRegex(\n            \"\"\"\n                [-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"ruby\" }\n        PrismRuby(\n            \"\"\"\n                # Hello world from ruby\n                puts 'Hello, world!'\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"rust\" }\n        PrismRust(\n            \"\"\"\n                // This is the main function\n                fn main() {\n                    // Statements here are executed when the compiled binary is called\n\n                    // Print text to the console\n                    println!(\"Hello World!\");\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"rss\" }\n        PrismRss(\n            \"\"\"\n                <?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n                <rss version=\"2.0\">\n                  <channel>\n                    <title>W3Schools Home Page</title>\n                    <link>https://www.w3schools.com</link>\n                    <description>Free web building tutorials</description>\n                    <item>\n                      <title>RSS Tutorial</title>\n                      <link>https://www.w3schools.com/xml/xml_rss.asp</link>\n                      <description>New RSS tutorial on W3Schools</description>\n                    </item>\n                    <item>\n                      <title>XML Tutorial</title>\n                      <link>https://www.w3schools.com/xml</link>\n                      <description>New XML tutorial on W3Schools</description>\n                    </item>\n                  </channel>\n                </rss>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"sass\" }\n        PrismSass(\n            \"\"\"\n                ${\"$\"}font-stack: Helvetica, sans-serif\n                ${\"$\"}primary-color: #333\n                \n                body                      \n                  div                      \n                    font: 100% ${'$'}font-stack\n                    color: ${'$'}primary-color\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"scss\" }\n        PrismScss(\n            \"\"\"\n                ${\"$\"}font-stack: Helvetica, sans-serif;\n                ${\"$\"}primary-color: #333;\n                \n                body {\n                  div {                      \n                    font: 100% ${'$'}font-stack;\n                    color: ${'$'}primary-color;\n                  }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"ssml\" }\n        PrismSsml(\n            \"\"\"\n                <speak>\n                  Here are <say-as interpret-as=\"characters\">SSML</say-as> samples.\n                  I can pause <break time=\"3s\"/>.\n                  I can play a sound\n                  <audio src=\"https://www.example.com/MY_MP3_FILE.mp3\">didn't get your MP3 audio file</audio>.\n                  I can speak in cardinals. Your number is <say-as interpret-as=\"cardinal\">10</say-as>.\n                  Or I can speak in ordinals. You are <say-as interpret-as=\"ordinal\">10</say-as> in line.\n                  Or I can even speak in digits. The digits for ten are <say-as interpret-as=\"characters\">10</say-as>.\n                  I can also substitute phrases, like the <sub alias=\"World Wide Web Consortium\">W3C</sub>.\n                  Finally, I can speak a paragraph with two sentences.\n                  <p><s>This is sentence one.</s><s>This is sentence two.</s></p>\n                </speak>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"svg\" }\n        PrismSvg(\n            \"\"\"\n                <svg width=\"400\" height=\"180\">\n                  <rect x=\"50\" y=\"20\" rx=\"20\" ry=\"20\" width=\"150\" height=\"150\" style=\"fill:red;stroke:black;stroke-width:5;opacity:0.5\" />\n                  Sorry, your browser does not support inline SVG.\n                </svg>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"text\" }\n        PrismText(\n            \"\"\"\n                This is just a plain text.\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"typescript\" }\n        PrismTypescript(\n            \"\"\"\n                let message: string = 'Hello, World!';\n                // create a new heading 1 element\n                let heading = document.createElement('h1');\n                heading.textContent = message;\n                // add the heading the document\n                document.body.appendChild(heading);\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"xml\" }\n        PrismXml(\n            \"\"\"\n                <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n                <text>\n                  <para>hello world</para>\n                </text>\n            \"\"\".trimIndent(),\n            configure,\n        )\n    }\n\n    private fun getPluginExampleHtmlCode(): String = \"\"\"\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n\n        <meta charset=\"utf-8\" />\n        <link rel=\"icon\" href=\"assets/favicon.png\" />\n        <title>Line Numbers ▲ Prism plugins</title>\n        <base href=\"../..\" />\n        <link rel=\"stylesheet\" href=\"assets/style.css\" />\n        <link rel=\"stylesheet\" href=\"themes/prism.css\" data-noprefix />\n        <link rel=\"stylesheet\" href=\"plugins/line-numbers/prism-line-numbers.css\" data-noprefix />\n        <script src=\"assets/vendor/prefixfree.min.js\"></script>\n\n        <script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>\n        <script src=\"https://www.google-analytics.com/ga.js\" async></script>\n        </head>\n        <body class=\"language-none\">\n\n        <header data-plugin-header=\"line-numbers\"></header>\n\n        <section class=\"language-markup\">\n          <h1>How to use</h1>\n\n          <p>Obviously, this is supposed to work only for code blocks (<code>&lt;pre>&lt;code></code>) and not for inline code.</p>\n          <p>Add the <code>line-numbers</code> class to your desired <code>&lt;pre></code> or any of its ancestors, and the Line Numbers plugin will take care of the rest. To give all code blocks line numbers, add the <code>line-numbers</code> class to the <code>&lt;body></code> of the page. This is part of a general activation mechanism where adding the <code>line-numbers</code> (or <code>no-line-numbers</code>) class to any element will enable (or disable) the Line Numbers plugin for all code blocks in that element. <br> Example:</p>\n\n          <pre><code>&lt;body class=\"line-numbers\"> &lt;!-- enabled for the whole page -->\n\n            &lt;!-- with line numbers -->\n            &lt;pre>&lt;code>...&lt;/code>&lt;/pre>\n            &lt;!-- disabled for a specific element - without line numbers -->\n            &lt;pre class=\"no-line-numbers\">&lt;code>...&lt;/code>&lt;/pre>\n\n            &lt;div class=\"no-line-numbers\"> &lt;!-- disabled for this subtree -->\n\n                &lt;!-- without line numbers -->\n                &lt;pre>&lt;code>...&lt;/code>&lt;/pre>\n                &lt;!-- enabled for a specific element - with line numbers -->\n                &lt;pre class=\"line-numbers\">&lt;code>...&lt;/code>&lt;/pre>\n\n            &lt;/div>\n        &lt;/body></code></pre>\n\n          <p>Optional: You can specify the <code>data-start</code> (Number) attribute on the <code>&lt;pre></code> element. It will shift the line counter.</p>\n          <p>Optional: To support multiline line numbers using soft wrap, apply the CSS <code>white-space: pre-line;</code> or <code>white-space: pre-wrap;</code> to your desired <code>&lt;pre></code>.</p>\n        </section>\n\n        <section class=\"line-numbers\">\n          <h1>Examples</h1>\n\n          <h2>JavaScript</h2>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/prism-line-numbers.js\"></pre>\n\n          <h2>CSS</h2>\n          <p>Please note that this <code class=\"language-markup\">&lt;pre></code> does not have the <code>line-numbers</code> class but its parent does.</p>\n          <pre data-src=\"plugins/line-numbers/prism-line-numbers.css\"></pre>\n\n          <h2>HTML</h2>\n          <p>Please note the <code>data-start=\"-5\"</code> in the code below.</p>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/index.html\" data-start=\"-5\"></pre>\n\n          <h2>Unknown languages</h2>\n          <pre class=\"language-none line-numbers\"><code>This raw text\n        is not highlighted\n        but it still has\n        line numbers</code></pre>\n\n          <h2>Soft wrap support</h2>\n          <p>Please note the <code>style=\"white-space:pre-wrap;\"</code> in the code below.</p>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/index.html\" data-start=\"-5\" style=\"white-space:pre-wrap;\"></pre>\n\n        </section>\n\n        <footer data-src=\"assets/templates/footer.html\" data-type=\"text/html\"></footer>\n\n        <script src=\"prism.js\"></script>\n        <script src=\"plugins/line-numbers/prism-line-numbers.js\"></script>\n        <script src=\"assets/vendor/utopia.js\"></script>\n        <script src=\"components.js\"></script>\n        <script src=\"assets/code.js\"></script>\n\n        </body>\n        </html>\n    \"\"\".trimIndent()\n}\n","package de.peekandpoke.kraft.examples.jsaddons.konva\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.key\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport konva.Circle\nimport konva.Layer\nimport konva.LayerConfig\nimport konva.Stage\nimport kotlinx.css.height\nimport kotlinx.css.pct\nimport kotlinx.css.width\nimport kotlinx.html.Tag\nimport kotlinx.html.div\nimport kotlin.math.max\n\n@Suppress(\"FunctionName\")\nfun Tag.KonvaExampleStage() = comp {\n    KonvaExampleStage(it)\n}\n\nclass KonvaExampleStage(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun onMount() {\n        dom?.let { d ->\n\n            val clientWidth = d.clientWidth\n            val clientHeight = d.clientHeight\n\n            val stage = Stage(\n                jsObject {\n                    container = d\n                    width = clientWidth\n                    height = clientHeight\n                }\n            )\n\n            var viewScale = 1.0\n\n            val layer = Layer(\n                jsObject<LayerConfig> {\n                    listening = true\n                    x = (clientWidth / 2)\n                    y = (clientHeight / 2)\n                }\n            )\n            stage.add(layer)\n\n            layer.add(\n                Circle(\n                    jsObject {\n                        id = \"circle\"\n                        x = 0\n                        y = 0\n                        radius = 200\n                        fill = \"#FFAAAA\"\n                        stroke = \"#888888\"\n                        strokeWidth = 1\n                    }\n                )\n            )\n\n            stage.on(\"wheel\") { event ->\n                viewScale = max(0.1, viewScale + (event.evt.asDynamic().wheelDelta as Double / 2000.0))\n                layer.scaleX(viewScale)\n                layer.scaleY(viewScale)\n            }\n        }\n    }\n\n    override fun VDom.render() {\n        div {\n            key = \"stage\"\n\n            css {\n                width = 100.pct\n                height = 100.pct\n            }\n        }\n    }\n}\n","@file:Suppress(\"FunctionName\", \"NOTHING_TO_INLINE\")\n\npackage de.peekandpoke.kraft.addons.prismjs\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.utils.launch\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.document\nimport kotlinx.dom.clear\nimport kotlinx.html.Tag\nimport kotlinx.html.code\nimport kotlinx.html.div\nimport kotlinx.html.pre\nimport org.intellij.lang.annotations.Language\nimport org.w3c.dom.HTMLElement\nimport org.w3c.dom.HTMLPreElement\n\ntypealias PrismOptsBuilder = Prism.OptionsBuilder.() -> Unit\n\nfun Tag.Prism(language: String, code: String, options: PrismOptsBuilder) = comp(\n    Prism.Props(\n        language = language,\n        code = code,\n        options = Prism.OptionsBuilder().apply(options).build()\n    )\n) { Prism(it) }\n\ninline fun Tag.PrismAtom(@Language(\"atom\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"atom\", code = code, options = options)\n\ninline fun Tag.PrismCLike(@Language(\"c\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"clike\", code = code, options = options)\n\ninline fun Tag.PrismCss(@Language(\"css\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"css\", code = code, options = options)\n\ninline fun Tag.PrismDart(@Language(\"dart\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"dart\", code = code, options = options)\n\ninline fun Tag.PrismHtml(@Language(\"html\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"html\", code = code, options = options)\n\ninline fun Tag.PrismKotlin(@Language(\"kotlin\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"kotlin\", code = code, options = options)\n\ninline fun Tag.PrismKotlinScript(@Language(\"kts\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"kts\", code = code, options = options)\n\ninline fun Tag.PrismJava(@Language(\"java\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"java\", code = code, options = options)\n\ninline fun Tag.PrismJavascript(@Language(\"javascript\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"javascript\", code = code, options = options)\n\ninline fun Tag.PrismJson(@Language(\"json\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"json\", code = code, options = options)\n\ninline fun Tag.PrismJson5(@Language(\"json5\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"json5\", code = code, options = options)\n\ninline fun Tag.PrismJsonp(@Language(\"jsonp\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"jsonp\", code = code, options = options)\n\ninline fun Tag.PrismLess(@Language(\"less\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"less\", code = code, options = options)\n\ninline fun Tag.PrismMarkup(@Language(\"markup\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"markup\", code = code, options = options)\n\ninline fun Tag.PrismPhp(@Language(\"php\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"php\", code = code, options = options)\n\ninline fun Tag.PrismPlain(code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"plain\", code = code, options = options)\n\ninline fun Tag.PrismRegex(@Language(\"regex\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"regex\", code = code, options = options)\n\ninline fun Tag.PrismRuby(@Language(\"ruby\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"ruby\", code = code, options = options)\n\ninline fun Tag.PrismRust(@Language(\"rust\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"rust\", code = code, options = options)\n\ninline fun Tag.PrismRss(@Language(\"rss\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"rss\", code = code, options = options)\n\ninline fun Tag.PrismSass(@Language(\"sass\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"sass\", code = code, options = options)\n\ninline fun Tag.PrismScss(@Language(\"scss\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"scss\", code = code, options = options)\n\ninline fun Tag.PrismSsml(@Language(\"ssml\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"ssml\", code = code, options = options)\n\ninline fun Tag.PrismSvg(@Language(\"svg\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"svg\", code = code, options = options)\n\ninline fun Tag.PrismText(code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"text\", code = code, options = options)\n\ninline fun Tag.PrismTypescript(@Language(\"typescript\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"typescript\", code = code, options = options)\n\ninline fun Tag.PrismXml(@Language(\"xml\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"xml\", code = code, options = options)\n\nclass Prism(ctx: Ctx<Props>) : Component<Prism.Props>(ctx) {\n\n    //  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    data class Props(\n        val language: String,\n        val code: String,\n        val options: Options,\n    )\n\n    data class Options(\n        val plugins: List<PrismPlugin>,\n    )\n\n    class OptionsBuilder internal constructor() {\n        private val plugins = mutableListOf<PrismPlugin>()\n\n        internal fun build() = Options(\n            plugins = plugins,\n        )\n\n        fun usePlugin(plugin: PrismPlugin) {\n            plugins.add(plugin)\n        }\n    }\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    init {\n        launch {\n            prismJsInternals.styles.loadDefaultTheme()\n\n            props.options.plugins.forEach { it.load() }\n\n            prismJsInternals.languages.load(props.language)\n\n            createContent()\n        }\n    }\n\n    private fun createContent() {\n\n        dom?.let { d ->\n            val pre = (document.createElement(\"pre\") as HTMLPreElement).also { pre ->\n\n                pre.className = \"language-${props.language} copy-to-clipboard\"\n\n                props.options.plugins.forEach { it.applyTo(pre) }\n\n                (document.createElement(\"code\") as HTMLElement).also { code ->\n\n                    val text = document.createTextNode(props.code)\n\n                    code.append(text)\n                    pre.append(code)\n                }\n            }\n\n            d.clear()\n            d.append(pre)\n\n            PrismJsDefinition.highlightAllUnder(d)\n        }\n    }\n\n    override fun VDom.render() {\n        // Initially we create a placeholder which is filled by [createContent]\n        div(\"prism\") {\n\n        pre(\"language-${props.language}\") {\n                code {\n                    +props.code\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.canvas\nimport kotlinx.html.style\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.HTMLCanvasElement\n\n@Suppress(\"FunctionName\")\nfun Tag.ChartJs(\n    data: ChartConfig\n) = comp(\n    ChartJsComponent.Props(data = data)\n) {\n    ChartJsComponent(it)\n}\n\nclass ChartJsComponent(ctx: Ctx<Props>) : Component<ChartJsComponent.Props>(ctx) {\n\n    ////  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    data class Props(\n        val data: ChartConfig\n    )\n\n    ////  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var chart: Chart? = null\n\n    ////  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    init {\n        ChartJsUtils.registerAllModules()\n    }\n\n    override fun onMount() {\n        super.onMount()\n\n        val canvas = dom as HTMLCanvasElement\n\n//        console.log(\"chart-data\", props.data)\n\n        chart = Chart(\n            ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D,\n            data = props.data,\n        )\n\n//        console.log(chart)\n    }\n\n    override fun shouldRedraw(nextProps: Props): Boolean {\n\n//        return super.shouldRedraw(nextProps)\n\n        chart?.let { c ->\n\n            try {\n//                console.log(Chart)\n//                console.log(Object.getOwnPropertyNames(Chart))\n\n                // Update the options\n                c.options = nextProps.data.options\n\n                // Merge data sets\n                val currentData = c.data.datasets\n                val nextData = nextProps.data.data.datasets\n\n                nextData.forEachIndexed { sid, dataset ->\n\n                    val current = currentData.getOrNull(sid)\n\n                    if (current != null) {\n                        current.data = dataset.data\n                    } else {\n                        currentData[sid].data = dataset.data\n                    }\n                }\n\n                c.update()\n\n            } catch (e: Throwable) {\n                console.error(\"Updating the chart failed\")\n                console.error(e)\n            }\n        }\n\n        return super.shouldRedraw(nextProps)\n    }\n\n    override fun onUnmount() {\n        chart?.destroy()\n        chart = null\n    }\n\n    override fun VDom.render() {\n\n        canvas {\n            style = \"width: 100%; height: 100%;\"\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nimport kotlinx.css.Color\n\n@Suppress(\"unused\")\ninterface SingleOrArray<T>\n\ntypealias StringOrArray = SingleOrArray<String>\n\ntypealias NumberOrArray = SingleOrArray<Number>\n\nfun chartJsData(builder: ChartJsDataBuilder.() -> ChartConfig): ChartConfig {\n    return ChartJsDataBuilder().builder()\n}\n\nclass ChartJsDataBuilder {\n\n    val colors = arrayOf(\n        \"#4dc9f6\",\n        \"#f67019\",\n        \"#f53794\",\n        \"#537bc4\",\n        \"#acc236\",\n        \"#166a8f\",\n        \"#00a950\",\n        \"#58595b\",\n        \"#8549ba\"\n    )\n\n    private var nextColorIdx = 0\n\n    fun nextColor() = Color(colors[nextColorIdx]).also {\n        nextColorIdx = (nextColorIdx + 1) % colors.size\n    }\n\n    fun <T> value(value: T) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun <T> value(value: Array<T>) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun <T> value(vararg value: T) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun numberLabels(count: Int): Array<String> = ChartJsUtils.numberLabels(count)\n\n    fun numberLabels(range: IntRange): Array<String> = ChartJsUtils.numberLabels(range)\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nobject ChartJsUtils {\n\n    private var alreadyRegistered = false\n\n    fun registerAllModules() {\n        if (!alreadyRegistered) {\n            alreadyRegistered = true\n            console.log(\"Chart.register\", Chart.Companion::register)\n            console.log(\"registerables\", registerables)\n            Chart.register(*registerables)\n        }\n    }\n\n    fun numberLabels(count: Int): Array<String> = numberLabels(1..count)\n\n    fun numberLabels(range: IntRange) = range.map { it.toString() }.toTypedArray()\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.addons.forms.validation.Rule\nimport de.peekandpoke.kraft.semanticui.RenderFunc\nimport de.peekandpoke.ultra.common.MutableTypedAttributes\nimport de.peekandpoke.ultra.common.TypedKey\nimport kotlinx.html.InputType\nimport kotlinx.html.LABEL\n\ntypealias SettingsBuilder<T> = FieldOptions<T>.() -> Unit\n\ninterface FieldOptions<T> {\n    companion object {\n        operator fun <T> invoke(): FieldOptions<T> = Base()\n\n        private val labelKey = TypedKey<RenderFunc<LABEL>>(\"label\")\n        private val placeholderKey = TypedKey<String>(\"placeholder\")\n        private val nameKey = TypedKey<String>(\"name\")\n    }\n\n    open class Base<T> : FieldOptions<T> {\n\n        override val attributes: MutableTypedAttributes = MutableTypedAttributes.empty()\n\n        @KraftFormsSettingDsl\n        override val rules: MutableList<Rule<T>> = mutableListOf()\n\n        /** Adds a validation rule */\n        @KraftFormsSettingDsl\n        override fun accepts(vararg rules: Rule<T>) {\n            this.rules.addAll(rules)\n        }\n\n        @KraftFormsSettingDsl\n        override fun label(label: String) {\n            label { +label }\n        }\n    }\n\n    class Access<T, X>(private val settings: FieldOptions<T>, private val key: TypedKey<X>) {\n\n        @KraftFormsSettingDsl\n        operator fun invoke(value: X) {\n            settings.set(key, value)\n        }\n\n        @KraftFormsSettingDsl\n        operator fun invoke(): X? {\n            return settings.get(key)\n        }\n\n        @KraftFormsSettingDsl\n        fun getOrDefault(default: X): X {\n            return invoke() ?: default\n        }\n\n        @KraftFormsSettingDsl\n        fun getOrPut(produce: () -> X): X {\n            return settings.getOrPut(key, produce)\n        }\n    }\n\n    val attributes: MutableTypedAttributes\n\n    @KraftFormsSettingDsl\n    val rules: List<Rule<T>>\n\n    @KraftFormsSettingDsl\n    val label get() = access(labelKey)\n\n    @KraftFormsSettingDsl\n    val placeholder get() = access(placeholderKey)\n\n    @KraftFormsSettingDsl\n    val name get() = access(nameKey)\n\n    /** Adds a validation rule */\n    @KraftFormsSettingDsl\n    fun accepts(vararg rules: Rule<T>)\n\n    @KraftFormsSettingDsl\n    fun label(label: String)\n\n    private fun <X> set(key: TypedKey<X>, value: X) {\n        attributes[key] = value\n    }\n\n    private fun <X> get(key: TypedKey<X>): X? {\n        return attributes[key]\n    }\n\n    private fun <X> getOrPut(key: TypedKey<X>, produce: () -> X): X {\n        return attributes.getOrPut(key, produce)\n    }\n\n    fun <X> access(key: TypedKey<X>) = Access(this, key)\n}\n\ninterface CheckboxOptions<T> : FieldOptions<T> {\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n}\n\ninterface InputOptions<T> : FieldOptions<T> {\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n        private val stepKey = TypedKey<Number>(\"step\")\n        private val typeKey = TypedKey<InputType>(\"type\")\n        private val formatValueKey = TypedKey<String>(\"format-value\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    val formatValue get() = access(formatValueKey)\n\n    @KraftFormsSettingDsl\n    val step get() = access(stepKey)\n\n    @KraftFormsSettingDsl\n    val type get() = access(typeKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n\n    @KraftFormsSettingDsl\n    fun asDateInput() {\n        type(InputType.date)\n        formatValue(\"yyyy-MM-dd\")\n    }\n\n    @KraftFormsSettingDsl\n    fun asDateTimeInput() {\n        type(InputType.dateTimeLocal)\n        formatValue(\"yyyy-MM-ddTHH:mm:ss\")\n    }\n\n    @KraftFormsSettingDsl\n    fun asTimeInput() {\n        type(InputType.time)\n        formatValue(\"HH:mm:ss\")\n    }\n}\n\ninterface TextAreaOptions<T> : FieldOptions<T> {\n\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n        private val verticalAutoResizeKey = TypedKey<Boolean>(\"verticalAutoResize\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    val verticalAutoResize get() = access(verticalAutoResizeKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.utils.decodeURIComponent\nimport de.peekandpoke.kraft.utils.encodeURIComponent\n\n/**\n * Common Route representation\n */\ninterface Route {\n\n    /**\n     * Represents a route match\n     */\n    data class Match(\n        val route: Route,\n        /** Route params extract from url placeholder */\n        val routeParams: Map<String, String>,\n        /** Query params after like ?p=1&t=2 */\n        val queryParams: Map<String, String>,\n    ) {\n        companion object {\n            val default = Match(route = Route.default, routeParams = emptyMap(), queryParams = emptyMap())\n        }\n\n        /** Shortcut to the pattern of the [route] */\n        val pattern = route.pattern\n\n        /** Combination of route and query params */\n        val allParams = routeParams.plus(queryParams)\n\n        /** Gets the route param with the given [key] / name */\n        operator fun get(key: String) = param(key)\n\n        /** Gets the route param with the given [name] or defaults to [default] */\n        fun param(name: String, default: String = \"\"): String = routeParams[name] ?: default\n\n        /** Returns a new instance with the query params set */\n        fun withQueryParams(params: Map<String, String?>): Match {\n            @Suppress(\"UNCHECKED_CAST\")\n            return copy(\n                queryParams = params.filterValues { v -> v != null } as Map<String, String>\n            )\n        }\n\n        /** Returns a new instance with the query params set */\n        fun withQueryParams(vararg params: Pair<String, String?>): Match = withQueryParams(params.toMap())\n    }\n\n    companion object {\n        /** Basic default route */\n        val default = Static(\"\")\n    }\n\n    /** The pattern of the route */\n    val pattern: String\n\n    /**\n     * Matches the given [uri] against the [pattern] of the route.\n     *\n     * Returns an instance of [Match] or null if the pattern did not match.\n     */\n    fun match(uri: String): Match?\n\n    /**\n     * Internal helper for building uris\n     */\n    fun String.replacePlaceholder(placeholder: String, value: String) =\n        replace(\"{$placeholder}\", encodeURIComponent(value))\n\n    /**\n     * Builds a uri with the given [routeParams]\n     */\n    fun buildUri(vararg routeParams: String): String\n\n    /**\n     * Builds a uri with the given [routeParams] and [queryParams]\n     */\n    fun buildUri(routeParams: Map<String, String>, queryParams: Map<String, String>): String\n}\n\n/**\n * A parameterized route with one route parameter\n */\nabstract class RouteBase(final override val pattern: String, numParams: Int) : Route {\n\n    companion object {\n        @Suppress(\"RegExpRedundantEscape\")\n        val placeholderRegex = \"\\\\{([^}]*)\\\\}\".toRegex()\n        const val extractRegexPattern = \"([^/]*)\"\n    }\n\n    /**\n     * We extract all placeholders from the pattern\n     */\n    private val placeholders = placeholderRegex\n        .findAll(pattern)\n        .map { it.groupValues[1] }\n        .toList()\n\n    /**\n     * We construct a regex for matching the whole pattern with param placeholders\n     */\n    private val matchingRegex =\n        placeholders.fold(pattern) { acc, placeholder ->\n            acc.replace(\"{$placeholder}\", extractRegexPattern)\n        }.replace(\"/\", \"\\\\/\").toRegex()\n\n\n    init {\n        // Sanity check\n        if (numParams != placeholders.size) {\n            error(\"The route '$pattern' has [${placeholders.size}] route-params but should have [$numParams]\")\n        }\n    }\n\n    /**\n     * Tries to match the given [uri] against the [pattern] of the route.\n     */\n    override fun match(uri: String): Route.Match? {\n\n        val (route, query) = when (val queryIdx = uri.indexOf(\"?\")) {\n            -1 -> arrayOf(uri, \"\")\n            else -> arrayOf(uri.substring(0, queryIdx), uri.substring(queryIdx + 1))\n        }\n\n        val match = matchingRegex.matchEntire(route) ?: return null\n\n//        console.log(placeholders)\n//        console.log(match)\n//        console.log(match.groupValues)\n\n        val routeParams = placeholders\n            .zip(match.groupValues.drop(1).map(::decodeURIComponent))\n            .toMap()\n\n        val queryParams = when (query.isEmpty()) {\n            true -> emptyMap()\n            else -> query.split(\"&\").associate {\n                when (val equalsIdx = it.indexOf(\"=\")) {\n                    -1 -> Pair(it, \"\")\n                    else -> Pair(\n                        it.substring(0, equalsIdx),\n                        decodeURIComponent(it.substring(equalsIdx + 1)),\n                    )\n                }\n            }\n        }\n\n        return Route.Match(route = this, routeParams = routeParams, queryParams = queryParams)\n    }\n\n    /**\n     * Builds a uri with the given [routeParams]\n     */\n    override fun buildUri(vararg routeParams: String): String =\n        routeParams.foldIndexed(\"#$pattern\") { idx, pattern, param ->\n            pattern.replacePlaceholder(placeholders[idx], param)\n        }\n\n    /**\n     * Builds a uri with the given [routeParams] and [queryParams]\n     */\n    override fun buildUri(routeParams: Map<String, String>, queryParams: Map<String, String>): String {\n\n        val withoutQuery = routeParams.entries.fold(\"#$pattern\") { pattern, entry ->\n            pattern.replacePlaceholder(entry.key, entry.value)\n        }\n\n        return when (queryParams.isEmpty()) {\n            true -> withoutQuery\n            else -> \"$withoutQuery?\" + queryParams\n                .map { \"${it.key}=${encodeURIComponent(it.value)}\" }.joinToString(\"&\")\n        }\n    }\n}\n\n\n/**\n * A static route is a route that does not have any route parameters\n */\nopen class Static(pattern: String) : RouteBase(pattern, 0) {\n    operator fun invoke() = buildUri()\n}\n\n/**\n * A parameterized route with one route parameter\n */\nopen class Route1(pattern: String) : RouteBase(pattern, 1) {\n    fun build(p1: String) = buildUri(p1)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route2(pattern: String) : RouteBase(pattern, 2) {\n    fun build(p1: String, p2: String) = buildUri(p1, p2)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route3(pattern: String) : RouteBase(pattern, 3) {\n    fun build(p1: String, p2: String, p3: String) = buildUri(p1, p2, p3)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route4(pattern: String) : RouteBase(pattern, 4) {\n    fun build(p1: String, p2: String, p3: String, p4: String) = buildUri(p1, p2, p3, p4)\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.onClick\nimport de.peekandpoke.kraft.messages.sendMessage\nimport de.peekandpoke.kraft.semanticui.noui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.*\nimport org.w3c.dom.HTMLElement\nimport org.w3c.dom.events.MouseEvent\n\n@Suppress(\"FunctionName\")\nfun <T> Tag.GenericFormField(\n    value: T,\n    onChange: (T) -> Unit,\n    options: FieldOptions<T>,\n) = comp(\n    GenericFormField.DefaultProps(\n        value = value,\n        onChange = onChange,\n        options = options,\n    )\n) {\n    GenericFormField(it)\n}\n\nopen class GenericFormField<T, O : FieldOptions<T>, P : GenericFormField.Props<T, O>>(ctx: Ctx<P>) :\n    Component<P>(ctx),\n    FormField<T> {\n\n    //  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    interface Props<T, O : FieldOptions<T>> {\n        val value: T\n        val onChange: (T) -> Unit\n        val options: O\n    }\n\n    data class DefaultProps<T, O : FieldOptions<T>>(\n        override val value: T,\n        override val onChange: (T) -> Unit,\n        override val options: O,\n    ) : Props<T, O>\n\n    val options: O get() = props.options\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    class InputValue<T>(val value: T)\n\n    override var touched by value(false)\n\n    override var errors: List<String> by value(emptyList())\n\n    private var inputValue: InputValue<T>? = null\n\n    val currentValue\n        get() = when (val input = inputValue) {\n            null -> props.value\n            else -> input.value\n        }\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun touch() {\n        touched = true\n    }\n\n    override fun untouch() {\n        touched = false\n    }\n\n    override fun validate(): Boolean {\n\n        if (touched) {\n            errors = props.options.rules\n                .filter { !it.check(currentValue) }\n                .map { it.getMessage(currentValue) }\n        }\n\n        return errors.isEmpty()\n    }\n\n    override fun onMount() {\n        sendMessage(FormFieldMountedMessage(this))\n    }\n\n    override fun onUnmount() {\n        sendMessage(FormFieldUnmountedMessage(this))\n    }\n\n    override fun VDom.render() {\n    }\n\n    fun focus(cssSelector: String) {\n        (dom?.querySelector(cssSelector) as? HTMLElement)?.focus()\n    }\n\n    fun setValue(value: T) {\n        touch()\n\n        inputValue = InputValue(value)\n\n        if (validate()) {\n            props.onChange(currentValue)\n        }\n    }\n\n    // Label Helpers\n\n    fun FlowContent.renderLabel(focusCssSelector: String? = null) {\n\n        renderLabel(\n            onClick = focusCssSelector?.let { sel ->\n                { focus(sel) }\n            }\n        )\n    }\n\n    fun FlowContent.renderLabel(onClick: ((evt: MouseEvent) -> Unit)? = null) {\n        options.label()?.let { l ->\n            noui Label {\n                l()\n\n                onClick?.let { on ->\n                    onClick { evt ->\n                        on(evt)\n                    }\n                }\n            }\n        }\n    }\n}\n","@file:Suppress(\"Detekt.TooManyFunctions\", \"unused\", \"UnsafeCastFromDynamic\")\n\npackage de.peekandpoke.kraft.components\n\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.js.*\nimport org.w3c.dom.events.*\n\n/**\n * Adds an onAnimationEnd handler.\n *\n * The event is raised when a css animation ends.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/animationend_event\n */\nfun CommonAttributeGroupFacade.onAnimationEnd(handler: (Event) -> Unit) {\n    consumer.onTagEvent(this, \"onanimationend\", handler.asDynamic())\n}\n\n/**\n * Adds an onBlur handler.\n *\n * This event does NOT bubble while [onFocusOut] does.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/blur_event\n */\nfun CommonAttributeGroupFacade.onBlur(handler: (Event) -> Unit) {\n    onBlurFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onChange handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/change_event\n */\nfun CommonAttributeGroupFacade.onChange(handler: (Event) -> Unit) {\n    onChangeFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onClick handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event\n */\nfun CommonAttributeGroupFacade.onClick(handler: (MouseEvent) -> Unit) {\n    onClickFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onClick handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/error_event\n */\nfun CommonAttributeGroupFacade.onError(handler: (Event) -> Unit) {\n    onErrorFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onFocus handler.\n *\n * This event does NOT bubble while [onFocusIn] does.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focus_event\n */\nfun CommonAttributeGroupFacade.onFocus(handler: (FocusEvent) -> Unit) {\n    onFocusFunction = handler.asDynamic()\n}\n\n/**\n * Add an onFocusIn handler.\n *\n * The event DOES bubble while [onFocus] does not.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focusin_event\n */\nfun CommonAttributeGroupFacade.onFocusIn(handler: (FocusEvent) -> Unit) {\n    onFocusInFunction = handler.asDynamic()\n}\n\n/**\n * Add an onFocusOut handler.\n *\n * This event DOES bubble while [onBlur] does not.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focusout_event\n */\nfun CommonAttributeGroupFacade.onFocusOut(handler: (FocusEvent) -> Unit) {\n    onFocusOutFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onInput handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event\n */\nfun CommonAttributeGroupFacade.onInput(handler: (InputEvent) -> Unit) {\n    onInputFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event\n */\nfun CommonAttributeGroupFacade.onKeyDown(handler: (KeyboardEvent) -> Unit) {\n    onKeyDownFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyPress handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keypress_event\n */\n@Deprecated(\"Use onKeyDown instead\", ReplaceWith(\"onKeyDown\"))\nfun CommonAttributeGroupFacade.onKeyPress(handler: (KeyboardEvent) -> Unit) {\n    onKeyPressFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyUp handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keyup_event\n */\nfun CommonAttributeGroupFacade.onKeyUp(handler: (KeyboardEvent) -> Unit) {\n    onKeyUpFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mousedown_event\n */\nfun CommonAttributeGroupFacade.onMouseDown(handler: (MouseEvent) -> Unit) {\n    onMouseDownFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event\n */\nfun CommonAttributeGroupFacade.onMouseEnter(handler: (MouseEvent) -> Unit) {\n    consumer.onTagEvent(this, \"onmouseenter\", handler.asDynamic())\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseleave_event\n */\nfun CommonAttributeGroupFacade.onMouseLeave(handler: (MouseEvent) -> Unit) {\n    consumer.onTagEvent(this, \"onmouseleave\", handler.asDynamic())\n}\n\n/**\n * Adds an onMouseMove handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mousemove_event\n */\nfun CommonAttributeGroupFacade.onMouseMove(handler: (MouseEvent) -> Unit) {\n    onMouseMoveFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseOver handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseover_event\n */\nfun CommonAttributeGroupFacade.onMouseOver(handler: (MouseEvent) -> Unit) {\n    onMouseOverFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseOut handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseout_event\n */\nfun CommonAttributeGroupFacade.onMouseOut(handler: (MouseEvent) -> Unit) {\n    onMouseOutFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseUp handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseup_event\n */\nfun CommonAttributeGroupFacade.onMouseUp(handler: (MouseEvent) -> Unit) {\n    onMouseUpFunction = handler.asDynamic()\n}\n\n/**\n * Add an onSelect handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/select_event\n */\nfun CommonAttributeGroupFacade.onSelect(handler: (InputEvent) -> Unit) {\n    onSelectFunction = handler.asDynamic()\n}\n\n/**\n * onSubmit handler\n */\nfun CommonAttributeGroupFacade.onSubmit(handler: (Event) -> Unit) {\n    onSubmitFunction = {\n        it.preventDefault()\n        handler(it.asDynamic())\n    }\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.messages.MessageBase\n\n\nclass FormFieldInputChanged<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n\nclass FormFieldMountedMessage<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n\nclass FormFieldUnmountedMessage<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Represent the route that is currently selected as active route by a [Router]\n */\ndata class ActiveRoute(\n    val uri: String,\n    val matchedRoute: Route.Match,\n    val mountedRoute: MountedRoute\n) {\n    /** Shortcut for getting the pattern of the route */\n    val pattern: String = matchedRoute.pattern\n\n    /** Shortcut for getting the route definition */\n    val route: Route = matchedRoute.route\n\n    /**\n     * Renders the content which is associated with the [mountedRoute]\n     */\n    fun render(flow: FlowContent) = mountedRoute.view(flow, matchedRoute)\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Represents a [Route] that is mounted by a [Router]\n *\n * The [middlewares] are called in order once this [route] is matched and is about to become the [ActiveRoute].\n *\n * The [view] is the displayable content associated with the [route]\n */\ndata class MountedRoute(\n    val route: Route,\n    val middlewares: List<RouterMiddleware>,\n    val view: FlowContent.(Route.Match) -> Unit\n) {\n    companion object {\n        val default = MountedRoute(Route.default, emptyList()) {}\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\nimport kotlinx.browser.window\nimport org.w3c.dom.events.Event\n\n/**\n * The Router\n */\nclass Router(private val mountedRoutes: List<MountedRoute>, private var enabled: Boolean) {\n\n    data class History(\n        val router: Router,\n        val entries: List<ActiveRoute>\n    ) {\n        val canGoBack: Boolean = entries.size > 1\n\n        fun navBack() {\n            router.navBack()\n        }\n    }\n\n    private val prefix = \"#\"\n\n    /** Writable stream with the current [ActiveRoute] */\n    private val _current = StreamSource(ActiveRoute(\"\", Route.Match.default, MountedRoute.default))\n\n    /** Public readonly stream with the current [ActiveRoute] */\n    val current: Stream<ActiveRoute> = _current\n\n    private val _historyEntries: MutableList<ActiveRoute> = mutableListOf()\n\n    private val _history = StreamSource(History(this, _historyEntries.toList()))\n    val history: Stream<History> = _history\n\n    init {\n        window.addEventListener(\"hashchange\", ::windowListener)\n\n        current.subscribeToStream {\n            _historyEntries.add(it)\n            _history(History(this, _historyEntries.toList()))\n        }\n    }\n\n    fun disable() {\n        enabled = false\n    }\n\n    fun enable() {\n        enabled = true\n    }\n\n    /**\n     * Navigates to the given uri.\n     */\n    fun navToUri(uri: String) {\n        if (window.location.hash != uri) {\n            window.location.hash = uri\n        } else {\n            resolveCurrentRoute()\n        }\n    }\n\n    /**\n     * Navigates to the [route] by filling in the given [routeParams] and [queryParams].\n     */\n    fun navToUri(route: Route, routeParams: Map<String, String>, queryParams: Map<String, String>) {\n        navToUri(\n            route.buildUri(routeParams = routeParams, queryParams = queryParams)\n        )\n    }\n\n    /**\n     * Navigates to the [route].\n     */\n    fun navToUri(route: Route.Match) {\n        navToUri(route = route.route, routeParams = route.routeParams, queryParams = route.queryParams)\n    }\n\n    /**\n     * Replaces the current uri with changing the history\n     */\n    fun replaceUri(uri: String) {\n\n        if (window.location.hash != uri) {\n            window.history.replaceState(\n                null,\n                \"\",\n                window.location.pathname + uri\n            )\n            // Remove the last from the history\n            _historyEntries.removeLast()\n            // Resolve the next route\n            resolveCurrentRoute()\n        }\n    }\n\n    /**\n     * Replaces the current uri without changing the browser history.\n     */\n    fun replaceUri(route: Route, routeParams: Map<String, String>, queryParams: Map<String, String>) {\n        replaceUri(\n            route.buildUri(routeParams = routeParams, queryParams = queryParams)\n        )\n    }\n\n    /**\n     * Replaces the current uri without changing the browser history.\n     */\n    fun replaceUri(route: Route.Match) {\n        replaceUri(\n            route.route, routeParams = route.routeParams, queryParams = route.queryParams\n        )\n    }\n\n    /**\n     * Navigates to the given uri while clearing the navigation history.\n     */\n    fun clearHistoryAndNavTo(uri: String) {\n        _historyEntries.clear()\n        navToUri(uri)\n    }\n\n    /**\n     * Navigates to the previous route, when this is possible.\n     */\n    fun navBack() {\n        if (history().canGoBack) {\n            // remove the current active route\n            _historyEntries.removeLast()\n            // remove the previous active route and go back to it\n            navToUri(_historyEntries.removeLast().uri)\n        }\n    }\n\n    /**\n     * Tries to resolve the next [ActiveRoute] by looking at the browser current location.\n     *\n     * If a route is resolved then the [current] stream will be updated.\n     */\n    fun resolveCurrentRoute() {\n        // get the location from the browser\n        val location = window.location.hash.removePrefix(prefix)\n\n        // Go through all routes and try to find the first one that matches the current location\n        val resolved = mountedRoutes.asSequence()\n            // Find matches\n            .map { mounted -> mounted.route.match(location)?.let { mounted to it } }\n            // Skip all that did not match\n            .filterNotNull()\n            // Get the first match, if there is any\n            .firstOrNull()\n\n        if (resolved == null) {\n            console.error(\"Could not resolve route: $location\")\n        }\n\n        resolved?.let { (mounted, match) ->\n            // Create a context for the router middlewares\n            val ctx = RouterMiddlewareContext(this, match.route)\n            // Call all the middlewares\n            mounted.middlewares.forEach { it(ctx) }\n\n            // Do we have a redirect ?\n            when (val redirect = ctx.redirectToUri) {\n                null -> {\n                    // Notify all subscribers that the active route has changed\n                    _current(ActiveRoute(location, match, mounted))\n                }\n                else -> {\n                    // Yes so let's go to the redirect\n                    navToUri(redirect)\n                }\n            }\n        }\n    }\n\n    /**\n     * Private listener for the \"hashchange\" event\n     */\n    private fun windowListener(event: Event) {\n        if (enabled) {\n            event.preventDefault()\n\n            resolveCurrentRoute()\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Helper class for building a [Router]\n */\nclass RouterBuilder {\n\n    private var enabled = true\n\n    private val mounted = mutableListOf<MountedRoute>()\n\n    private val middlewares = mutableListOf<RouterMiddleware>()\n\n    fun build() = Router(mounted.toList(), enabled)\n\n    /**\n     * Creates a router that is enabled from the beginning\n     */\n    fun enable() {\n        enabled = true\n    }\n\n    /**\n     * Creates a router that is disabled from the beginning\n     */\n    fun disabled() {\n        enabled = false\n    }\n\n    /**\n     * Mounts a [route] and associates it with the given [view].\n     *\n     * The route is mounted with all [middlewares] that are defined in the current scope.\n     */\n    fun mount(route: Route, view: FlowContent.(Route.Match) -> Unit) {\n        mounted.add(\n            MountedRoute(route, middlewares.toList(), view)\n        )\n    }\n\n    /**\n     * Uses one or multiple [RouterMiddleware]s.\n     *\n     * All routes the are mounted inside of the [scope] will be using the given [wares].\n     *\n     * The [using] function can be nested\n     */\n    fun using(vararg wares: RouterMiddleware, scope: RouterBuilder.() -> Unit) {\n        // add them all to the scope\n        middlewares.addAll(wares)\n        // run the scope\n        scope()\n        // remove all middlewares from the scope\n        repeat(wares.size) { middlewares.removeLast() }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.key\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.div\n\n/**\n * The router component displays the view that is associated with the [ActiveRoute] of the given [Router]\n */\n@Suppress(\"FunctionName\")\nfun Tag.RouterComponent(router: Router) = comp(RouterComponent.Props(router)) {\n    RouterComponent(it)\n}\n\nclass RouterComponent internal constructor(ctx: Ctx<Props>) : Component<RouterComponent.Props>(ctx) {\n\n    data class Props(\n        val router: Router\n    )\n\n    ////  STATE  ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private val current: ActiveRoute by subscribingTo(props.router.current)\n\n    ////  IMPL  ////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        div(classes = \"router\") {\n            // We define a key, so that the VDomEngine does a full redraw of the content, when the matched route changes\n            key = current.uri.split(\"?\").firstOrNull() ?: \"\"\n\n            current.render(this)\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\n/**\n * A [RouterMiddleware] is just a function with [RouterMiddlewareContext] as the receiver\n */\ntypealias RouterMiddleware = RouterMiddlewareContext.() -> Unit\n\n/**\n * Helper for defining a router middleware\n */\nfun routerMiddleware(func: RouterMiddleware): RouterMiddleware = func\n\n/**\n * The context for all middle wares\n */\nclass RouterMiddlewareContext(\n    val router: Router,\n    val route: Route,\n) {\n    var redirectToUri: String? = null\n        private set\n\n    fun redirectTo(uri: String) {\n        redirectToUri = uri\n    }\n}\n",null,"package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.FieldOptions\nimport de.peekandpoke.kraft.addons.forms.GenericFormField\nimport de.peekandpoke.kraft.addons.forms.KraftFormsDsl\nimport de.peekandpoke.kraft.addons.forms.TextAreaOptions\nimport de.peekandpoke.kraft.addons.semanticui.forms.UiTextAreaComponent.Options\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.onInput\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.window\nimport kotlinx.css.Overflow\nimport kotlinx.css.maxHeight\nimport kotlinx.css.overflowY\nimport kotlinx.css.vh\nimport kotlinx.html.TEXTAREA\nimport kotlinx.html.Tag\nimport kotlinx.html.textArea\nimport org.w3c.dom.HTMLTextAreaElement\n\n@Suppress(\"FunctionName\")\n@KraftFormsDsl\nfun Tag.UiTextArea(\n    value: String,\n    onChange: (String) -> Unit,\n    builder: Options.() -> Unit = {},\n) = comp(\n    UiTextAreaComponent.Props(\n        value = value,\n        onChange = onChange,\n        options = Options().apply(builder),\n    )\n) {\n    UiTextAreaComponent(it)\n}\n\nclass UiTextAreaComponent(ctx: Ctx<Props>) :\n    GenericFormField<String, Options, UiTextAreaComponent.Props>(ctx) {\n\n    class Options : FieldOptions.Base<String>(), TextAreaOptions<String>, SemanticOptions<String>\n\n    data class Props(\n        override val value: String,\n        override val onChange: (String) -> Unit,\n        override val options: Options,\n    ) : GenericFormField.Props<String, Options>\n\n    override fun onMount() {\n        super.onMount()\n\n        options.autofocusValue()?.takeIf { it }?.let {\n            focus(\"textarea\")\n        }\n    }\n\n    private val isVerticalAutoResize get() = options.verticalAutoResize.getOrDefault(true)\n\n    override fun VDom.render() {\n        ui.with(options.appear.getOrDefault { this }).given(hasErrors) { error }.field {\n\n            renderLabel(\"textarea\")\n\n            textArea {\n                css {\n                    maxHeight = 50.vh\n                    overflowY = Overflow.auto\n                }\n\n                applyAll()\n\n                +currentValue\n            }\n\n            renderErrors(this)\n        }\n\n        // Apply automatic vertical resize\n        if (isVerticalAutoResize) {\n            window.requestAnimationFrame {\n                val textarea = dom?.querySelector(\"textarea\") as? HTMLTextAreaElement\n\n                textarea?.let { t ->\n                    t.style.height = \"auto\"\n                    t.style.height = \"${t.scrollHeight + 2}px\"\n                }\n            }\n        }\n    }\n\n    fun TEXTAREA.applyAll() {\n        track()\n\n        applyName()\n        applyPlaceholder()\n    }\n\n    fun TEXTAREA.track() {\n        onInput {\n            val target = it.target as HTMLTextAreaElement\n\n//            if (options.verticalAutoResize() == true) {\n//                target.style.height = \"auto\"\n//                target.style.height = \"${target.scrollHeight + 6}px\"\n//            }\n\n            setValue(target.value)\n        }\n    }\n\n    private fun TEXTAREA.applyName() {\n        options.placeholder()?.let { name = it }\n    }\n\n    private fun TEXTAREA.applyPlaceholder() {\n        options.placeholder()?.takeIf { it.isNotBlank() }?.let {\n            placeholder = it\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.FormField\nimport de.peekandpoke.kraft.semanticui.ui\nimport kotlinx.html.FlowContent\n\nfun <P> FormField<P>.renderErrors(flow: FlowContent) {\n    renderErrors(this, flow)\n}\n\nfun <P> renderErrors(field: FormField<P>, flow: FlowContent) {\n    flow.apply {\n        if (field.touched) {\n            field.errors.filter { it.isNotBlank() }.forEach { error ->\n                ui.basic.red.pointing.label { +error }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.CheckboxOptions\nimport de.peekandpoke.kraft.addons.forms.FieldOptions\nimport de.peekandpoke.kraft.addons.forms.InputOptions\nimport de.peekandpoke.kraft.addons.forms.KraftFormsSettingDsl\nimport de.peekandpoke.kraft.components.onClick\nimport de.peekandpoke.kraft.semanticui.*\nimport de.peekandpoke.ultra.common.TypedKey\nimport kotlinx.html.DIV\nimport kotlinx.html.InputType\n\ninterface SemanticOptions<T> : FieldOptions<T> {\n\n    companion object {\n        val appearKey = TypedKey<SemanticFn>(\"appear\")\n    }\n\n    interface Checkbox<T> : CheckboxOptions<T> {\n\n        companion object {\n            val styleKey = TypedKey<SemanticFn>(\"style\")\n        }\n\n        @KraftFormsSettingDsl\n        val style get() = access(styleKey)\n\n        @KraftFormsSettingDsl\n        fun toggle() {\n            style { toggle }\n        }\n\n        @KraftFormsSettingDsl\n        fun slider() {\n            style { slider }\n        }\n    }\n\n    interface Input<T> : InputOptions<T> {\n        companion object {\n            val wrapFieldWithKey = TypedKey<SemanticFn>(\"wrap-field-with\")\n            val beforeFieldKey = TypedKey<DIV.(UiInputFieldComponent<*, *>) -> Unit>(\"before-field\")\n            val afterFieldKey = TypedKey<DIV.(UiInputFieldComponent<*, *>) -> Unit>(\"after-field\")\n        }\n\n        @JsName(\"rightIcon\")\n        @KraftFormsSettingDsl\n        fun rightIcon(iconFn: SemanticIconFn) {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = { icon.iconFn().invoke() }\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"clearingRightIcon\")\n        @KraftFormsSettingDsl\n        fun rightClearingIcon(iconFn: SemanticIconFn = { grey.times }) {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = {\n                icon.link.iconFn().invoke {\n                    onClick { _ ->\n                        it.setInput(\"\")\n                        it.focus(\"input\")\n                    }\n                }\n            }\n\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"revealRevealPasswordIcon\")\n        @KraftFormsSettingDsl\n        fun revealRevealPasswordIcon() {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = {\n\n                val type = it.effectiveType ?: InputType.password\n\n                val iconFn = when (type) {\n                    InputType.password -> semanticIcon { eye_outline }\n                    else -> semanticIcon { eye_slash_outline }\n                }\n\n                icon.link.iconFn().invoke {\n                    onClick { _ ->\n                        it.typeOverride = when (type) {\n                            InputType.password -> InputType.text\n                            else -> InputType.password\n                        }\n                    }\n                }\n            }\n\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"leftIcon\")\n        @KraftFormsSettingDsl\n        fun leftIcon(iconFn: SemanticIconFn) {\n            attributes[wrapFieldWithKey] = semantic { left.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = { icon.iconFn().invoke() }\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"rightLabel\")\n        @KraftFormsSettingDsl\n        fun rightLabel(labelFn: DIV.(UiInputFieldComponent<T, *>) -> Unit) {\n            attributes[wrapFieldWithKey] = semantic { right.labeled.input }\n\n            @Suppress(\"UNCHECKED_CAST\")\n            attributes[afterFieldKey] = labelFn as DIV.(UiInputFieldComponent<*, *>) -> Unit\n        }\n\n        @JsName(\"leftLabel\")\n        @KraftFormsSettingDsl\n        fun leftLabel(labelFn: DIV.(UiInputFieldComponent<T, *>) -> Unit) {\n            attributes[wrapFieldWithKey] = semantic { left.labeled.input }\n\n            @Suppress(\"UNCHECKED_CAST\")\n            attributes[beforeFieldKey] = labelFn as DIV.(UiInputFieldComponent<*, *>) -> Unit\n        }\n\n        @KraftFormsSettingDsl\n        fun wrapFieldWith(): (SemanticTag.() -> SemanticTag)? = attributes[wrapFieldWithKey]\n\n        @KraftFormsSettingDsl\n        fun renderBeforeField(): (DIV.(UiInputFieldComponent<*, *>) -> Unit)? = attributes[beforeFieldKey]\n\n        @KraftFormsSettingDsl\n        fun renderAfterField(): (DIV.(UiInputFieldComponent<*, *>) -> Unit)? = attributes[afterFieldKey]\n    }\n\n    @KraftFormsSettingDsl\n    val appear get() = access(appearKey)\n}\n\n","package de.peekandpoke.kraft.addons.styling\n\nimport kotlinx.css.CssBuilder\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.style\n\ndata class InlineStyle(val css: String)\n\nfun inlineStyle(block: CssBuilder.() -> Unit): InlineStyle = InlineStyle(CssBuilder().apply(block).toString())\n\nfun CommonAttributeGroupFacade.css(block: CssBuilder.() -> Unit) = css(CssBuilder().apply(block))\n\nfun CommonAttributeGroupFacade.css(builder: CssBuilder) {\n    style = builder.toString()\n}\n\nfun CommonAttributeGroupFacade.css(css: InlineStyle) {\n    style = css.css\n}\n\n","package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\nimport de.peekandpoke.kraft.streams.Unsubscribe\nimport de.peekandpoke.kraft.utils.launch\nimport de.peekandpoke.kraft.vdom.VDom\nimport de.peekandpoke.kraft.vdom.VDomEngine\nimport de.peekandpoke.ultra.common.MutableTypedAttributes\nimport kotlinx.coroutines.delay\nimport org.w3c.dom.HTMLElement\nimport kotlin.properties.ReadOnlyProperty\n\n/**\n * Base class of all Components\n */\n@Suppress(\"FunctionName\", \"Detekt.TooManyFunctions\")\nabstract class Component<PROPS>(val ctx: Ctx<PROPS>) {\n\n    /** The attributes of the component */\n    val attributes: MutableTypedAttributes = MutableTypedAttributes.empty()\n\n    /** Accessor for the parent component */\n    val parent: Component<*>? get() = _parent\n\n    /** Public getter for the Props */\n    val props: PROPS get() = _props\n\n    /** The Dom node to which the component is rendered */\n    val dom: HTMLElement? get() = _dom\n\n    /** Pointer to the low level bridge Component for example for Preact */\n    internal var lowLevelBridgeComponent: Any? = null\n\n    /** Backing field for the [parent] */\n    private var _parent: Component<*>? = ctx.parent\n\n    /** Backing field for the [props] */\n    private var _props: PROPS = ctx.props\n\n    /** Backing field for the [dom] */\n    private var _dom: HTMLElement? = null\n\n    /** Flag indicating if the component needs to be redrawn */\n    private var needsRedraw = true\n\n    /** Render cache with the last render result */\n    private var renderCache: dynamic = null\n\n    /** A list of stream unsubscribe functions. Will be called when the component is removed */\n    private val unSubscribers = mutableListOf<Unsubscribe>()\n\n    /** Map of state values created via useState or useSubscription */\n    internal val inlineProperties = mutableMapOf<String, Any?>()\n\n    /**\n     * Every component needs to implement this method\n     */\n    abstract fun VDom.render()\n\n    //  Life-cycle hooks  /////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Called when the component is mounted\n     */\n    open fun onMount() {\n    }\n\n    /**\n     * Called when the dom was updated. This is called after the render cycle.\n     */\n    open fun onUpdate() {\n    }\n\n    /**\n     * Called when the component was removed from the dom\n     */\n    open fun onUnmount() {\n    }\n\n    /**\n     * Called when the component is about to receive new props.\n     *\n     * This function is only called when shouldRedraw(nextProps) returns true.\n     *\n     * @param newProps      The new props the component just received\n     * @param previousProps The previous props the component had\n     */\n    open fun onNextProps(newProps: PROPS, previousProps: PROPS) {\n        // noop\n    }\n\n    /**\n     * Returns 'true' when the component should redraw.\n     *\n     * By default, returns [props] != [nextProps]\n     */\n    open fun shouldRedraw(nextProps: PROPS): Boolean {\n//        console.log(\"nextProps\", this, nextProps, props, nextProps != props)\n        return props != nextProps\n    }\n\n    /**\n     * Triggers a redraw\n     */\n    fun triggerRedraw() {\n        if (needsRedraw) {\n            return\n        }\n\n        needsRedraw = true\n\n        ctx.engine.triggerRedraw(this)\n    }\n\n    //  Stream Helpers  ///////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Subscribes to a [Stream].\n     *\n     * When the components is destroyed, the subscription will be unsubscribed automatically.\n     */\n    operator fun <T> Stream<T>.invoke(handler: (T) -> Unit): () -> Unit {\n\n        return this.subscribeToStream(handler).apply {\n            unSubscribers.add(this)\n        }\n    }\n\n    /**\n     * Subscribes to a [Stream].\n     *\n     * When the components is destroyed, the subscription will be unsubscribed automatically.\n     */\n    internal fun <T> Stream<T>.subscribe(handler: (T) -> Unit): () -> Unit = this(handler)\n\n    //  State Helpers  ///////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a read write property for the components state.\n     *\n     * When the value of the property is changed the component will redraw itself.\n     *\n     * @param initial  The initial value of the property\n     * @param onChange Callback to be called when the value has changed\n     */\n    fun <T> value(initial: T, onChange: ((T) -> Unit)? = null): ObservableComponentProperty<T> {\n\n        return ObservableComponentProperty(\n            component = this,\n            initialValue = initial,\n            onChange = onChange\n        )\n    }\n\n    /**\n     * Creates a property that is subscribed to a stream.\n     *\n     * The property will always contain the current value of the stream.\n     * When a new value is received from the stream the component redraws itself.\n     *\n     * @param stream The stream to subscribe to.\n     */\n    fun <T> subscribingTo(stream: Stream<T>, onNext: ((T) -> Unit)? = null): ReadOnlyProperty<Any?, T> {\n\n        var first = true\n\n        stream {\n\n            // The first value will be received right away.\n            // This can lead to situations where the [onNext] callback tries to use the property right away.\n            // But the property is not yet initialized and a very cryptic null pointer errors will arise.\n            // To work around this, we hold the first value back, because the property will be initialized properly.\n            if (first) {\n                first = false\n\n                launch {\n                    delay(1)\n                    // notify about the change and trigger redraw\n                    onNext?.invoke(it)\n                    // redraw the component\n                    triggerRedraw()\n                }\n            } else {\n                // notify about the change and trigger redraw\n                onNext?.invoke(it)\n                // redraw the component\n                triggerRedraw()\n            }\n        }\n\n        return ReadOnlyProperty { _, _ -> stream() }\n    }\n\n    /**\n     * Creates a property that is backed by a [StreamSource]\n     *\n     * When ever a value is written to the property it will also by passed into the stream.\n     * The stream will be configured using [config] and will be then be subscribed to.\n     *\n     * This way we can implement e.g. debouncing of input values, for example:\n     *\n     * ```\n     * private var search by stream(\"\", { debounce(300) }) { reload() }\n     * ```\n     *\n     * @param initial The initial value\n     * @param config  Configures the stream before subscribing to it\n     * @param handler Handler for values published by the stream\n     */\n    fun <T> stream(\n        initial: T,\n        config: (Stream<T>.() -> Stream<T>)? = null,\n        handler: (T) -> Unit = {}\n    ): ObservableStreamProperty<T> {\n\n        val stream = StreamSource(initial)\n\n        // Configure the stream, subscribe and invoke the handler with all new values\n        val configured = when (config) {\n            null -> stream\n            else -> stream.config()\n        }\n\n        // Subscribe to the configured stream.\n        // NOTICE: little hack here with \"launch\", to prevent the value being published twice.\n        launch {\n            delay(1)\n            configured { handler(it) }\n        }\n\n        return ObservableStreamProperty(component = this, stream = stream)\n    }\n\n    //  Ref Helpers  /////////////////////////////////////////////////////////////////////////////////////////////////\n\n    fun <C : Component<*>> createRef() = ComponentRef.Tracker<C>()\n\n    //  Internal functions  //////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Internal function for setting the [dom] element of the component\n     */\n    private fun _setDom(dom: HTMLElement?) {\n        this._dom = dom\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component is about to be rendered.\n     *\n     * Return 'true' when the component needs a re-draw.\n     *\n     * The [newCtx] contains the next set of [PROPS]. These are passed to [shouldRedraw].\n     */\n    internal fun _internalShouldComponentUpdate(newCtx: Ctx<PROPS>): Boolean {\n\n        if (shouldRedraw(newCtx.props)) {\n            needsRedraw = true\n        }\n\n        val previousProps = _props\n\n        _props = newCtx.props\n        _parent = newCtx.parent\n\n        onNextProps(_props, previousProps)\n\n        return needsRedraw\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component was mounted.\n     */\n    internal fun _internalOnMount(dom: HTMLElement?) {\n        _setDom(dom)\n        onMount()\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component was updated.\n     */\n    internal fun _internalOnUpdate(dom: HTMLElement?) {\n        _setDom(dom)\n        onUpdate()\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component is removed from the DOM.\n     *\n     * Unsubscribes all async listeners.\n     * Calls [onUnmount] on the component.\n     * Clears the [dom] reference.\n     */\n    internal fun _internalOnUnmount() {\n        // unsubscribe from all stream subscriptions\n        unSubscribers.forEach { it() }\n\n        onUnmount()\n\n        _setDom(null)\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] to render the component.\n     *\n     * This method checks for [needsRedraw].\n     * When 'true' then [render] method of the component is called and the result is put into the [renderCache].\n     * When 'false' the [render] method is not called and the [renderCache] is returned.\n     */\n    internal fun _internalRender(): dynamic {\n        if (!needsRedraw) {\n            return renderCache\n        }\n\n        needsRedraw = false\n\n//        console.log(\"rendering component\", this)\n\n        @Suppress(\"UnsafeCastFromDynamic\")\n        renderCache = ctx.engine.render(this) { render() }\n\n        return renderCache\n    }\n}\n","package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.vdom.VDomEngine\n\ntypealias NoProps = Ctx<Any?>\n\ndata class Ctx<out PROPS>(\n    val engine: VDomEngine,\n    val parent: Component<*>?,\n    val props: PROPS\n) {\n    companion object {\n        fun of(engine: VDomEngine) = Ctx(engine, null, null)\n    }\n}\n","package de.peekandpoke.kraft.components\n\n/**\n * Base component that has no props and no state\n */\nabstract class PureComponent(ctx: NoProps) : Component<Any?>(ctx)\n","package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\nimport de.peekandpoke.kraft.utils.launch\nimport kotlin.properties.ObservableProperty\nimport kotlin.properties.ReadOnlyProperty\nimport kotlin.reflect.KProperty\nimport kotlin.reflect.KType\n\nclass InlineStateForValue<P>(val component: Component<*>, val initial: P, val type: KType) :\n    ObservableProperty<P>(initial) {\n\n    override fun getValue(thisRef: Any?, property: KProperty<*>): P {\n        @Suppress(\"UNCHECKED_CAST\")\n        return component.inlineProperties.getOrPut(property.getFullName()) {\n            initial\n        } as P\n    }\n\n    override fun setValue(thisRef: Any?, property: KProperty<*>, value: P) {\n        val oldValue = getValue(thisRef, property)\n\n        component.inlineProperties[property.getFullName()] = value\n\n        if (oldValue != value) {\n            component.triggerRedraw()\n        }\n    }\n\n    private fun KProperty<*>.getFullName() = \"value::$name::$type\"\n}\n\nclass InlineStateForStreamSubscription<T>(\n    val component: Component<*>,\n    val stream: Stream<T>,\n    val type: KType,\n) : ReadOnlyProperty<Any?, T> {\n\n    override fun getValue(thisRef: Any?, property: KProperty<*>): T {\n\n        component.inlineProperties.getOrPut(property.getFullName()) {\n            with(component) {\n                var first = true\n                stream.subscribe {\n                    // The first value will be received right away, but we do not want to trigger a re-draw.\n                    if (first) {\n                        first = false\n                    } else {\n                        // redraw the component\n                        triggerRedraw()\n                    }\n                }\n            }\n        }\n\n        return stream()\n    }\n\n    private fun KProperty<*>.getFullName() = \"sub::$name::$type\"\n}\n\nclass ObservableComponentProperty<T>(\n    private val component: Component<*>,\n    private val initialValue: T,\n    private val onChange: ((T) -> Unit)? = null\n) : ObservableProperty<T>(initialValue) {\n\n    override fun afterChange(property: KProperty<*>, oldValue: T, newValue: T) {\n        if (oldValue != newValue) {\n            // notify about the change and trigger redraw\n            onChange?.invoke(newValue)\n            // force the component to redraw\n            component.triggerRedraw()\n        }\n    }\n\n    infix fun setupBy(block: suspend () -> Unit): ObservableComponentProperty<T> = apply {\n        launch { block() }\n    }\n\n    infix fun onChange(onChange: (T) -> Unit): ObservableComponentProperty<T> =\n        ObservableComponentProperty(component = component, initialValue = initialValue, onChange = onChange)\n}\n\nclass ObservableStreamProperty<T>(\n    val component: Component<*>,\n    val stream: StreamSource<T>,\n) : ObservableProperty<T>(stream()) {\n\n    override fun afterChange(property: KProperty<*>, oldValue: T, newValue: T) {\n\n        if (oldValue != newValue) {\n            // notify about the change and trigger redraw\n            stream(newValue)\n            // force the component to redraw\n            component.triggerRedraw()\n        }\n    }\n}\n","package de.peekandpoke.kraft.messages\n\n/**\n * Base impl for [Message].\n */\nabstract class MessageBase<S>(override val sender: S) : Message<S> {\n    /** Property indicating if the propagation of the message was stopped */\n    override val isStopped get() = _isStopped\n\n    /** Backing field for isStopped */\n    private var _isStopped = false\n\n    /** Stops the event from propagation */\n    fun stop() {\n        _isStopped = true\n    }\n}\n\n","package de.peekandpoke.kraft.messages\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\n\nclass MessagesHandler {\n    private val _stream = StreamSource<Message<*>?>(null)\n\n    val stream: Stream<Message<*>?> = _stream\n\n    fun send(message: Message<*>) {\n        _stream(message)\n    }\n}\n","package de.peekandpoke.kraft.messages\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.ultra.common.TypedKey\n\n/**\n * The key used to store the [MessagesHandler] on the components properties\n */\nprivate val MessagesKey = TypedKey<MessagesHandler>(\"messages\")\n\n/**\n * Get the [MessagesHandler] for the [Component]\n */\nval Component<*>.messages: MessagesHandler\n    get() = attributes.getOrPut(MessagesKey) {\n        MessagesHandler()\n    }\n\n/**\n * Listens for a [Message] of the given type [M].\n */\ninline fun <reified M : Message<*>> Component<*>.onMessage(noinline handler: (M) -> Unit) {\n    messages.stream { next ->\n        next?.let {\n            (next as? M)?.let {\n                handler(it)\n            }\n        }\n    }\n}\n\n/**\n * Send the given [message].\n */\nfun <M : Message<*>> Component<*>.sendMessage(message: M) {\n\n    // We do not dispatch the message on the component that sent it\n    if (message.sender != this) {\n        messages.send(message)\n    } else {\n        // but we will trigger a re-draw\n        triggerRedraw()\n    }\n\n    // Continue with the parent if the message was not stopped\n    if (!message.isStopped) {\n        parent?.sendMessage(message)\n    }\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for stream wrappers that map the value type from [WRAPPED] to [RESULT]\n *\n * @param WRAPPED The value type of the wrapped stream\n * @param RESULT  The value type of the resulting stream\n */\nopen class StreamMapper<WRAPPED, RESULT>(\n    /** The wrapped stream */\n    private val wrapped: Stream<WRAPPED>,\n    /** Maps the value of the [wrapped] stream to the result ([WRAPPED] to [RESULT]) */\n    private val mapper: (WRAPPED) -> RESULT,\n    /** Calculates the initial value */\n    private val initial: () -> RESULT = { mapper(wrapped()) }\n) : StreamWrapperBase<WRAPPED, RESULT>(\n    wrapped = wrapped\n) {\n    private var latest: RESULT? = null\n\n    override fun invoke(): RESULT = latest ?: initial().also { latest = it }\n\n    override fun handleIncoming(value: WRAPPED) {\n        mapper(value)?.let {\n            latest = it\n            publish(it)\n        }\n    }\n}\n","package de.peekandpoke.kraft.streams\n\nopen class StreamSourceImpl<T>(initialValue: T) : StreamSource<T> {\n\n    /**\n     * The current value of the stream\n     */\n    protected var current: T = initialValue\n\n    /**\n     * All subscriptions to the stream\n     */\n    override val subscriptions: MutableSet<(T) -> Unit> = mutableSetOf()\n\n    /**\n     * @see StreamSource.invoke\n     */\n    override operator fun invoke(): T = current\n\n    /**\n     * @see StreamSource.invoke\n     */\n    override operator fun invoke(next: T) {\n        current = next\n        subscriptions.forEach { it(current) }\n    }\n\n    /**\n     * @see StreamSource.subscribeToStream\n     */\n    override fun subscribeToStream(sub: StreamHandler<T>): Unsubscribe {\n        this.subscriptions.add(sub)\n\n        onSub()\n\n        sub(current)\n\n        return {\n            subscriptions.remove(sub)\n            onUnSub()\n        }\n    }\n\n    /**\n     * @see StreamSource.removeAllSubscriptions\n     */\n    override fun removeAllSubscriptions() {\n        this.subscriptions.clear()\n    }\n\n    /**\n     * Hook called when a subscription was added\n     */\n    protected open fun onSub() {}\n\n    /**\n     * Hook called when a subscription was unsubscribed\n     */\n    protected open fun onUnSub() {}\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for all stream wrappers\n */\nabstract class StreamWrapperBase<WRAPPED, RESULT>(\n    /** The wrapped stream */\n    private val wrapped: Stream<WRAPPED>,\n) : Stream<RESULT> {\n\n    /** Unsubscribe function for the subscription on the wrapped stream */\n    private var wrappedUnsubscribe: Unsubscribe? = null\n\n    /** All subscriptions to this stream */\n    private val subscriptions = mutableSetOf<StreamHandler<RESULT>>()\n\n    /**\n     * Handles the next incoming value of the wrapped stream\n     */\n    protected abstract fun handleIncoming(value: WRAPPED)\n\n    /**\n     * Adds a subscription to the stream.\n     *\n     * On subscribing the subscription is immediately called with the current value.\n     *\n     * Returns an unsubscribe function. Calling this function unsubscribes from the stream.\n     *\n     * NOTICE: It is the callers' obligation to unsubscribe from the stream.\n     */\n    override fun subscribeToStream(sub: StreamHandler<RESULT>): Unsubscribe {\n\n        // Subscribe to the wrapped stream if necessary\n        if (wrappedUnsubscribe == null) {\n            // console.log(\"Subscribing to wrapped\")\n\n            wrappedUnsubscribe = wrapped.subscribeToStream {\n                handleIncoming(it)\n            }\n        }\n\n        this.subscriptions.add(sub)\n\n        sub(invoke())\n\n        return {\n            subscriptions.remove(sub)\n\n            // Unsubscribe from the wrapped stream if necessary\n            if (subscriptions.isEmpty()) {\n                // console.log(\"Un-Subscribing from wrapped\")\n\n                wrappedUnsubscribe?.invoke()\n                wrappedUnsubscribe = null\n            }\n        }\n    }\n\n    /**\n     * Publishes the next value\n     */\n    protected fun publish(value: RESULT) {\n        subscriptions.forEach { it(value) }\n    }\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSourceImpl\nimport kotlinx.browser.window\nimport kotlin.js.Date\nimport kotlin.math.round\n\nfun ticker(intervalMs: Int): Stream<Long> = Ticker(intervalMs)\n\ninternal class Ticker(\n    private val intervalMs: Int = 1000,\n) : StreamSourceImpl<Long>(0) {\n\n    private val start = Date.now()\n\n    private var interval: Int? = null\n\n    override fun onSub() {\n        if (interval == null) {\n            interval = window.setInterval(::handler, intervalMs)\n        }\n    }\n\n    override fun onUnSub() {\n        if (subscriptions.isEmpty() && interval != null) {\n            window.clearInterval(interval!!)\n            interval = null\n        }\n    }\n\n    private fun handler() {\n        val now = Date.now()\n\n        val counter = round((now - start) / intervalMs).toLong()\n\n        this.invoke(counter)\n    }\n}\n","package de.peekandpoke.kraft.utils\n\nimport kotlinx.coroutines.*\n\nprivate val scopeJob = SupervisorJob()\n\nprivate val scope = CoroutineScope(scopeJob)\n\nfun <T : Any?> launch(block: suspend () -> T) {\n    scope.launch {\n        block()\n    }\n}\n\nfun <T : Any?> async(block: suspend () -> T): Deferred<T> {\n    return scope.async {\n        block()\n    }\n}\n","package de.peekandpoke.kraft.utils\n\nimport kotlinx.js.Object\n\nfun jsIsObject(o: dynamic): Boolean = jsTypeOf(o) == \"object\"\n\n@Suppress(\"UNUSED_PARAMETER\")\nfun jsIsArray(o: dynamic): Boolean = js(\"(Array.isArray(o))\") as Boolean\n\nfun jsObject(): dynamic = js(\"({})\")\nfun jsArray(): dynamic = js(\"([])\")\n\nfun <T> jsObject(block: T.() -> Unit): T {\n    @Suppress(\"UNCHECKED_CAST\")\n    val obj = jsObject() as T\n    block(obj)\n    return obj\n}\n\nfun jsObjectOf(vararg pairs: Pair<String, dynamic>): dynamic {\n    val obj = jsObject()\n\n    pairs.forEach { (k, v) -> obj[k] = v }\n\n    return obj\n}\n\nfun jsObjectToMap(obj: dynamic): Map<String, Any?> {\n    return Object.keys(obj as Any)\n        .associateWith { jsToKotlin(obj[it]) }\n}\n\nfun jsArrayToList(arr: dynamic): List<Any?> {\n    val result = mutableListOf<Any?>()\n\n    arr.forEach { item ->\n        result.add(jsToKotlin(item))\n    }\n\n    return result.toList()\n}\n\nfun jsToKotlin(it: dynamic): Any? {\n    if (it == null) {\n        return null\n    }\n\n    if (jsIsArray(it)) {\n        return jsArrayToList(it)\n    }\n\n    if (jsIsObject(it)) {\n        return jsObjectToMap(it)\n    }\n\n    @Suppress(\"UnsafeCastFromDynamic\")\n    return it\n}\n\n/**\n * Converts a map to a raw javascript object\n */\nval <T> Map<String, T>.js\n    get() : dynamic {\n        val obj = jsObject()\n\n        forEach { (k, v) -> obj[k] = v }\n\n        return obj\n    }\n\nval <T> List<T>.js\n    get(): dynamic {\n        val arr = jsArray()\n\n        @Suppress(\"UnsafeCastFromDynamic\")\n        forEach { arr.push(it) }\n\n        return arr\n    }\n\n","package de.peekandpoke.kraft.vdom\n\nimport de.peekandpoke.kraft.components.Component\nimport kotlinx.html.FlowContent\n\nclass VDom(engine: VDomEngine, val component: Component<*>? = null) : FlowContent {\n\n    fun render(builder: VDom.() -> Any?): dynamic {\n        builder()\n        return consumer.finalize().render()\n    }\n\n    override val consumer = engine.createTagConsumer(component)\n\n    override val attributes: MutableMap<String, String>\n        get() = mutableMapOf()\n\n    override val attributesEntries: Collection<Map.Entry<String, String>>\n        get() = emptyList()\n\n    override val emptyTag: Boolean = false\n\n    override val inlineTag: Boolean = false\n\n    override val namespace: String? = null\n\n    override val tagName: String = \"\"\n\n}\n","package de.peekandpoke.kraft.vdom\n\nimport de.peekandpoke.kraft.components.Component\nimport org.w3c.dom.HTMLElement\n\ninterface VDomEngine {\n\n    data class Options(\n        val debugMode: Boolean = false,\n    ) {\n        companion object {\n            val default = Options()\n        }\n    }\n\n    val options: Options\n\n    fun mount(element: HTMLElement, view: VDom.() -> Any?)\n\n    fun createTagConsumer(host: Component<*>?): VDomTagConsumer\n\n    fun triggerRedraw(component: Component<*>)\n\n    fun render(host: Component<*>? = null, builder: VDom.() -> Any?): dynamic {\n        return VDom(this, host).render { builder() }\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.ComponentRef\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.utils.js\nimport de.peekandpoke.kraft.utils.jsArray\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDomElement\nimport kotlinx.html.Tag\nimport kotlinx.html.Unsafe\nimport kotlinx.html.org.w3c.dom.events.Event\nimport preact.h\nimport kotlin.reflect.KClass\n\ninternal interface PreactElements {\n\n    class PreactComponentRef<C : Component<*>> : ComponentRef<C> {\n\n        internal var ll: PreactLLC? = null\n\n        override fun getComponent(): C? {\n            @Suppress(\"UNCHECKED_CAST\")\n            return ll?.getComponent() as? C?\n        }\n    }\n\n    data class RootElement(\n        val children: MutableList<VDomElement> = mutableListOf(),\n    ) : VDomElement {\n        override fun appendChild(child: VDomElement) {\n            children.add(child)\n        }\n\n        override fun render(): dynamic {\n            val result = jsArray()\n\n            for (child in children) {\n                result.push(child.render())\n            }\n\n            return result\n        }\n    }\n\n    data class ComponentElement<P, C : Component<P>>(\n        private val componentCtx: Ctx<P>,\n        private val creatorFn: (Ctx<P>) -> C,\n        private val cls: KClass<C>,\n    ) : VDomElement {\n\n        val ref = PreactComponentRef<C>()\n        val ctor = PreactLLC.getLowLevelComponentCtor(cls)\n\n        override fun render(): dynamic {\n\n            return h(\n                ctor,\n                jsObject<PreactLLCProps> {\n                    this.__ctx = componentCtx\n                    @Suppress(\"UNCHECKED_CAST\")\n                    this.__ctor = creatorFn as (Ctx<*>) -> Component<*>\n                    this.__ref = ref\n                },\n            )\n        }\n    }\n\n    data class ContentElement(\n        val content: CharSequence,\n    ) : VDomElement {\n        override fun render(): dynamic {\n            return content\n        }\n    }\n\n    data class TagElement(\n        val tag: Tag,\n        val children: MutableList<VDomElement> = mutableListOf(),\n        val events: MutableMap<String, (Event) -> Any?> = mutableMapOf(),\n    ) : VDomElement {\n\n        override fun appendChild(child: VDomElement) {\n            children.add(child)\n        }\n\n        override fun addEvent(name: String, callback: (Event) -> Any?) {\n            events[name] = callback\n        }\n\n        override fun render(): dynamic {\n            // Convert attributes to plain js object\n            val attrs = tag.attributes.js\n\n            // Create a low level array for the render results of the children\n            val childArr = jsArray()\n\n            // map the children to a native array\n            for (child in children) {\n                @Suppress(\"UnsafeCastFromDynamic\")\n                childArr.push(child.render())\n            }\n\n            // Merge the events into the attributes\n            events.forEach { (k, v) -> attrs[k] = v }\n\n            // Render with mithril\n            return h(tag.tagName, attrs, childArr)\n        }\n    }\n\n    class UnsafeContentElement : VDomElement, Unsafe {\n\n        private var _content = \"\"\n\n        val content get() = _content\n\n        override fun String.unaryPlus() {\n            _content += this\n        }\n\n        override fun render(): dynamic {\n            return h(\n                \"span\",\n                jsObject {\n                    dangerouslySetInnerHTML = jsObject {\n                        __html = content\n                    }\n                }\n            )\n        }\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.preact.PreactLLC.Companion.getLowLevelComponentCtor\nimport org.w3c.dom.HTMLElement\nimport kotlin.reflect.KClass\nimport de.peekandpoke.kraft.components.Component as KraftComponent\nimport preact.Component as PreactComponent\n\n/**\n * Internal representation of a low level [PreactComponent].\n *\n * Notice that we create a separate subclass of [PreactLLC] for each component class.\n * This is done in [getLowLevelComponentCtor].\n */\ninternal abstract class PreactLLC(\n    val props: PreactLLCProps,\n    context: dynamic,\n) : PreactComponent(props, context) {\n\n    companion object {\n\n        /**\n         * Caches the low level [PreactComponent] constructor for each [KraftComponent].\n         */\n        private val compClass2LLC = mutableMapOf<KClass<out KraftComponent<*>>, dynamic>()\n\n        /**\n         * Creates a subclass of [PreactLLC] for every unique [cls] given.\n         *\n         * The created subclass is reused for the same [cls].\n         *\n         * Why do we do this:\n         *\n         * This helps the Preact VDOM in diffing.\n         * There are some situation, where one component is swapped with another.\n         * This was leading to a lot of weird [ClassCastException] errors.\n         * This approach seems to prevent the problem.\n         */\n        internal fun getLowLevelComponentCtor(cls: KClass<out KraftComponent<*>>): dynamic {\n            return compClass2LLC.getOrPut(cls) {\n\n                // console.log(\"===== component classes: ${compClass2LLC.size} ==\")\n                // console.log(\"++ \", cls.js)\n\n                //\n                // NOTICE: This needs to be exactly here. Only like this we get a unique subclass for every cls.\n                //\n                class Impl(props: PreactLLCProps, context: dynamic) : PreactLLC(props, context)\n\n                // Return the newly created ctor\n                ::Impl.also { ctor ->\n                    // We need to do this to trick, so Preact will see this as a component type:\n                    // see https://github.com/preactjs/preact/blob/10.5.14/src/diff/index.js#L75\n                    ctor.asDynamic().prototype = jsObject {\n                        render = {}\n                    }\n\n                    // console.log(\">> $ctor\")\n                    // console.log(\">> ${ctor.hashCode()}\")\n                }\n            }\n        }\n    }\n\n    /**\n     * The [KraftComponent] which is wrapped by this low level component\n     */\n    @Suppress(\"UNCHECKED_CAST\")\n    internal var component: KraftComponent<Any?>? = (props.__ctor(props.__ctx) as KraftComponent<Any?>).also {\n        // Set this low level instance on the component\n        it.lowLevelBridgeComponent = this@PreactLLC\n        // Set this low level instance on the ref\n        props.__ref.ll = this@PreactLLC\n    }\n\n    /**\n     * Get the [KraftComponent] which is wrapped by this low level component\n     */\n    internal fun getComponent(): KraftComponent<Any?>? {\n        return component\n    }\n\n    /**\n     * Hook, called when the component was mounted into the DOM\n     *\n     * See [PreactComponent.componentDidMount]\n     */\n    override fun componentDidMount() {\n        component?._internalOnMount(getDom())\n    }\n\n    /**\n     * Hook, called when the component is about to be unmounted from the DOM\n     *\n     * See [PreactComponent.componentWillUnmount]\n     */\n    override fun componentWillUnmount() {\n        component?._internalOnUnmount()\n        component = null\n    }\n\n    /**\n     * Callback to determine whether the component should update / re-render itself\n     *\n     * See [PreactComponent.shouldComponentUpdate]\n     */\n    override fun shouldComponentUpdate(nextProps: PreactLLCProps, nextState: dynamic): Boolean {\n        // Update the ref\n        nextProps.__ref.ll = this\n\n        return component?._internalShouldComponentUpdate(nextProps.__ctx) ?: false\n    }\n\n    /**\n     * Hook, called when the component was updated / re-rendered\n     *\n     * See [PreactComponent.componentDidUpdate]\n     */\n    override fun componentDidUpdate(prevProps: dynamic, prevState: dynamic, snapshot: dynamic) {\n        component?._internalOnUpdate(getDom())\n    }\n\n    /**\n     * Renders the contents of the component.\n     *\n     * See [PreactComponent.render]\n     */\n    override fun render(props: PreactLLCProps, state: dynamic, context: dynamic): dynamic {\n        return component?._internalRender()\n    }\n\n    /**\n     * Catches component errors.\n     *\n     * See [PreactComponent.componentDidCatch]\n     */\n    override fun componentDidCatch(error: dynamic) {\n        console.log(\"componentDidCatch\", component)\n        console.error(\"Error\", error)\n\n        super.componentDidCatch(error)\n    }\n\n    /**\n     * Get the root [HTMLElement] of the rendered content of the component\n     *\n     * See [PreactComponent.base]\n     */\n    private fun getDom(): HTMLElement? = this.base as? HTMLElement\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.ComponentRef\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.vdom.VDomElement\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport kotlinx.html.Entities\nimport kotlinx.html.Tag\nimport kotlinx.html.Unsafe\nimport kotlinx.html.org.w3c.dom.events.Event\nimport kotlin.reflect.KClass\n\n/**\n * Implementation of [VDomTagConsumer] for the mithril engine\n *\n * see: https://mithril.js.org\n */\ninternal class PreactTagConsumer(\n    override val engine: PreactVDomEngine,\n    override val host: Component<*>?,\n) : VDomTagConsumer {\n\n    /** Flag whether the debug mode is enabled */\n    override val isDebugMode: Boolean = engine.options.debugMode\n\n    /** The root element */\n    private val root = PreactElements.RootElement()\n\n    /** The stack of elements we are visiting */\n    private val stack = mutableListOf<VDomElement>(root)\n\n    override fun <P, C : Component<P>> onComponent(\n        props: P,\n        creatorFn: (Ctx<P>) -> C,\n        cls: KClass<C>,\n    ): ComponentRef<C> {\n//        console.log(\"onComponent\", params, component)\n\n        val element = PreactElements.ComponentElement(\n            Ctx(engine, host, props),\n            creatorFn,\n            cls,\n        )\n\n        stack.last().appendChild(element)\n\n        return element.ref\n    }\n\n    override fun finalize(): VDomElement {\n//        console.log(\"finalize\")\n\n        return stack.first()\n    }\n\n    override fun onTagAttributeChange(tag: Tag, attribute: String, value: String?) {\n//        console.log(\"onTagAttributeChange\", tag, attribute, value)\n    }\n\n    override fun onTagComment(content: CharSequence) {\n        console.log(\"onTagComment\", content)\n    }\n\n    override fun onTagContent(content: CharSequence) {\n//        console.log(\"onTagContent\", content)\n\n        stack.last().appendChild(\n            PreactElements.ContentElement(content)\n        )\n    }\n\n    override fun onTagContentEntity(entity: Entities) {\n//        console.log(\"onTagContentEntity\", entity)\n    }\n\n    override fun onTagContentUnsafe(block: Unsafe.() -> Unit) {\n        // see https://github.com/preactjs/preact/issues/844\n        stack.last().appendChild(\n            PreactElements.UnsafeContentElement().apply(block)\n        )\n    }\n\n    override fun onTagEnd(tag: Tag) {\n//        console.log(\"onTagEnd\", tag)\n\n        stack.removeLast()\n    }\n\n    override fun onTagEvent(tag: Tag, event: String, value: (Event) -> Unit) {\n//        console.log(\"onTagEvent\", tag, event, value)\n\n        stack.last().addEvent(event, value)\n    }\n\n    override fun onTagStart(tag: Tag) {\n//        console.log(\"onTagStart\", tag)\n\n        val element = PreactElements.TagElement(\n            tag = tag\n        )\n\n        stack.last().appendChild(element)\n\n        stack.add(element)\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport de.peekandpoke.kraft.vdom.VDomEngine\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport org.w3c.dom.HTMLElement\nimport de.peekandpoke.kraft.components.Component as KraftComponent\nimport preact.Component as PreactComponent\n\nclass PreactVDomEngine(override val options: VDomEngine.Options) : VDomEngine {\n\n    companion object {\n        operator fun invoke(\n            element: HTMLElement,\n            options: VDomEngine.Options = VDomEngine.Options.default,\n            view: VDom.() -> Any?,\n        ): PreactVDomEngine {\n            return PreactVDomEngine(options).apply {\n                mount(element, view)\n            }\n        }\n    }\n\n    override fun mount(element: HTMLElement, view: VDom.() -> Any?) {\n\n        val lowLevelRoot = render { view() }\n\n        preact.render(lowLevelRoot, element)\n    }\n\n    override fun createTagConsumer(host: KraftComponent<*>?): VDomTagConsumer {\n        return PreactTagConsumer(this, host)\n    }\n\n    override fun triggerRedraw(component: KraftComponent<*>) {\n        (component.lowLevelBridgeComponent as? PreactComponent)?.setState(jsObject())\n    }\n}\n","package de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.*\n\n@Suppress(\"FunctionName\", \"PropertyName\", \"unused\", \"Detekt:TooManyFunctions\", \"Detekt:VariableNaming\")\nclass SemanticTag(\n    @PublishedApi internal val parent: FlowContent,\n    @PublishedApi internal val cssClasses: MutableList<String>,\n) {\n    fun _cssClasses(): String = cssClasses.filter { it.isNotBlank() }.joinToString(\" \")\n\n    fun _renderAsTag(block: FlowContent.() -> Unit) {\n        block(parent)\n    }\n\n    private fun attrs() = attributesMapOf(\"class\", _cssClasses())\n\n    @SemanticUiCssMarker\n    operator fun invoke(block: DIV.() -> Unit): Unit = Div(block)\n\n    @SemanticUiTagMarker\n    infix fun H1(block: H1.() -> Unit): Unit = H1(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H2(block: H2.() -> Unit): Unit = H2(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H3(block: H3.() -> Unit): Unit = H3(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H4(block: H4.() -> Unit): Unit = H4(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H5(block: H5.() -> Unit): Unit = H5(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H6(block: H6.() -> Unit): Unit = H6(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun A(block: A.() -> Unit): Unit = A(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun B(block: B.() -> Unit): Unit = B(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Button(block: BUTTON.() -> Unit): Unit = BUTTON(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Div(block: DIV.() -> Unit): Unit = DIV(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Form(block: FORM.() -> Unit): Unit = FORM(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun I(block: I.() -> Unit): Unit = I(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Input(block: INPUT.() -> Unit): Unit = INPUT(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Img(block: IMG.() -> Unit): Unit = IMG(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Label(block: LABEL.() -> Unit): Unit = LABEL(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun P(block: P.() -> Unit): Unit = P(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Span(block: SPAN.() -> Unit): Unit = SPAN(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Submit(block: BUTTON.() -> Unit): Unit = BUTTON(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Table(block: TABLE.() -> Unit): Unit = TABLE(attrs(), parent.consumer).visitNoInline(block)\n\n    // Adding Css Classes //////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    operator fun plus(cls: String): SemanticTag = apply { cssClasses.add(cls) }\n\n    @SemanticUiCssMarker\n    operator fun plus(classes: Array<out String>): SemanticTag =\n        apply { cssClasses.addAll(classes) }\n\n    @SemanticUiCssMarker\n    inline fun with(block: SemanticTag.() -> SemanticTag): SemanticTag = this.run(block)\n\n    @SemanticUiCssMarker\n    fun with(vararg cls: String): SemanticTag = this + cls\n\n    @SemanticUiCssMarker\n    fun with(vararg cls: String, flow: DIV.() -> Unit): Unit =\n        (this + cls).invoke(flow)\n\n    // Conditional classes\n\n    @SemanticUiConditionalMarker\n    fun given(\n        condition: Boolean,\n        action: SemanticTag.() -> SemanticTag,\n    ): SemanticTag = when (condition) {\n        false -> this\n        else -> this.action()\n    }\n\n    @SemanticUiConditionalMarker\n    fun givenNot(\n        condition: Boolean,\n        action: SemanticTag.() -> SemanticTag,\n    ): SemanticTag = given(!condition, action)\n\n    @SemanticUiConditionalMarker\n    inline val then: SemanticTag get() = this\n\n    // SemanticUI Numbers //////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    fun number(int: Int): SemanticTag = number(SemanticNumber.of(int))\n\n    @SemanticUiCssMarker\n    fun number(int: Int, flow: DIV.() -> Unit): Unit =\n        number(SemanticNumber.of(int), flow)\n\n    @SemanticUiCssMarker\n    fun number(number: SemanticNumber): SemanticTag = this + number.toString()\n\n    @SemanticUiCssMarker\n    fun number(number: SemanticNumber, flow: DIV.() -> Unit): Unit =\n        with(number.toString(), flow = flow)\n\n    @SemanticUiCssMarker\n    val one: SemanticTag get() = this + \"one\"\n\n    @SemanticUiCssMarker\n    val two: SemanticTag get() = this + \"two\"\n\n    @SemanticUiCssMarker\n    val three: SemanticTag get() = this + \"three\"\n\n    @SemanticUiCssMarker\n    val four: SemanticTag get() = this + \"four\"\n\n    @SemanticUiCssMarker\n    val five: SemanticTag get() = this + \"five\"\n\n    @SemanticUiCssMarker\n    val six: SemanticTag get() = this + \"six\"\n\n    @SemanticUiCssMarker\n    val seven: SemanticTag get() = this + \"seven\"\n\n    @SemanticUiCssMarker\n    val eight: SemanticTag get() = this + \"eight\"\n\n    @SemanticUiCssMarker\n    val nine: SemanticTag get() = this + \"nine\"\n\n    @SemanticUiCssMarker\n    val ten: SemanticTag get() = this + \"ten\"\n\n    @SemanticUiCssMarker\n    val eleven: SemanticTag get() = this + \"eleven\"\n\n    @SemanticUiCssMarker\n    val twelve: SemanticTag get() = this + \"twelve\"\n\n    @SemanticUiCssMarker\n    val thirteen: SemanticTag get() = this + \"thirteen\"\n\n    @SemanticUiCssMarker\n    val fourteen: SemanticTag get() = this + \"fourteen\"\n\n    @SemanticUiCssMarker\n    val fifteen: SemanticTag get() = this + \"fifteen\"\n\n    @SemanticUiCssMarker\n    val sixteen: SemanticTag get() = this + \"sixteen\"\n\n    // SemanticUI Colors ///////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n\n    fun color(color: SemanticColor): SemanticTag = when {\n        color.isSet -> with(color.toString())\n        else -> this\n    }\n\n    @SemanticUiCssMarker\n\n    fun color(color: SemanticColor, flow: DIV.() -> Unit): Unit =\n        with(color.toString(), flow = flow)\n\n    @SemanticUiCssMarker\n    val color: SemanticTag get() = this + \"color\"\n\n    @SemanticUiCssMarker\n    val inverted: SemanticTag get() = this + \"inverted\"\n\n    @SemanticUiCssMarker\n    val red: SemanticTag get() = this + \"red\"\n\n    @SemanticUiCssMarker\n    val orange: SemanticTag get() = this + \"orange\"\n\n    @SemanticUiCssMarker\n    val yellow: SemanticTag get() = this + \"yellow\"\n\n    @SemanticUiCssMarker\n    val olive: SemanticTag get() = this + \"olive\"\n\n    @SemanticUiCssMarker\n    val green: SemanticTag get() = this + \"green\"\n\n    @SemanticUiCssMarker\n    val teal: SemanticTag get() = this + \"teal\"\n\n    @SemanticUiCssMarker\n    val blue: SemanticTag get() = this + \"blue\"\n\n    @SemanticUiCssMarker\n    val violet: SemanticTag get() = this + \"violet\"\n\n    @SemanticUiCssMarker\n    val purple: SemanticTag get() = this + \"purple\"\n\n    @SemanticUiCssMarker\n    val pink: SemanticTag get() = this + \"pink\"\n\n    @SemanticUiCssMarker\n    val brown: SemanticTag get() = this + \"brown\"\n\n    @SemanticUiCssMarker\n    val grey: SemanticTag get() = this + \"grey\"\n\n    @SemanticUiCssMarker\n    val black: SemanticTag get() = this + \"black\"\n\n    @SemanticUiCssMarker\n    val white: SemanticTag get() = this + \"white\"\n\n    // Sizes ///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    val short: SemanticTag get() = this + \"short\"\n\n    @SemanticUiCssMarker\n    val long: SemanticTag get() = this + \"long\"\n\n    @SemanticUiCssMarker\n    val mini: SemanticTag get() = this + \"mini\"\n\n    @SemanticUiCssMarker\n    val tiny: SemanticTag get() = this + \"tiny\"\n\n    @SemanticUiCssMarker\n    val small: SemanticTag get() = this + \"small\"\n\n    @SemanticUiCssMarker\n    val medium: SemanticTag get() = this + \"medium\"\n\n    @SemanticUiCssMarker\n    val large: SemanticTag get() = this + \"large\"\n\n    @SemanticUiCssMarker\n    val big: SemanticTag get() = this + \"big\"\n\n    @SemanticUiCssMarker\n    val huge: SemanticTag get() = this + \"huge\"\n\n    @SemanticUiCssMarker\n    val massive: SemanticTag get() = this + \"massive\"\n\n    // SemanticUI Emphasis /////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    val primary: SemanticTag get() = this + \"primary\"\n\n    @SemanticUiCssMarker\n    val secondary: SemanticTag get() = this + \"secondary\"\n\n    @SemanticUiCssMarker\n    val tertiary: SemanticTag get() = this + \"tertiary\"\n\n    @SemanticUiCssMarker\n    val positive: SemanticTag get() = this + \"positive\"\n\n    @SemanticUiCssMarker\n    val negative: SemanticTag get() = this + \"negative\"\n\n    @SemanticUiCssMarker\n    val warning: SemanticTag get() = this + \"warning\"\n\n    // SemanticUI Brands\n\n    @SemanticUiCssMarker\n    val facebook: SemanticTag get() = this + \"facebook\"\n\n    @SemanticUiCssMarker\n    val google_plus: SemanticTag get() = this + \"google plus\"\n\n    @SemanticUiCssMarker\n    val instagram: SemanticTag get() = this + \"instagram\"\n\n    @SemanticUiCssMarker\n    val linkedin: SemanticTag get() = this + \"linkedin\"\n\n    @SemanticUiCssMarker\n    val telegram: SemanticTag get() = this + \"telegram\"\n\n    @SemanticUiCssMarker\n    val twitter: SemanticTag get() = this + \"twitter\"\n\n    @SemanticUiCssMarker\n    val vk: SemanticTag get() = this + \"vk\"\n\n    @SemanticUiCssMarker\n    val whatsapp: SemanticTag get() = this + \"whatsapp\"\n\n    @SemanticUiCssMarker\n    val youtube: SemanticTag get() = this + \"youtube\"\n\n    // Semantic UI Words\n\n    @SemanticUiCssMarker\n    val icons: SemanticTag get() = this + \"icons\"\n\n    @SemanticUiCssMarker\n    val text: SemanticTag get() = this + \"text\"\n\n    @SemanticUiCssMarker\n    val actions: SemanticTag get() = this + \"actions\"\n\n    @SemanticUiCssMarker\n    val active: SemanticTag get() = this + \"active\"\n\n    @SemanticUiCssMarker\n    val basic: SemanticTag get() = this + \"basic\"\n\n    @SemanticUiCssMarker\n    val bar: SemanticTag get() = this + \"bar\"\n\n    @SemanticUiCssMarker\n    val button: SemanticTag get() = this + \"button\"\n\n    @SemanticUiCssMarker\n    val buttons: SemanticTag get() = this + \"buttons\"\n\n    @SemanticUiCssMarker\n    val circular: SemanticTag get() = this + \"circular\"\n\n    @SemanticUiCssMarker\n    val compact: SemanticTag get() = this + \"compact\"\n\n    @SemanticUiCssMarker\n    val disabled: SemanticTag get() = this + \"disabled\"\n\n    @SemanticUiCssMarker\n    val divider: SemanticTag get() = this + \"divider\"\n\n    @SemanticUiCssMarker\n    val dividing: SemanticTag get() = this + \"dividing\"\n\n    @SemanticUiCssMarker\n    val down: SemanticTag get() = this + \"down\"\n\n    @SemanticUiCssMarker\n    val floated: SemanticTag get() = this + \"floated\"\n\n    @SemanticUiCssMarker\n    val floating: SemanticTag get() = this + \"floating\"\n\n    @SemanticUiCssMarker\n    val fluid: SemanticTag get() = this + \"fluid\"\n\n    @SemanticUiCssMarker\n    val flowing: SemanticTag get() = this + \"flowing\"\n\n    @SemanticUiCssMarker\n    val piled: SemanticTag get() = this + \"piled\"\n\n    @SemanticUiCssMarker\n    val fixed: SemanticTag get() = this + \"fixed\"\n\n    @SemanticUiCssMarker\n    val header: SemanticTag get() = this + \"header\"\n\n    @SemanticUiCssMarker\n    val icon: SemanticTag get() = this + \"icon\"\n\n    @SemanticUiCssMarker\n    val image: SemanticTag get() = this + \"image\"\n\n    @SemanticUiCssMarker\n    val line: SemanticTag get() = this + \"line\"\n\n    @SemanticUiCssMarker\n    val link: SemanticTag get() = this + \"link\"\n\n    @SemanticUiCssMarker\n    val bulleted: SemanticTag get() = this + \"bulleted\"\n\n    @SemanticUiCssMarker\n    val list: SemanticTag get() = this + \"list\"\n\n    @SemanticUiCssMarker\n    val loader: SemanticTag get() = this + \"loader\"\n\n    @SemanticUiCssMarker\n    val loading: SemanticTag get() = this + \"loading\"\n\n    @SemanticUiCssMarker\n    val message: SemanticTag get() = this + \"message\"\n\n    @SemanticUiCssMarker\n    val overlay: SemanticTag get() = this + \"overlay\"\n\n    @SemanticUiCssMarker\n    val pointing: SemanticTag get() = this + \"pointing\"\n\n    @SemanticUiCssMarker\n    val scale: SemanticTag get() = this + \"scale\"\n\n    @SemanticUiCssMarker\n    val shrink: SemanticTag get() = this + \"shrink\"\n\n    @SemanticUiCssMarker\n    val toggle: SemanticTag get() = this + \"toggle\"\n\n    @SemanticUiCssMarker\n    val styled: SemanticTag get() = this + \"styled\"\n\n    @SemanticUiCssMarker\n    val accordion: SemanticTag get() = this + \"accordion\"\n\n    @SemanticUiCssMarker\n    val title: SemanticTag get() = this + \"title\"\n\n    @SemanticUiCssMarker\n    val description: SemanticTag get() = this + \"description\"\n\n    @SemanticUiCssMarker\n    val transition: SemanticTag get() = this + \"transition\"\n\n    @SemanticUiCssMarker\n    val relaxed: SemanticTag get() = this + \"relaxed\"\n\n    @SemanticUiCssMarker\n    val attached: SemanticTag get() = this + \"attached\"\n\n    @SemanticUiCssMarker\n    val clearing: SemanticTag get() = this + \"clearing\"\n\n    @SemanticUiCssMarker\n    val top: SemanticTag get() = this + \"top\"\n\n    @SemanticUiCssMarker\n    val bottom: SemanticTag get() = this + \"bottom\"\n\n    @SemanticUiCssMarker\n    val bordered: SemanticTag get() = this + \"bordered\"\n\n    @SemanticUiCssMarker\n    val avatar: SemanticTag get() = this + \"avatar\"\n\n    @SemanticUiCssMarker\n    val placeholder: SemanticTag get() = this + \"placeholder\"\n\n    @SemanticUiCssMarker\n    val cards: SemanticTag get() = this + \"cards\"\n\n    @SemanticUiCssMarker\n    val card: SemanticTag get() = this + \"card\"\n\n    @SemanticUiCssMarker\n    val raised: SemanticTag get() = this + \"raised\"\n\n    @SemanticUiCssMarker\n    val meta: SemanticTag get() = this + \"meta\"\n\n    @SemanticUiCssMarker\n    val dropdown: SemanticTag get() = this + \"dropdown\"\n\n    @SemanticUiCssMarker\n    val sticky: SemanticTag get() = this + \"sticky\"\n\n    @SemanticUiCssMarker\n    val inline: SemanticTag get() = this + \"inline\"\n\n    @SemanticUiCssMarker\n    val progress: SemanticTag get() = this + \"progress\"\n\n    @SemanticUiCssMarker\n    val paragraph: SemanticTag get() = this + \"paragraph\"\n\n    @SemanticUiCssMarker\n    val slider: SemanticTag get() = this + \"slider\"\n\n    @SemanticUiCssMarker\n    val success: SemanticTag get() = this + \"success\"\n\n    @SemanticUiCssMarker\n    val ordered: SemanticTag get() = this + \"ordered\"\n\n    @SemanticUiCssMarker\n    val steps: SemanticTag get() = this + \"steps\"\n\n    @SemanticUiCssMarker\n    val step: SemanticTag get() = this + \"step\"\n\n    @SemanticUiCssMarker\n    val completed: SemanticTag get() = this + \"completed\"\n\n    @SemanticUiCssMarker\n    val computer: SemanticTag get() = this + \"computer\"\n\n    @SemanticUiCssMarker\n    val tablet: SemanticTag get() = this + \"tablet\"\n\n    @SemanticUiCssMarker\n    val mobile: SemanticTag get() = this + \"mobile\"\n\n    @SemanticUiCssMarker\n    val only: SemanticTag get() = this + \"only\"\n\n    @SemanticUiCssMarker\n    val form: SemanticTag get() = this + \"form\"\n\n    @SemanticUiCssMarker\n    val field: SemanticTag get() = this + \"field\"\n\n    @SemanticUiCssMarker\n    val fields: SemanticTag get() = this + \"fields\"\n\n    @SemanticUiCssMarker\n    val checkbox: SemanticTag get() = this + \"checkbox\"\n\n    @SemanticUiCssMarker\n    val error: SemanticTag get() = this + \"error\"\n\n    @SemanticUiCssMarker\n    val input: SemanticTag get() = this + \"input\"\n\n    @SemanticUiCssMarker\n    val sortable: SemanticTag get() = this + \"sortable\"\n\n    @SemanticUiCssMarker\n    val table: SemanticTag get() = this + \"table\"\n\n    @SemanticUiCssMarker\n    val toast: SemanticTag get() = this + \"toast\"\n\n    @SemanticUiCssMarker\n    val toastBox: SemanticTag get() = this + \"toast-box\"\n\n    @SemanticUiCssMarker\n    val toastContainer: SemanticTag get() = this + \"toast-container\"\n\n    @SemanticUiCssMarker\n    val container: SemanticTag get() = this + \"container\"\n\n    @SemanticUiCssMarker\n    val segment: SemanticTag get() = this + \"segment\"\n\n    @SemanticUiCssMarker\n    val segments: SemanticTag get() = this + \"segments\"\n\n    @SemanticUiCssMarker\n    val pusher: SemanticTag get() = this + \"pusher\"\n\n    @SemanticUiCssMarker\n    val left: SemanticTag get() = this + \"left\"\n\n    @SemanticUiCssMarker\n    val right: SemanticTag get() = this + \"right\"\n\n    @SemanticUiCssMarker\n    val ribbon: SemanticTag get() = this + \"ribbon\"\n\n    @SemanticUiCssMarker\n    val horizontal: SemanticTag get() = this + \"horizontal\"\n\n    @SemanticUiCssMarker\n    val equal: SemanticTag get() = this + \"equal\"\n\n    @SemanticUiCssMarker\n    val width: SemanticTag get() = this + \"width\"\n\n    @SemanticUiCssMarker\n    val vertical: SemanticTag get() = this + \"vertical\"\n\n    @SemanticUiCssMarker\n    val row: SemanticTag get() = this + \"row\"\n\n    @SemanticUiCssMarker\n    val column: SemanticTag get() = this + \"column\"\n\n    @SemanticUiCssMarker\n    val grid: SemanticTag get() = this + \"grid\"\n\n    @SemanticUiCssMarker\n    val wide: SemanticTag get() = this + \"wide\"\n\n    @SemanticUiCssMarker\n    val doubling: SemanticTag get() = this + \"doubling\"\n\n    @SemanticUiCssMarker\n    val stackable: SemanticTag get() = this + \"stackable\"\n\n    @SemanticUiCssMarker\n    val stretched: SemanticTag get() = this + \"stretched\"\n\n    @SemanticUiCssMarker\n    val aligned: SemanticTag get() = this + \"aligned\"\n\n    @SemanticUiCssMarker\n    val fitted: SemanticTag get() = this + \"fitted\"\n\n    @SemanticUiCssMarker\n    val center: SemanticTag get() = this + \"center\"\n\n    @SemanticUiCssMarker\n    val centered: SemanticTag get() = this + \"centered\"\n\n    @SemanticUiCssMarker\n    val divided: SemanticTag get() = this + \"divided\"\n\n    @SemanticUiCssMarker\n    val striped: SemanticTag get() = this + \"striped\"\n\n    @SemanticUiCssMarker\n    val celled: SemanticTag get() = this + \"celled\"\n\n    @SemanticUiCssMarker\n    val selectable: SemanticTag get() = this + \"selectable\"\n\n    @SemanticUiCssMarker\n    val middle: SemanticTag get() = this + \"middle\"\n\n    @SemanticUiCssMarker\n    val padded: SemanticTag get() = this + \"padded\"\n\n    @SemanticUiCssMarker\n    val pagination: SemanticTag get() = this + \"pagination\"\n\n    @SemanticUiCssMarker\n    val animated: SemanticTag get() = this + \"animated\"\n\n    @SemanticUiCssMarker\n    val animating: SemanticTag get() = this + \"animating\"\n\n    @SemanticUiCssMarker\n    val fade: SemanticTag get() = this + \"fade\"\n\n    @SemanticUiCssMarker\n    val out: SemanticTag get() = this + \"out\"\n\n    @SemanticUiCssMarker\n    val _in: SemanticTag get() = this + \"in\"\n\n    @SemanticUiCssMarker\n    val extra: SemanticTag get() = this + \"extra\"\n\n    @SemanticUiCssMarker\n    val very: SemanticTag get() = this + \"very\"\n\n    @SemanticUiCssMarker\n    val content: SemanticTag get() = this + \"content\"\n\n    @SemanticUiCssMarker\n    val scrolling: SemanticTag get() = this + \"scrolling\"\n\n    @SemanticUiCssMarker\n    val visible: SemanticTag get() = this + \"visible\"\n\n    @SemanticUiCssMarker\n    val hidden: SemanticTag get() = this + \"hidden\"\n\n    @SemanticUiCssMarker\n    val label: SemanticTag get() = this + \"label\"\n\n    @SemanticUiCssMarker\n    val tag: SemanticTag get() = this + \"tag\"\n\n    @SemanticUiCssMarker\n    val labeled: SemanticTag get() = this + \"labeled\"\n\n    @SemanticUiCssMarker\n    val menu: SemanticTag get() = this + \"menu\"\n\n    @SemanticUiCssMarker\n    val tab: SemanticTag get() = this + \"tab\"\n\n    @SemanticUiCssMarker\n    val tabular: SemanticTag get() = this + \"tabular\"\n\n    @SemanticUiCssMarker\n    val sidebar: SemanticTag get() = this + \"sidebar\"\n\n    @SemanticUiCssMarker\n    val item: SemanticTag get() = this + \"item\"\n\n    @SemanticUiCssMarker\n    val items: SemanticTag get() = this + \"items\"\n\n    @SemanticUiCssMarker\n    val dimmer: SemanticTag get() = this + \"dimmer\"\n\n    @SemanticUiCssMarker\n    val fullscreen: SemanticTag get() = this + \"fullscreen\"\n\n    @SemanticUiCssMarker\n    val modal: SemanticTag get() = this + \"modal\"\n\n    @SemanticUiCssMarker\n    val modals: SemanticTag get() = this + \"modals\"\n\n    @SemanticUiCssMarker\n    val page: SemanticTag get() = this + \"page\"\n\n    @SemanticUiCssMarker\n    val front: SemanticTag get() = this + \"front\"\n\n    @SemanticUiCssMarker\n    val selection: SemanticTag get() = this + \"selection\"\n\n    @SemanticUiCssMarker\n    val default: SemanticTag get() = this + \"default\"\n\n    @SemanticUiCssMarker\n    val selected: SemanticTag get() = this + \"selected\"\n\n    @SemanticUiCssMarker\n    val search: SemanticTag get() = this + \"search\"\n\n    @SemanticUiCssMarker\n    val popup: SemanticTag get() = this + \"popup\"\n\n    @SemanticUiCssMarker\n    val wireframe: SemanticTag get() = this + \"wireframe\"\n\n    @SemanticUiCssMarker\n    val transparent: SemanticTag get() = this + \"transparent\"\n\n    @SemanticUiCssMarker\n    val logo: SemanticTag get() = this + \"logo\"\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base interface for all streams\n */\ninterface Stream<T> {\n    /**\n     * Returns the current value of the stream\n     */\n    operator fun invoke(): T\n\n    /**\n     * Adds a subscription to the stream.\n     *\n     * On subscribing the subscription is immediately called with the current value.\n     *\n     * Returns an unsubscribe function. Calling this function unsubscribes from the stream.\n     */\n    fun subscribeToStream(sub: (T) -> Unit): Unsubscribe\n}\n\n/**\n * The [Unsubscribe] function is returned when a subscription is created on a [Stream].\n *\n * Calling this function cancels the subscription.\n */\ntypealias Unsubscribe = () -> Unit\n\n/**\n * Handler-function for the incoming values of a [Stream].\n */\ntypealias StreamHandler<T> = (T) -> Unit\n\n/**\n * Subscribes to the stream permanently\n *\n * NOTICE: there is no way to get rid of the subscription anymore. Use with caution.\n */\nfun <T> Stream<T>.permanent(): Stream<T> = apply { subscribeToStream { } }\n\n/**\n * Subscribes to the stream permanently\n *\n * NOTICE: there is no way to get rid of the subscription anymore. Use with caution.\n */\nfun <T> Stream<T>.permanent(handler: (T) -> Unit): Stream<T> = apply { subscribeToStream(handler) }\n\n/**\n * Define a stream source to which new values can be written.\n */\ninterface StreamSource<T> : Stream<T> {\n\n    companion object {\n        operator fun <T> invoke(initial: T): StreamSource<T> = StreamSourceImpl(initial)\n    }\n\n    /**\n     * Get the readonly version of this stream.\n     */\n    val readonly get() = this as Stream<T>\n\n    /**\n     * The subscription the stream source has.\n     */\n    val subscriptions: Set<StreamHandler<T>>\n\n    /**\n     * Returns the current value of the stream\n     */\n    override operator fun invoke(): T\n\n    /**\n     * Sends the next value to the stream\n     */\n    operator fun invoke(next: T)\n\n    /**\n     * Calls the [block] with the current value of the stream and sends to return value to the stream.\n     *\n     * The new value is only sent when it is different from the current value.\n     */\n    operator fun invoke(block: (T) -> T) {\n        val current = this()\n        val next = block(current)\n\n        if (current != next) {\n            this(next)\n        }\n    }\n\n    /**\n     * Modifies the current value by calling the [block] and sends it the result as the next value.\n     *\n     * The [block] will have the current value of the stream as the scopes this pointer.\n     */\n    fun modify(block: T.() -> T): Unit = invoke(block(invoke()))\n\n    /**\n     * Removes all subscriptions\n     */\n    fun removeAllSubscriptions()\n}\n\n/**\n * Define a storage backend for a persistent stream\n */\ninterface StreamStorage<T> {\n\n    fun read(): T?\n\n    fun write(value: T)\n}\n","package de.peekandpoke.kraft.addons.forms\n\ninterface FormField<T> {\n\n    /**\n     * The errors the field currently has\n     */\n    val errors: List<String>\n\n    /**\n     * Returns true when the field has errors\n     */\n    val hasErrors get() = errors.isNotEmpty()\n\n    /**\n     * Marker if the component was touched.\n     */\n    val touched: Boolean\n\n    /**\n     * Marks the form field as touched.\n     */\n    fun touch()\n\n    /**\n     * Marks the form field as not touched.\n     */\n    fun untouch()\n\n    /**\n     * Validates all rules and returns true if all rules are fulfilled.\n     */\n    fun validate(): Boolean\n}\n","package de.peekandpoke.kraft.addons.routing\n\nfun router(builder: RouterBuilder.() -> Unit): Router = RouterBuilder().apply(builder).build()\n\ntypealias RouterProvider = () -> Router\n","package de.peekandpoke.kraft.jsbridges\n\nimport de.peekandpoke.kraft.utils.jsObjectToMap\nimport kotlinx.js.Object\n\n/**\n * Decodes the [jwt] and returns a javascript object\n */\nfun decodeJwt(jwt: String): Object? {\n    return jwt_decode.default(jwt)\n}\n\n/**\n * Decodes the [jwt] and returns a kotlin [Map]\n */\nfun decodeJwtAsMap(jwt: String): Map<String, Any?> {\n    return jsObjectToMap(\n        decodeJwt(jwt)\n    )\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamMapper\n\n/**\n * Maps incoming values from type [IN] to type [OUT].\n */\nfun <IN, OUT> Stream<IN>.map(mapper: (IN) -> OUT): Stream<OUT> {\n    return StreamMapper(this, mapper)\n}\n","package de.peekandpoke.kraft.addons.prismjs\n\nimport kotlinx.browser.document\nimport kotlinx.coroutines.delay\nimport kotlinx.js.Module\nimport org.w3c.dom.Element\nimport org.w3c.dom.HTMLHeadElement\nimport org.w3c.dom.HTMLLinkElement\nimport kotlin.js.Date\nimport kotlin.js.Promise\n\n/**\n * See: https://cdnjs.com/libraries/prism/1.28.0 for available assets\n */\nclass PrismJsInternals {\n\n    internal class StylesLoader {\n\n        private val loaded = mutableMapOf<String, Element>()\n\n        private val head: HTMLHeadElement?\n            get() = document.getElementsByTagName(\"head\").item(0) as? HTMLHeadElement\n\n        fun loadDefaultTheme() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.min.css\",\n                \"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\",\n            )\n\n            loadLineNumbers()\n        }\n\n        fun loadInlineColor() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/inline-color/prism-inline-color.min.css\",\n                \"sha512-jPGdTBr51+zDG6sY0smU+6rV19GOIN9RXAdVT8Gyvb55dToNJwq2n9SgCa764+z0xMuGA3/idik1tkQQhmALSA==\",\n            )\n        }\n\n        fun loadLineNumbers() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css\",\n                \"sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==\",\n            )\n        }\n\n        fun loadToolbar() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.min.css\",\n                \"sha512-Dqf5696xtofgH089BgZJo2lSWTvev4GFo+gA2o4GullFY65rzQVQLQVlzLvYwTo0Bb2Gpb6IqwxYWtoMonfdhQ==\",\n            )\n        }\n\n        private fun loadStyle(\n            href: String,\n            integrity: String? = null,\n            crossOrigin: String = \"anonymous\",\n            referrerPolicy: String = \"no-referrer\",\n        ) {\n            head?.let { h ->\n                loaded.getOrPut(href) {\n                    (document.createElement(\"link\") as HTMLLinkElement).apply {\n                        this.rel = \"stylesheet\"\n                        this.href = href\n                        integrity?.let {\n                            this.asDynamic().integrity = it\n                        }\n                        this.crossOrigin = crossOrigin\n                        this.referrerPolicy = referrerPolicy\n\n                        h.append(this)\n                    }\n                }\n            }\n        }\n    }\n\n    internal class LanguageLoader {\n\n        private val loaded = mutableMapOf<String, Promise<dynamic>>()\n\n        suspend fun load(language: String): dynamic {\n            return when (val existing = PrismJsDefinition.languages[language]) {\n                null -> try {\n                    when (language) {\n                        \"dart\" -> loadDart()\n                        \"java\" -> loadJava()\n                        \"json\" -> loadJson()\n                        \"json5\" -> loadJson5()\n                        \"jsonp\" -> loadJsonp()\n                        \"kotlin\" -> loadKotlin()\n                        \"kts\" -> loadKotlin()\n                        \"less\" -> loadLess()\n                        \"php\" -> loadPhp()\n                        \"regex\" -> loadRegex()\n                        \"ruby\" -> loadRuby()\n                        \"rust\" -> loadRust()\n                        \"sass\" -> loadSass()\n                        \"scss\" -> loadScss()\n                        \"typescript\" -> loadTypescript()\n                        // fallback\n                        else -> PrismJsDefinition.languages.plain\n                    }\n                } catch (t: Throwable) {\n                    console.error(\"Could not load PrismJs language $language\", t)\n                    // fallback\n                    PrismJsDefinition.languages.plain\n                }\n                else -> existing\n            }\n        }\n\n        // Prerequisite loaders ////////////////////////////////////////////////////////////////////////////////////////\n\n        private suspend fun loadMarkupTemplating(): dynamic = load(\"markup-templating\") {\n            js(\"import('prismjs/components/prism-markup-templating')\") as Promise<Module<*>>\n        }\n\n        // Language loaders ////////////////////////////////////////////////////////////////////////////////////////////\n\n        private suspend fun loadDart(): dynamic = load(\"dart\") {\n            js(\"import('prismjs/components/prism-dart')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJava(): dynamic = load(\"java\") {\n            js(\"import('prismjs/components/prism-java')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJson(): dynamic = load(\"json\") {\n            js(\"import('prismjs/components/prism-json')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJson5(): dynamic {\n            // requires json to be loaded\n            loadJson()\n\n            return load(\"json5\") {\n                js(\"import('prismjs/components/prism-json5')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadJsonp(): dynamic {\n            // requires json to be loaded\n            loadJson()\n\n            return load(\"jsonp\") {\n                js(\"import('prismjs/components/prism-jsonp')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadKotlin(): dynamic = load(\"kotlin\") {\n            js(\"import('prismjs/components/prism-kotlin')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadLess(): dynamic = load(\"less\") {\n            js(\"import('prismjs/components/prism-less')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadPhp(): dynamic {\n\n            // Why is that? https://github.com/PrismJS/prism/issues/1400#issuecomment-485847919\n            loadMarkupTemplating()\n\n            return load(\"php\") {\n                js(\"import('prismjs/components/prism-php')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadRegex(): dynamic = load(\"regex\") {\n            js(\"import('prismjs/components/prism-regex')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadRuby(): dynamic = load(\"ruby\") {\n            js(\"import('prismjs/components/prism-ruby')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadRust(): dynamic = load(\"rust\") {\n            js(\"import('prismjs/components/prism-rust')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadSass(): dynamic = load(\"sass\") {\n            js(\"import('prismjs/components/prism-sass')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadScss(): dynamic = load(\"scss\") {\n            js(\"import('prismjs/components/prism-scss')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadTypescript(): dynamic = load(\"typescript\") {\n            js(\"import('prismjs/components/prism-typescript')\") as Promise<Module<*>>\n        }\n\n        private suspend fun load(language: String, promise: () -> Promise<Module<*>>): dynamic {\n\n            loaded.getOrPut(language) {\n                promise()\n            }\n\n            val start = Date.now()\n\n            @Suppress(\"UnsafeCastFromDynamic\")\n            while (PrismJsDefinition.languages[language] == undefined && Date.now() - start < 10_000) {\n                delay(10)\n            }\n\n            return PrismJsDefinition.languages[language]\n        }\n    }\n\n    internal class PluginsLoader(private val styles: StylesLoader) {\n\n        private val loaded = mutableMapOf<String, Promise<dynamic>>()\n\n        // Plugin loaders //////////////////////////////////////////////////////////////////////////////////////////////\n\n        suspend fun loadCopyToClipboard(): dynamic {\n            // Depends on the Toolbar plugin to be loaded\n            loadToolbar()\n\n            return load(\"copyToClipboard\", { _, duration -> duration < 100 }) {\n                js(\"import('prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadInlineColor(): dynamic {\n            styles.loadInlineColor()\n\n            return load(\"inlineColor\", { _, duration -> duration < 100 }) {\n                js(\"import('prismjs/plugins/inline-color/prism-inline-color')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadLineNumbers(): dynamic {\n            styles.loadLineNumbers()\n\n            return load(\"lineNumbers\") {\n                js(\"import('prismjs/plugins/line-numbers/prism-line-numbers')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadShowLanguage(): dynamic {\n            // Depends on the Toolbar plugin to be loaded\n            loadToolbar()\n\n            return load(\"showLanguage\", { _, duration -> duration < 10 }) {\n                js(\"import('prismjs/plugins/show-language/prism-show-language')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadToolbar(): dynamic {\n            styles.loadToolbar()\n\n            return load(\"toolbar\") {\n                js(\"import('prismjs/plugins/toolbar/prism-toolbar')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun load(\n            plugin: String,\n            isLoading: (pluginName: String, duration: Double) -> Boolean = { pluginName, duration ->\n                PrismJsDefinition.plugins[pluginName] == undefined && duration < 10_000\n            },\n            promise: () -> Promise<Module<*>>,\n        ): dynamic {\n\n            loaded.getOrPut(plugin) {\n                promise()\n            }\n\n            val start = Date.now()\n\n            @Suppress(\"UnsafeCastFromDynamic\")\n            while (isLoading(plugin, Date.now() - start)) {\n                delay(10)\n            }\n\n            return PrismJsDefinition.plugins[plugin]\n        }\n    }\n\n    internal val styles = StylesLoader()\n    internal val languages = LanguageLoader()\n    internal val plugins = PluginsLoader(styles)\n}\n\nval prismJsInternals = PrismJsInternals()\n","package de.peekandpoke.kraft.addons.prismjs\n\nimport org.w3c.dom.HTMLPreElement\nimport org.w3c.dom.set\n\nsealed class PrismPlugin {\n\n    abstract suspend fun load()\n    abstract fun applyTo(pre: HTMLPreElement)\n\n    data class CopyToClipboard(\n        val copy: String,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.copyToClipboard(\n                copy: String = \"Copy\",\n            ) = usePlugin(\n                CopyToClipboard(\n                    copy = copy,\n                )\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadCopyToClipboard()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" copy-to-clipboard\"\n            pre.dataset[\"prismjsCopy\"] = copy\n        }\n    }\n\n    data class InlineColor(\n        val enabled: Boolean = true,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.inlineColor() = usePlugin(\n                InlineColor()\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadInlineColor()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" inline-color\"\n        }\n    }\n\n    data class LineNumbers(\n        val start: Int,\n        val softWrap: Boolean,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.lineNumbers(\n                start: Int = 1,\n                softWrap: Boolean = false,\n            ) = usePlugin(\n                LineNumbers(start = start, softWrap = softWrap)\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadLineNumbers()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" line-numbers\"\n            pre.dataset[\"start\"] = start.toString()\n            if (softWrap) {\n                pre.style.whiteSpace = \"pre-wrap\"\n            }\n        }\n    }\n\n    data class ShowLanguage(\n        val language: String?,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.showLanguage(\n                language: String? = null,\n            ) = usePlugin(\n                ShowLanguage(language = language)\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadShowLanguage()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" show-language\"\n            language?.let {\n                pre.dataset[\"language\"] = it\n            }\n        }\n    }\n}\n",null,null,"package de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.Tag\n\n@PublishedApi\ninternal fun <T : Tag> T.visitNoInline(block: T.() -> Unit) {\n    consumer.onTagStart(this)\n    try {\n        this.block()\n    } catch (err: Throwable) {\n        consumer.onTagError(this, err)\n    } finally {\n        consumer.onTagEnd(this)\n    }\n}\n\n@Suppress(\"unused\")\ninternal object Fn {\n    // #\n    const val f0001: String = \"a\"\n    const val f0002: String = \"b\"\n    const val f0003: String = \"c\"\n    const val f0004: String = \"d\"\n    const val f0005: String = \"e\"\n    const val f0006: String = \"f\"\n    const val f0007: String = \"g\"\n    const val f0008: String = \"h\"\n    const val f0009: String = \"i\"\n    const val f0010: String = \"j\"\n    const val f0011: String = \"k\"\n    const val f0012: String = \"l\"\n    const val f0013: String = \"m\"\n    const val f0014: String = \"n\"\n    const val f0015: String = \"o\"\n    const val f0016: String = \"p\"\n    const val f0017: String = \"q\"\n    const val f0018: String = \"r\"\n    const val f0019: String = \"s\"\n    const val f0020: String = \"t\"\n\n    // a#\n    const val f0021: String = \"aa\"\n    const val f0022: String = \"ab\"\n    const val f0023: String = \"ac\"\n    const val f0024: String = \"ad\"\n    const val f0025: String = \"ae\"\n    const val f0026: String = \"af\"\n    const val f0027: String = \"ag\"\n    const val f0028: String = \"ah\"\n    const val f0029: String = \"ai\"\n    const val f0030: String = \"aj\"\n    const val f0031: String = \"ak\"\n    const val f0032: String = \"al\"\n    const val f0033: String = \"am\"\n    const val f0034: String = \"an\"\n    const val f0035: String = \"ao\"\n    const val f0036: String = \"ap\"\n    const val f0037: String = \"aq\"\n    const val f0038: String = \"ar\"\n    const val f0039: String = \"as\"\n    const val f0040: String = \"at\"\n\n    // b#\n    const val f0041: String = \"ba\"\n    const val f0042: String = \"bb\"\n    const val f0043: String = \"bc\"\n    const val f0044: String = \"bd\"\n    const val f0045: String = \"be\"\n    const val f0046: String = \"bf\"\n    const val f0047: String = \"bg\"\n    const val f0048: String = \"bh\"\n    const val f0049: String = \"bi\"\n    const val f0050: String = \"bj\"\n    const val f0051: String = \"bk\"\n    const val f0052: String = \"bl\"\n    const val f0053: String = \"bm\"\n    const val f0054: String = \"bn\"\n    const val f0055: String = \"bo\"\n    const val f0056: String = \"bp\"\n    const val f0057: String = \"bq\"\n    const val f0058: String = \"br\"\n    const val f0059: String = \"bs\"\n    const val f0060: String = \"bt\"\n\n    // c#\n    const val f0061: String = \"ca\"\n    const val f0062: String = \"cb\"\n    const val f0063: String = \"cc\"\n    const val f0064: String = \"cd\"\n    const val f0065: String = \"ce\"\n    const val f0066: String = \"cf\"\n    const val f0067: String = \"cg\"\n    const val f0068: String = \"ch\"\n    const val f0069: String = \"ci\"\n    const val f0070: String = \"cj\"\n    const val f0071: String = \"ck\"\n    const val f0072: String = \"cl\"\n    const val f0073: String = \"cm\"\n    const val f0074: String = \"cn\"\n    const val f0075: String = \"co\"\n    const val f0076: String = \"cp\"\n    const val f0077: String = \"cq\"\n    const val f0078: String = \"cr\"\n    const val f0079: String = \"cs\"\n    const val f0080: String = \"ct\"\n\n    // d#\n    const val f0081: String = \"da\"\n    const val f0082: String = \"db\"\n    const val f0083: String = \"dc\"\n    const val f0084: String = \"dd\"\n    const val f0085: String = \"de\"\n    const val f0086: String = \"df\"\n    const val f0087: String = \"dg\"\n    const val f0088: String = \"dh\"\n    const val f0089: String = \"di\"\n    const val f0090: String = \"dj\"\n    const val f0091: String = \"dk\"\n    const val f0092: String = \"dl\"\n    const val f0093: String = \"dm\"\n    const val f0094: String = \"dn\"\n    const val f0095: String = \"do\"\n    const val f0096: String = \"dp\"\n    const val f0097: String = \"dq\"\n    const val f0098: String = \"dr\"\n    const val f0099: String = \"ds\"\n    const val f0100: String = \"dt\"\n\n    // e#\n    const val f0101: String = \"ea\"\n    const val f0102: String = \"eb\"\n    const val f0103: String = \"ec\"\n    const val f0104: String = \"ed\"\n    const val f0105: String = \"ee\"\n    const val f0106: String = \"ef\"\n    const val f0107: String = \"eg\"\n    const val f0108: String = \"eh\"\n    const val f0109: String = \"ei\"\n    const val f0110: String = \"ej\"\n    const val f0111: String = \"ek\"\n    const val f0112: String = \"el\"\n    const val f0113: String = \"em\"\n    const val f0114: String = \"en\"\n    const val f0115: String = \"eo\"\n    const val f0116: String = \"ep\"\n    const val f0117: String = \"eq\"\n    const val f0118: String = \"er\"\n    const val f0119: String = \"es\"\n    const val f0120: String = \"et\"\n\n    // f#\n    const val f0121: String = \"fa\"\n    const val f0122: String = \"fb\"\n    const val f0123: String = \"fc\"\n    const val f0124: String = \"fd\"\n    const val f0125: String = \"fe\"\n    const val f0126: String = \"ff\"\n    const val f0127: String = \"fg\"\n    const val f0128: String = \"fh\"\n    const val f0129: String = \"fi\"\n    const val f0130: String = \"fj\"\n    const val f0131: String = \"fk\"\n    const val f0132: String = \"fl\"\n    const val f0133: String = \"fm\"\n    const val f0134: String = \"fn\"\n    const val f0135: String = \"fo\"\n    const val f0136: String = \"fp\"\n    const val f0137: String = \"fq\"\n    const val f0138: String = \"fr\"\n    const val f0139: String = \"fs\"\n    const val f0140: String = \"ft\"\n\n    // g#\n    const val f0141: String = \"ga\"\n    const val f0142: String = \"gb\"\n    const val f0143: String = \"gc\"\n    const val f0144: String = \"gd\"\n    const val f0145: String = \"ge\"\n    const val f0146: String = \"gf\"\n    const val f0147: String = \"gg\"\n    const val f0148: String = \"gh\"\n    const val f0149: String = \"gi\"\n    const val f0150: String = \"gj\"\n    const val f0151: String = \"gk\"\n    const val f0152: String = \"gl\"\n    const val f0153: String = \"gm\"\n    const val f0154: String = \"gn\"\n    const val f0155: String = \"go\"\n    const val f0156: String = \"gp\"\n    const val f0157: String = \"gq\"\n    const val f0158: String = \"gr\"\n    const val f0159: String = \"gs\"\n    const val f0160: String = \"gt\"\n\n    // h#\n    const val f0161: String = \"ha\"\n    const val f0162: String = \"hb\"\n    const val f0163: String = \"hc\"\n    const val f0164: String = \"hd\"\n    const val f0165: String = \"he\"\n    const val f0166: String = \"hf\"\n    const val f0167: String = \"hg\"\n    const val f0168: String = \"hh\"\n    const val f0169: String = \"hi\"\n    const val f0170: String = \"hj\"\n    const val f0171: String = \"hk\"\n    const val f0172: String = \"hl\"\n    const val f0173: String = \"hm\"\n    const val f0174: String = \"hn\"\n    const val f0175: String = \"ho\"\n    const val f0176: String = \"hp\"\n    const val f0177: String = \"hq\"\n    const val f0178: String = \"hr\"\n    const val f0179: String = \"hs\"\n    const val f0180: String = \"ht\"\n\n    // i#\n    const val f0181: String = \"ia\"\n    const val f0182: String = \"ib\"\n    const val f0183: String = \"ic\"\n    const val f0184: String = \"id\"\n    const val f0185: String = \"ie\"\n    const val f0186: String = \"if\"\n    const val f0187: String = \"ig\"\n    const val f0188: String = \"ih\"\n    const val f0189: String = \"ii\"\n    const val f0190: String = \"ij\"\n    const val f0191: String = \"ik\"\n    const val f0192: String = \"il\"\n    const val f0193: String = \"im\"\n    const val f0194: String = \"in\"\n    const val f0195: String = \"io\"\n    const val f0196: String = \"ip\"\n    const val f0197: String = \"iq\"\n    const val f0198: String = \"ir\"\n    const val f0199: String = \"is\"\n    const val f0200: String = \"it\"\n\n    // j#\n    const val f0201: String = \"ja\"\n    const val f0202: String = \"jb\"\n    const val f0203: String = \"jc\"\n    const val f0204: String = \"jd\"\n    const val f0205: String = \"je\"\n    const val f0206: String = \"jf\"\n    const val f0207: String = \"jg\"\n    const val f0208: String = \"jh\"\n    const val f0209: String = \"ji\"\n    const val f0210: String = \"jj\"\n    const val f0211: String = \"jk\"\n    const val f0212: String = \"jl\"\n    const val f0213: String = \"jm\"\n    const val f0214: String = \"jn\"\n    const val f0215: String = \"jo\"\n    const val f0216: String = \"jp\"\n    const val f0217: String = \"jq\"\n    const val f0218: String = \"jr\"\n    const val f0219: String = \"js\"\n    const val f0220: String = \"jt\"\n\n    // k#\n    const val f0221: String = \"ka\"\n    const val f0222: String = \"kb\"\n    const val f0223: String = \"kc\"\n    const val f0224: String = \"kd\"\n    const val f0225: String = \"ke\"\n    const val f0226: String = \"kf\"\n    const val f0227: String = \"kg\"\n    const val f0228: String = \"kh\"\n    const val f0229: String = \"ki\"\n    const val f0230: String = \"kj\"\n    const val f0231: String = \"kk\"\n    const val f0232: String = \"kl\"\n    const val f0233: String = \"km\"\n    const val f0234: String = \"kn\"\n    const val f0235: String = \"ko\"\n    const val f0236: String = \"kp\"\n    const val f0237: String = \"kq\"\n    const val f0238: String = \"kr\"\n    const val f0239: String = \"ks\"\n    const val f0240: String = \"kt\"\n\n    // l#\n    const val f0241: String = \"la\"\n    const val f0242: String = \"lb\"\n    const val f0243: String = \"lc\"\n    const val f0244: String = \"ld\"\n    const val f0245: String = \"le\"\n    const val f0246: String = \"lf\"\n    const val f0247: String = \"lg\"\n    const val f0248: String = \"lh\"\n    const val f0249: String = \"li\"\n    const val f0250: String = \"lj\"\n    const val f0251: String = \"lk\"\n    const val f0252: String = \"ll\"\n    const val f0253: String = \"lm\"\n    const val f0254: String = \"ln\"\n    const val f0255: String = \"lo\"\n    const val f0256: String = \"lp\"\n    const val f0257: String = \"lq\"\n    const val f0258: String = \"lr\"\n    const val f0259: String = \"ls\"\n    const val f0260: String = \"lt\"\n\n    // m#\n    const val f0261: String = \"ma\"\n    const val f0262: String = \"mb\"\n    const val f0263: String = \"mc\"\n    const val f0264: String = \"md\"\n    const val f0265: String = \"me\"\n    const val f0266: String = \"mf\"\n    const val f0267: String = \"mg\"\n    const val f0268: String = \"mh\"\n    const val f0269: String = \"mi\"\n    const val f0270: String = \"mj\"\n    const val f0271: String = \"mk\"\n    const val f0272: String = \"ml\"\n    const val f0273: String = \"mm\"\n    const val f0274: String = \"mn\"\n    const val f0275: String = \"mo\"\n    const val f0276: String = \"mp\"\n    const val f0277: String = \"mq\"\n    const val f0278: String = \"mr\"\n    const val f0279: String = \"ms\"\n    const val f0280: String = \"mt\"\n\n    // n#\n    const val f0281: String = \"na\"\n    const val f0282: String = \"nb\"\n    const val f0283: String = \"nc\"\n    const val f0284: String = \"nd\"\n    const val f0285: String = \"ne\"\n    const val f0286: String = \"nf\"\n    const val f0287: String = \"ng\"\n    const val f0288: String = \"nh\"\n    const val f0289: String = \"ni\"\n    const val f0290: String = \"nj\"\n    const val f0291: String = \"nk\"\n    const val f0292: String = \"nl\"\n    const val f0293: String = \"nm\"\n    const val f0294: String = \"nn\"\n    const val f0295: String = \"no\"\n    const val f0296: String = \"np\"\n    const val f0297: String = \"nq\"\n    const val f0298: String = \"nr\"\n    const val f0299: String = \"ns\"\n    const val f0300: String = \"nt\"\n\n    // A#\n    const val f9001: String = \"Aa\"\n    const val f9002: String = \"Ab\"\n    const val f9003: String = \"Ac\"\n    const val f9004: String = \"Ad\"\n    const val f9005: String = \"Ae\"\n    const val f9006: String = \"Af\"\n    const val f9007: String = \"Ag\"\n    const val f9008: String = \"Ah\"\n    const val f9009: String = \"Ai\"\n    const val f9010: String = \"Aj\"\n    const val f9011: String = \"Ak\"\n    const val f9012: String = \"Al\"\n    const val f9013: String = \"Am\"\n    const val f9014: String = \"An\"\n    const val f9015: String = \"Ao\"\n    const val f9016: String = \"Ap\"\n    const val f9017: String = \"Aq\"\n    const val f9018: String = \"Ar\"\n    const val f9019: String = \"As\"\n    const val f9020: String = \"At\"\n\n    // B#\n    const val f9021: String = \"Ba\"\n    const val f9022: String = \"Bb\"\n    const val f9023: String = \"Bc\"\n    const val f9024: String = \"Bd\"\n    const val f9025: String = \"Be\"\n    const val f9026: String = \"Bf\"\n    const val f9027: String = \"Bg\"\n    const val f9028: String = \"Bh\"\n    const val f9029: String = \"Bi\"\n    const val f9030: String = \"Bj\"\n    const val f9031: String = \"Bk\"\n    const val f9032: String = \"Bl\"\n    const val f9033: String = \"Bm\"\n    const val f9034: String = \"Bn\"\n    const val f9035: String = \"Bo\"\n    const val f9036: String = \"Bp\"\n    const val f9037: String = \"Bq\"\n    const val f9038: String = \"Br\"\n    const val f9039: String = \"Bs\"\n    const val f9040: String = \"Bt\"\n\n    // C#\n    const val f9041: String = \"Ca\"\n    const val f9042: String = \"Cb\"\n    const val f9043: String = \"Cc\"\n    const val f9044: String = \"Cd\"\n    const val f9045: String = \"Ce\"\n    const val f9046: String = \"Cf\"\n    const val f9047: String = \"Cg\"\n    const val f9048: String = \"Ch\"\n    const val f9049: String = \"Ci\"\n    const val f9050: String = \"Cj\"\n    const val f9051: String = \"Ck\"\n    const val f9052: String = \"Cl\"\n    const val f9053: String = \"Cm\"\n    const val f9054: String = \"Cn\"\n    const val f9055: String = \"Co\"\n    const val f9056: String = \"Cp\"\n    const val f9057: String = \"Cq\"\n    const val f9058: String = \"Cr\"\n    const val f9059: String = \"Cs\"\n    const val f9060: String = \"Ct\"\n\n    // D#\n    const val f9061: String = \"Da\"\n    const val f9062: String = \"Db\"\n    const val f9063: String = \"Dc\"\n    const val f9064: String = \"Dd\"\n    const val f9065: String = \"De\"\n    const val f9066: String = \"Df\"\n    const val f9067: String = \"Dg\"\n    const val f9068: String = \"Dh\"\n    const val f9069: String = \"Di\"\n    const val f9070: String = \"Dj\"\n    const val f9071: String = \"Dk\"\n    const val f9072: String = \"Dl\"\n    const val f9073: String = \"Dm\"\n    const val f9074: String = \"Dn\"\n    const val f9075: String = \"Do\"\n    const val f9076: String = \"Dp\"\n    const val f9077: String = \"Dq\"\n    const val f9078: String = \"Dr\"\n    const val f9079: String = \"Ds\"\n    const val f9080: String = \"Dt\"\n}\n","package de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlin.jvm.JvmName\n\n@SemanticUiDslMarker\nval FlowContent.ui: SemanticTag\n    get() = SemanticTag(this, mutableListOf(\"ui\"))\n\n@SemanticUiDslMarker\nval FlowContent.noui: SemanticTag\n    get() = SemanticTag(this, mutableListOf(\"\"))\n\n@SemanticIconMarker\nval FlowContent.icon: SemanticIcon\n    get() = SemanticIcon(this)\n\n@SemanticIconMarker\nval FlowContent.emoji: SemanticEmoji\n    get() = SemanticEmoji(this)\n\n@SemanticIconMarker\nval FlowContent.flag: SemanticFlag\n    get() = SemanticFlag(this)\n\n/**\n * Helps the compiler to identify functions that operate on [FlowContent].\n */\ntypealias RenderFn = FlowContent.() -> Unit\n\n/**\n * Helps the compiler to identify functions that operate on T.\n */\ntypealias RenderFunc<T> = T.() -> Unit\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\n@JvmName(\"renderFn\")\nfun renderFn(block: RenderFn): RenderFn = block\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\n@JvmName(\"renderFnT\")\nfun <T : Tag> renderFn(block: RenderFunc<T>): RenderFunc<T> = block\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a [FlowContent]\n */\nfun flowContent(block: FlowContent.() -> Unit) = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticFn = SemanticTag.() -> SemanticTag\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semantic(block: SemanticFn): SemanticFn = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticIconFn = SemanticIcon.() -> SemanticIcon\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semanticIcon(block: SemanticIconFn): SemanticIconFn = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticEmojiFn = SemanticEmoji.() -> SemanticEmoji\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semanticEmoji(block: SemanticEmojiFn): SemanticEmojiFn = block\n",null,"/**\n * marked - a markdown parser\n * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    extensions: null,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\nexports.defaults = getDefaults();\nfunction changeDefaults(newDefaults) {\n  exports.defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nvar escapeTest = /[&<>\"']/;\nvar escapeReplace = /[&<>\"']/g;\nvar escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nvar escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nvar escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nvar getEscapeReplacement = function getEscapeReplacement(ch) {\n  return escapeReplacements[ch];\n};\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\nvar unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n/**\n * @param {string} html\n */\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, function (_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n    }\n\n    return '';\n  });\n}\nvar caret = /(^|[^\\[])\\^/g;\n/**\n * @param {string | RegExp} regex\n * @param {string} opt\n */\n\nfunction edit(regex, opt) {\n  regex = typeof regex === 'string' ? regex : regex.source;\n  opt = opt || '';\n  var obj = {\n    replace: function replace(name, val) {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: function getRegex() {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\nvar nonWordAndColonTest = /[^\\w:]/g;\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n/**\n * @param {boolean} sanitize\n * @param {string} base\n * @param {string} href\n */\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    var prot;\n\n    try {\n      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n    } catch (e) {\n      return null;\n    }\n\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n\n  return href;\n}\nvar baseUrls = {};\nvar justDomain = /^[^:]+:\\/*[^/]*$/;\nvar protocol = /^([^:]+:)[\\s\\S]*$/;\nvar domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n/**\n * @param {string} base\n * @param {string} href\n */\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n\n  base = baseUrls[' ' + base];\n  var relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar noopTest = {\n  exec: function noopTest() {}\n};\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n    var escaped = false,\n        curr = offset;\n\n    while (--curr >= 0 && str[curr] === '\\\\') {\n      escaped = !escaped;\n    }\n\n    if (escaped) {\n      // odd number of slashes means | is escaped\n      // so we leave it alone\n      return '|';\n    } else {\n      // add space before unescaped |\n      return ' |';\n    }\n  }),\n      cells = row.split(/ \\|/);\n  var i = 0; // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n\n  if (!cells[0].trim()) {\n    cells.shift();\n  }\n\n  if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n    cells.pop();\n  }\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) {\n      cells.push('');\n    }\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n\n  return cells;\n}\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param {string} str\n * @param {string} c\n * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n */\n\nfunction rtrim(str, c, invert) {\n  var l = str.length;\n\n  if (l === 0) {\n    return '';\n  } // Length of suffix matching the invert condition.\n\n\n  var suffLen = 0; // Step left until we fail to match the invert condition.\n\n  while (suffLen < l) {\n    var currChar = str.charAt(l - suffLen - 1);\n\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.slice(0, l - suffLen);\n}\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n\n  var l = str.length;\n  var level = 0,\n      i = 0;\n\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n} // copied from https://stackoverflow.com/a/5450113/806777\n\n/**\n * @param {string} pattern\n * @param {number} count\n */\n\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n\n  var result = '';\n\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n\n    count >>= 1;\n    pattern += pattern;\n  }\n\n  return result + pattern;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n  var href = link.href;\n  var title = link.title ? escape(link.title) : null;\n  var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    lexer.state.inLink = true;\n    var token = {\n      type: 'link',\n      raw: raw,\n      href: href,\n      title: title,\n      text: text,\n      tokens: lexer.inlineTokens(text, [])\n    };\n    lexer.state.inLink = false;\n    return token;\n  }\n\n  return {\n    type: 'image',\n    raw: raw,\n    href: href,\n    title: title,\n    text: escape(text)\n  };\n}\n\nfunction indentCodeCompensation(raw, text) {\n  var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  var indentToCode = matchIndentToCode[1];\n  return text.split('\\n').map(function (node) {\n    var matchIndentInNode = node.match(/^\\s+/);\n\n    if (matchIndentInNode === null) {\n      return node;\n    }\n\n    var indentInNode = matchIndentInNode[0];\n\n    if (indentInNode.length >= indentToCode.length) {\n      return node.slice(indentToCode.length);\n    }\n\n    return node;\n  }).join('\\n');\n}\n/**\n * Tokenizer\n */\n\n\nvar Tokenizer = /*#__PURE__*/function () {\n  function Tokenizer(options) {\n    this.options = options || exports.defaults;\n  }\n\n  var _proto = Tokenizer.prototype;\n\n  _proto.space = function space(src) {\n    var cap = this.rules.block.newline.exec(src);\n\n    if (cap && cap[0].length > 0) {\n      return {\n        type: 'space',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.code = function code(src) {\n    var cap = this.rules.block.code.exec(src);\n\n    if (cap) {\n      var text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic ? rtrim(text, '\\n') : text\n      };\n    }\n  };\n\n  _proto.fences = function fences(src) {\n    var cap = this.rules.block.fences.exec(src);\n\n    if (cap) {\n      var raw = cap[0];\n      var text = indentCodeCompensation(raw, cap[3] || '');\n      return {\n        type: 'code',\n        raw: raw,\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: text\n      };\n    }\n  };\n\n  _proto.heading = function heading(src) {\n    var cap = this.rules.block.heading.exec(src);\n\n    if (cap) {\n      var text = cap[2].trim(); // remove trailing #s\n\n      if (/#$/.test(text)) {\n        var trimmed = rtrim(text, '#');\n\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      var token = {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: text,\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  };\n\n  _proto.hr = function hr(src) {\n    var cap = this.rules.block.hr.exec(src);\n\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.blockquote = function blockquote(src) {\n    var cap = this.rules.block.blockquote.exec(src);\n\n    if (cap) {\n      var text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        tokens: this.lexer.blockTokens(text, []),\n        text: text\n      };\n    }\n  };\n\n  _proto.list = function list(src) {\n    var cap = this.rules.block.list.exec(src);\n\n    if (cap) {\n      var raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents, endEarly;\n      var bull = cap[1].trim();\n      var isordered = bull.length > 1;\n      var list = {\n        type: 'list',\n        raw: '',\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n      bull = isordered ? \"\\\\d{1,9}\\\\\" + bull.slice(-1) : \"\\\\\" + bull;\n\n      if (this.options.pedantic) {\n        bull = isordered ? bull : '[*+-]';\n      } // Get next list item\n\n\n      var itemRegex = new RegExp(\"^( {0,3}\" + bull + \")((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))\"); // Check if current bullet point can start a new List Item\n\n      while (src) {\n        endEarly = false;\n\n        if (!(cap = itemRegex.exec(src))) {\n          break;\n        }\n\n        if (this.rules.block.hr.test(src)) {\n          // End list if bullet was actually HR (possibly move into itemRegex?)\n          break;\n        }\n\n        raw = cap[0];\n        src = src.substring(raw.length);\n        line = cap[2].split('\\n', 1)[0];\n        nextLine = src.split('\\n', 1)[0];\n\n        if (this.options.pedantic) {\n          indent = 2;\n          itemContents = line.trimLeft();\n        } else {\n          indent = cap[2].search(/[^ ]/); // Find first non-space char\n\n          indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n\n          itemContents = line.slice(indent);\n          indent += cap[1].length;\n        }\n\n        blankLine = false;\n\n        if (!line && /^ *$/.test(nextLine)) {\n          // Items begin with at most one blank line\n          raw += nextLine + '\\n';\n          src = src.substring(nextLine.length + 1);\n          endEarly = true;\n        }\n\n        if (!endEarly) {\n          var nextBulletRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:[*+-]|\\\\d{1,9}[.)])((?: [^\\\\n]*)?(?:\\\\n|$))\");\n          var hrRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)\");\n          var fencesBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:```|~~~)\");\n          var headingBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}#\"); // Check if following lines should be included in List Item\n\n          while (src) {\n            rawLine = src.split('\\n', 1)[0];\n            line = rawLine; // Re-align to follow commonmark nesting rules\n\n            if (this.options.pedantic) {\n              line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n            } // End list item if found code fences\n\n\n            if (fencesBeginRegex.test(line)) {\n              break;\n            } // End list item if found start of new heading\n\n\n            if (headingBeginRegex.test(line)) {\n              break;\n            } // End list item if found start of new bullet\n\n\n            if (nextBulletRegex.test(line)) {\n              break;\n            } // Horizontal rule found\n\n\n            if (hrRegex.test(src)) {\n              break;\n            }\n\n            if (line.search(/[^ ]/) >= indent || !line.trim()) {\n              // Dedent if possible\n              itemContents += '\\n' + line.slice(indent);\n            } else if (!blankLine) {\n              // Until blank line, item doesn't need indentation\n              itemContents += '\\n' + line;\n            } else {\n              // Otherwise, improper indentation ends this item\n              break;\n            }\n\n            if (!blankLine && !line.trim()) {\n              // Check if current line is blank\n              blankLine = true;\n            }\n\n            raw += rawLine + '\\n';\n            src = src.substring(rawLine.length + 1);\n          }\n        }\n\n        if (!list.loose) {\n          // If the previous item ended with a blank line, the list is loose\n          if (endsWithBlankLine) {\n            list.loose = true;\n          } else if (/\\n *\\n *$/.test(raw)) {\n            endsWithBlankLine = true;\n          }\n        } // Check for task list items\n\n\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.exec(itemContents);\n\n          if (istask) {\n            ischecked = istask[0] !== '[ ] ';\n            itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw: raw,\n          task: !!istask,\n          checked: ischecked,\n          loose: false,\n          text: itemContents\n        });\n        list.raw += raw;\n      } // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n\n\n      list.items[list.items.length - 1].raw = raw.trimRight();\n      list.items[list.items.length - 1].text = itemContents.trimRight();\n      list.raw = list.raw.trimRight();\n      var l = list.items.length; // Item child tokens handled here at end because we needed to have the final item to trim it first\n\n      for (i = 0; i < l; i++) {\n        this.lexer.state.top = false;\n        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n        var spacers = list.items[i].tokens.filter(function (t) {\n          return t.type === 'space';\n        });\n        var hasMultipleLineBreaks = spacers.every(function (t) {\n          var chars = t.raw.split('');\n          var lineBreaks = 0;\n\n          for (var _iterator = _createForOfIteratorHelperLoose(chars), _step; !(_step = _iterator()).done;) {\n            var _char = _step.value;\n\n            if (_char === '\\n') {\n              lineBreaks += 1;\n            }\n\n            if (lineBreaks > 1) {\n              return true;\n            }\n          }\n\n          return false;\n        });\n\n        if (!list.loose && spacers.length && hasMultipleLineBreaks) {\n          // Having a single line break doesn't mean a list is loose. A single line break is terminating the last list item\n          list.loose = true;\n          list.items[i].loose = true;\n        }\n      }\n\n      return list;\n    }\n  };\n\n  _proto.html = function html(src) {\n    var cap = this.rules.block.html.exec(src);\n\n    if (cap) {\n      var token = {\n        type: 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      };\n\n      if (this.options.sanitize) {\n        token.type = 'paragraph';\n        token.text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n        token.tokens = [];\n        this.lexer.inline(token.text, token.tokens);\n      }\n\n      return token;\n    }\n  };\n\n  _proto.def = function def(src) {\n    var cap = this.rules.block.def.exec(src);\n\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        type: 'def',\n        tag: tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  };\n\n  _proto.table = function table(src) {\n    var cap = this.rules.block.table.exec(src);\n\n    if (cap) {\n      var item = {\n        type: 'table',\n        header: splitCells(cap[1]).map(function (c) {\n          return {\n            text: c\n          };\n        }),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n        var l = item.align.length;\n        var i, j, k, row;\n\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.rows.length;\n\n        for (i = 0; i < l; i++) {\n          item.rows[i] = splitCells(item.rows[i], item.header.length).map(function (c) {\n            return {\n              text: c\n            };\n          });\n        } // parse child tokens inside headers and cells\n        // header child tokens\n\n\n        l = item.header.length;\n\n        for (j = 0; j < l; j++) {\n          item.header[j].tokens = [];\n          this.lexer.inline(item.header[j].text, item.header[j].tokens);\n        } // cell child tokens\n\n\n        l = item.rows.length;\n\n        for (j = 0; j < l; j++) {\n          row = item.rows[j];\n\n          for (k = 0; k < row.length; k++) {\n            row[k].tokens = [];\n            this.lexer.inline(row[k].text, row[k].tokens);\n          }\n        }\n\n        return item;\n      }\n    }\n  };\n\n  _proto.lheading = function lheading(src) {\n    var cap = this.rules.block.lheading.exec(src);\n\n    if (cap) {\n      var token = {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1],\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  };\n\n  _proto.paragraph = function paragraph(src) {\n    var cap = this.rules.block.paragraph.exec(src);\n\n    if (cap) {\n      var token = {\n        type: 'paragraph',\n        raw: cap[0],\n        text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1],\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  };\n\n  _proto.text = function text(src) {\n    var cap = this.rules.block.text.exec(src);\n\n    if (cap) {\n      var token = {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0],\n        tokens: []\n      };\n      this.lexer.inline(token.text, token.tokens);\n      return token;\n    }\n  };\n\n  _proto.escape = function escape$1(src) {\n    var cap = this.rules.inline.escape.exec(src);\n\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  };\n\n  _proto.tag = function tag(src) {\n    var cap = this.rules.inline.tag.exec(src);\n\n    if (cap) {\n      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n        this.lexer.state.inLink = true;\n      } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.lexer.state.inLink = false;\n      }\n\n      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = true;\n      } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize ? 'text' : 'html',\n        raw: cap[0],\n        inLink: this.lexer.state.inLink,\n        inRawBlock: this.lexer.state.inRawBlock,\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  };\n\n  _proto.link = function link(src) {\n    var cap = this.rules.inline.link.exec(src);\n\n    if (cap) {\n      var trimmedUrl = cap[2].trim();\n\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!/>$/.test(trimmedUrl)) {\n          return;\n        } // ending angle bracket cannot be escaped\n\n\n        var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        var lastParenIndex = findClosingBracket(cap[2], '()');\n\n        if (lastParenIndex > -1) {\n          var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          var linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n\n      var href = cap[2];\n      var title = '';\n\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0], this.lexer);\n    }\n  };\n\n  _proto.reflink = function reflink(src, links) {\n    var cap;\n\n    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n      var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n\n      if (!link || !link.href) {\n        var text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text: text\n        };\n      }\n\n      return outputLink(cap, link, cap[0], this.lexer);\n    }\n  };\n\n  _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n    if (prevChar === void 0) {\n      prevChar = '';\n    }\n\n    var match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n    if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDF70-\\uDF81\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDE70-\\uDEBE\\uDEC0-\\uDEC9\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD837[\\uDF00-\\uDF1E]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD839[\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF38\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n    var nextChar = match[1] || match[2] || '';\n\n    if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n      var lLength = match[0].length - 1;\n      var rDelim,\n          rLength,\n          delimTotal = lLength,\n          midDelimTotal = 0;\n      var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)\n\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n        if (!rDelim) continue; // skip single * in __abc*abc__\n\n        rLength = rDelim.length;\n\n        if (match[3] || match[4]) {\n          // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) {\n          // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n        if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n        // Remove extra characters. *a*** -> *a*\n\n        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***\n\n        if (Math.min(lLength, rLength) % 2) {\n          var _text = src.slice(1, lLength + match.index + rLength);\n\n          return {\n            type: 'em',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text: _text,\n            tokens: this.lexer.inlineTokens(_text, [])\n          };\n        } // Create 'strong' if smallest delimiter has even char count. **a***\n\n\n        var text = src.slice(2, lLength + match.index + rLength - 1);\n        return {\n          type: 'strong',\n          raw: src.slice(0, lLength + match.index + rLength + 1),\n          text: text,\n          tokens: this.lexer.inlineTokens(text, [])\n        };\n      }\n    }\n  };\n\n  _proto.codespan = function codespan(src) {\n    var cap = this.rules.inline.code.exec(src);\n\n    if (cap) {\n      var text = cap[2].replace(/\\n/g, ' ');\n      var hasNonSpaceChars = /[^ ]/.test(text);\n      var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n\n  _proto.br = function br(src) {\n    var cap = this.rules.inline.br.exec(src);\n\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.del = function del(src) {\n    var cap = this.rules.inline.del.exec(src);\n\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2],\n        tokens: this.lexer.inlineTokens(cap[2], [])\n      };\n    }\n  };\n\n  _proto.autolink = function autolink(src, mangle) {\n    var cap = this.rules.inline.autolink.exec(src);\n\n    if (cap) {\n      var text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n\n  _proto.url = function url(src, mangle) {\n    var cap;\n\n    if (cap = this.rules.inline.url.exec(src)) {\n      var text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        var prevCapZero;\n\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n\n        text = escape(cap[0]);\n\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n\n  _proto.inlineText = function inlineText(src, smartypants) {\n    var cap = this.rules.inline.text.exec(src);\n\n    if (cap) {\n      var text;\n\n      if (this.lexer.state.inRawBlock) {\n        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n\n  return Tokenizer;\n}();\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n  hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n  html: '^ {0,3}(?:' // optional indentation\n  + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n  + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n  + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n  + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n  + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n  + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n  + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n  + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n  + ')',\n  def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?<?([^\\s>]+)>?(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */).replace('bull', block.bullet).getRegex();\nblock.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\nblock.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('|table', '').replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\nblock.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n  + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n  + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n});\nblock.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\nblock.gfm.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('table', block.gfm.table) // interrupt paragraphs with table\n.replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n  + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest,\n  // fences not supported\n  paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n});\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n  + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n  + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n  + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n  + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n  // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n  nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  emStrong: {\n    lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n    //          () Skip orphan inside strong  () Consume to delim (1) #***                (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n    rDelimAst: /^[^_*]*?\\_\\_[^_*]*?\\*[^_*]*?(?=\\_\\_)|[^*]+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n    rDelimUnd: /^[^_*]*?\\*\\*[^_*]*?\\_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n\n  },\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\spunctuation])/\n}; // list of punctuation marks from CommonMark spec\n// without * and _ to handle the different emphasis markers * and _\n\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\ninline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\ninline.escapedEmSt = /\\\\\\*|\\\\_/g;\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\ninline.tag = edit(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\ninline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\ninline.reflink = edit(inline.reflink).replace('label', inline._label).replace('ref', block._label).getRegex();\ninline.nolink = edit(inline.nolink).replace('ref', block._label).getRegex();\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n});\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n});\ninline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * smartypants text replacement\n * @param {string} text\n */\n\nfunction smartypants(text) {\n  return text // em-dashes\n  .replace(/---/g, \"\\u2014\") // en-dashes\n  .replace(/--/g, \"\\u2013\") // opening singles\n  .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n  .replace(/'/g, \"\\u2019\") // opening doubles\n  .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n  .replace(/\"/g, \"\\u201D\") // ellipses\n  .replace(/\\.{3}/g, \"\\u2026\");\n}\n/**\n * mangle email addresses\n * @param {string} text\n */\n\n\nfunction mangle(text) {\n  var out = '',\n      i,\n      ch;\n  var l = text.length;\n\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n/**\n * Block Lexer\n */\n\n\nvar Lexer = /*#__PURE__*/function () {\n  function Lexer(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || exports.defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    this.tokenizer.lexer = this;\n    this.inlineQueue = [];\n    this.state = {\n      inLink: false,\n      inRawBlock: false,\n      top: true\n    };\n    var rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n\n    this.tokenizer.rules = rules;\n  }\n  /**\n   * Expose Rules\n   */\n\n\n  /**\n   * Static Lex Method\n   */\n  Lexer.lex = function lex(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n  /**\n   * Static Lex Inline Method\n   */\n  ;\n\n  Lexer.lexInline = function lexInline(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n  /**\n   * Preprocessing\n   */\n  ;\n\n  var _proto = Lexer.prototype;\n\n  _proto.lex = function lex(src) {\n    src = src.replace(/\\r\\n|\\r/g, '\\n');\n    this.blockTokens(src, this.tokens);\n    var next;\n\n    while (next = this.inlineQueue.shift()) {\n      this.inlineTokens(next.src, next.tokens);\n    }\n\n    return this.tokens;\n  }\n  /**\n   * Lexing\n   */\n  ;\n\n  _proto.blockTokens = function blockTokens(src, tokens) {\n    var _this = this;\n\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    if (this.options.pedantic) {\n      src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n    } else {\n      src = src.replace(/^( *)(\\t+)/gm, function (_, leading, tabs) {\n        return leading + '    '.repeat(tabs.length);\n      });\n    }\n\n    var token, lastToken, cutSrc, lastParagraphClipped;\n\n    while (src) {\n      if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n\n        return false;\n      })) {\n        continue;\n      } // newline\n\n\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n\n        if (token.raw.length === 1 && tokens.length > 0) {\n          // if there's a single \\n as a spacer, it's terminating the last line,\n          // so move it there so that we don't get unecessary paragraph tags\n          tokens[tokens.length - 1].raw += '\\n';\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.code(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // fences\n\n\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // heading\n\n\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // hr\n\n\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // blockquote\n\n\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // list\n\n\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // html\n\n\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // def\n\n\n      if (token = this.tokenizer.def(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.raw;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n\n        continue;\n      } // table (gfm)\n\n\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // lheading\n\n\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // top-level paragraph\n      // prevent paragraph consuming extensions by clipping 'src' to extension start\n\n\n      cutSrc = src;\n\n      if (this.options.extensions && this.options.extensions.startBlock) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n\n          _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n\n      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastParagraphClipped && lastToken.type === 'paragraph') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        lastParagraphClipped = cutSrc.length !== src.length;\n        src = src.substring(token.raw.length);\n        continue;\n      } // text\n\n\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      }\n\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    this.state.top = true;\n    return tokens;\n  };\n\n  _proto.inline = function inline(src, tokens) {\n    this.inlineQueue.push({\n      src: src,\n      tokens: tokens\n    });\n  }\n  /**\n   * Lexing/Compiling\n   */\n  ;\n\n  _proto.inlineTokens = function inlineTokens(src, tokens) {\n    var _this2 = this;\n\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong\n\n    var maskedSrc = src;\n    var match;\n    var keepPrevChar, prevChar; // Mask out reflinks\n\n    if (this.tokens.links) {\n      var links = Object.keys(this.tokens.links);\n\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    } // Mask out other blocks\n\n\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    } // Mask out escaped em & strong delimiters\n\n\n    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n    }\n\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n\n      keepPrevChar = false; // extensions\n\n      if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this2\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n\n        return false;\n      })) {\n        continue;\n      } // escape\n\n\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // tag\n\n\n      if (token = this.tokenizer.tag(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // link\n\n\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // reflink, nolink\n\n\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // em & strong\n\n\n      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // br\n\n\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // del (gfm)\n\n\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // autolink\n\n\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // url (gfm)\n\n\n      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // text\n      // prevent inlineText consuming extensions by clipping 'src' to extension start\n\n\n      cutSrc = src;\n\n      if (this.options.extensions && this.options.extensions.startInline) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n\n          _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n\n      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n        src = src.substring(token.raw.length);\n\n        if (token.raw.slice(-1) !== '_') {\n          // Track prevChar before string of ____ started\n          prevChar = token.raw.slice(-1);\n        }\n\n        keepPrevChar = true;\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      }\n\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  };\n\n  _createClass(Lexer, null, [{\n    key: \"rules\",\n    get: function get() {\n      return {\n        block: block,\n        inline: inline\n      };\n    }\n  }]);\n\n  return Lexer;\n}();\n\n/**\n * Renderer\n */\n\nvar Renderer = /*#__PURE__*/function () {\n  function Renderer(options) {\n    this.options = options || exports.defaults;\n  }\n\n  var _proto = Renderer.prototype;\n\n  _proto.code = function code(_code, infostring, escaped) {\n    var lang = (infostring || '').match(/\\S*/)[0];\n\n    if (this.options.highlight) {\n      var out = this.options.highlight(_code, lang);\n\n      if (out != null && out !== _code) {\n        escaped = true;\n        _code = out;\n      }\n    }\n\n    _code = _code.replace(/\\n$/, '') + '\\n';\n\n    if (!lang) {\n      return '<pre><code>' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n  }\n  /**\n   * @param {string} quote\n   */\n  ;\n\n  _proto.blockquote = function blockquote(quote) {\n    return \"<blockquote>\\n\" + quote + \"</blockquote>\\n\";\n  };\n\n  _proto.html = function html(_html) {\n    return _html;\n  }\n  /**\n   * @param {string} text\n   * @param {string} level\n   * @param {string} raw\n   * @param {any} slugger\n   */\n  ;\n\n  _proto.heading = function heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      var id = this.options.headerPrefix + slugger.slug(raw);\n      return \"<h\" + level + \" id=\\\"\" + id + \"\\\">\" + text + \"</h\" + level + \">\\n\";\n    } // ignore IDs\n\n\n    return \"<h\" + level + \">\" + text + \"</h\" + level + \">\\n\";\n  };\n\n  _proto.hr = function hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  };\n\n  _proto.list = function list(body, ordered, start) {\n    var type = ordered ? 'ol' : 'ul',\n        startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.listitem = function listitem(text) {\n    return \"<li>\" + text + \"</li>\\n\";\n  };\n\n  _proto.checkbox = function checkbox(checked) {\n    return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.paragraph = function paragraph(text) {\n    return \"<p>\" + text + \"</p>\\n\";\n  }\n  /**\n   * @param {string} header\n   * @param {string} body\n   */\n  ;\n\n  _proto.table = function table(header, body) {\n    if (body) body = \"<tbody>\" + body + \"</tbody>\";\n    return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n  }\n  /**\n   * @param {string} content\n   */\n  ;\n\n  _proto.tablerow = function tablerow(content) {\n    return \"<tr>\\n\" + content + \"</tr>\\n\";\n  };\n\n  _proto.tablecell = function tablecell(content, flags) {\n    var type = flags.header ? 'th' : 'td';\n    var tag = flags.align ? \"<\" + type + \" align=\\\"\" + flags.align + \"\\\">\" : \"<\" + type + \">\";\n    return tag + content + (\"</\" + type + \">\\n\");\n  }\n  /**\n   * span level renderer\n   * @param {string} text\n   */\n  ;\n\n  _proto.strong = function strong(text) {\n    return \"<strong>\" + text + \"</strong>\";\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.em = function em(text) {\n    return \"<em>\" + text + \"</em>\";\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.codespan = function codespan(text) {\n    return \"<code>\" + text + \"</code>\";\n  };\n\n  _proto.br = function br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.del = function del(text) {\n    return \"<del>\" + text + \"</del>\";\n  }\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  ;\n\n  _proto.link = function link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = '<a href=\"' + escape(href) + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += '>' + text + '</a>';\n    return out;\n  }\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  ;\n\n  _proto.image = function image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = \"<img src=\\\"\" + href + \"\\\" alt=\\\"\" + text + \"\\\"\";\n\n    if (title) {\n      out += \" title=\\\"\" + title + \"\\\"\";\n    }\n\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  };\n\n  _proto.text = function text(_text) {\n    return _text;\n  };\n\n  return Renderer;\n}();\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nvar TextRenderer = /*#__PURE__*/function () {\n  function TextRenderer() {}\n\n  var _proto = TextRenderer.prototype;\n\n  // no need for block level renderers\n  _proto.strong = function strong(text) {\n    return text;\n  };\n\n  _proto.em = function em(text) {\n    return text;\n  };\n\n  _proto.codespan = function codespan(text) {\n    return text;\n  };\n\n  _proto.del = function del(text) {\n    return text;\n  };\n\n  _proto.html = function html(text) {\n    return text;\n  };\n\n  _proto.text = function text(_text) {\n    return _text;\n  };\n\n  _proto.link = function link(href, title, text) {\n    return '' + text;\n  };\n\n  _proto.image = function image(href, title, text) {\n    return '' + text;\n  };\n\n  _proto.br = function br() {\n    return '';\n  };\n\n  return TextRenderer;\n}();\n\n/**\n * Slugger generates header id\n */\nvar Slugger = /*#__PURE__*/function () {\n  function Slugger() {\n    this.seen = {};\n  }\n  /**\n   * @param {string} value\n   */\n\n\n  var _proto = Slugger.prototype;\n\n  _proto.serialize = function serialize(value) {\n    return value.toLowerCase().trim() // remove html tags\n    .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n  }\n  /**\n   * Finds the next safe (unique) slug to use\n   * @param {string} originalSlug\n   * @param {boolean} isDryRun\n   */\n  ;\n\n  _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n    var slug = originalSlug;\n    var occurenceAccumulator = 0;\n\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n\n    return slug;\n  }\n  /**\n   * Convert string to unique id\n   * @param {object} [options]\n   * @param {boolean} [options.dryrun] Generates the next unique slug without\n   * updating the internal accumulator.\n   */\n  ;\n\n  _proto.slug = function slug(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  };\n\n  return Slugger;\n}();\n\n/**\n * Parsing & Compiling\n */\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(options) {\n    this.options = options || exports.defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n  /**\n   * Static Parse Method\n   */\n\n\n  Parser.parse = function parse(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n  /**\n   * Static Parse Inline Method\n   */\n  ;\n\n  Parser.parseInline = function parseInline(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n  /**\n   * Parse Loop\n   */\n  ;\n\n  var _proto = Parser.prototype;\n\n  _proto.parse = function parse(tokens, top) {\n    if (top === void 0) {\n      top = true;\n    }\n\n    var out = '',\n        i,\n        j,\n        k,\n        l2,\n        l3,\n        row,\n        cell,\n        header,\n        body,\n        token,\n        ordered,\n        start,\n        loose,\n        itemBody,\n        item,\n        checked,\n        task,\n        checkbox,\n        ret;\n    var l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i]; // Run any renderer extensions\n\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n\n        if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'space':\n          {\n            continue;\n          }\n\n        case 'hr':\n          {\n            out += this.renderer.hr();\n            continue;\n          }\n\n        case 'heading':\n          {\n            out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n            continue;\n          }\n\n        case 'code':\n          {\n            out += this.renderer.code(token.text, token.lang, token.escaped);\n            continue;\n          }\n\n        case 'table':\n          {\n            header = ''; // header\n\n            cell = '';\n            l2 = token.header.length;\n\n            for (j = 0; j < l2; j++) {\n              cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), {\n                header: true,\n                align: token.align[j]\n              });\n            }\n\n            header += this.renderer.tablerow(cell);\n            body = '';\n            l2 = token.rows.length;\n\n            for (j = 0; j < l2; j++) {\n              row = token.rows[j];\n              cell = '';\n              l3 = row.length;\n\n              for (k = 0; k < l3; k++) {\n                cell += this.renderer.tablecell(this.parseInline(row[k].tokens), {\n                  header: false,\n                  align: token.align[k]\n                });\n              }\n\n              body += this.renderer.tablerow(cell);\n            }\n\n            out += this.renderer.table(header, body);\n            continue;\n          }\n\n        case 'blockquote':\n          {\n            body = this.parse(token.tokens);\n            out += this.renderer.blockquote(body);\n            continue;\n          }\n\n        case 'list':\n          {\n            ordered = token.ordered;\n            start = token.start;\n            loose = token.loose;\n            l2 = token.items.length;\n            body = '';\n\n            for (j = 0; j < l2; j++) {\n              item = token.items[j];\n              checked = item.checked;\n              task = item.task;\n              itemBody = '';\n\n              if (item.task) {\n                checkbox = this.renderer.checkbox(checked);\n\n                if (loose) {\n                  if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                      item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                    }\n                  } else {\n                    item.tokens.unshift({\n                      type: 'text',\n                      text: checkbox\n                    });\n                  }\n                } else {\n                  itemBody += checkbox;\n                }\n              }\n\n              itemBody += this.parse(item.tokens, loose);\n              body += this.renderer.listitem(itemBody, task, checked);\n            }\n\n            out += this.renderer.list(body, ordered, start);\n            continue;\n          }\n\n        case 'html':\n          {\n            // TODO parse inline content if parameter markdown=1\n            out += this.renderer.html(token.text);\n            continue;\n          }\n\n        case 'paragraph':\n          {\n            out += this.renderer.paragraph(this.parseInline(token.tokens));\n            continue;\n          }\n\n        case 'text':\n          {\n            body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n            while (i + 1 < l && tokens[i + 1].type === 'text') {\n              token = tokens[++i];\n              body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n            }\n\n            out += top ? this.renderer.paragraph(body) : body;\n            continue;\n          }\n\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  }\n  /**\n   * Parse Inline Tokens\n   */\n  ;\n\n  _proto.parseInline = function parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    var out = '',\n        i,\n        token,\n        ret;\n    var l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i]; // Run any renderer extensions\n\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n\n        if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'escape':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        case 'html':\n          {\n            out += renderer.html(token.text);\n            break;\n          }\n\n        case 'link':\n          {\n            out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'image':\n          {\n            out += renderer.image(token.href, token.title, token.text);\n            break;\n          }\n\n        case 'strong':\n          {\n            out += renderer.strong(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'em':\n          {\n            out += renderer.em(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'codespan':\n          {\n            out += renderer.codespan(token.text);\n            break;\n          }\n\n        case 'br':\n          {\n            out += renderer.br();\n            break;\n          }\n\n        case 'del':\n          {\n            out += renderer.del(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'text':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  };\n\n  return Parser;\n}();\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (typeof opt === 'function') {\n    callback = opt;\n    opt = null;\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  if (callback) {\n    var highlight = opt.highlight;\n    var tokens;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    var done = function done(err) {\n      var out;\n\n      if (!err) {\n        try {\n          if (opt.walkTokens) {\n            marked.walkTokens(tokens, opt.walkTokens);\n          }\n\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n      }\n\n      opt.highlight = highlight;\n      return err ? callback(err) : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n    if (!tokens.length) return done();\n    var pending = 0;\n    marked.walkTokens(tokens, function (token) {\n      if (token.type === 'code') {\n        pending++;\n        setTimeout(function () {\n          highlight(token.text, token.lang, function (err, code) {\n            if (err) {\n              return done(err);\n            }\n\n            if (code != null && code !== token.text) {\n              token.text = code;\n              token.escaped = true;\n            }\n\n            pending--;\n\n            if (pending === 0) {\n              done();\n            }\n          });\n        }, 0);\n      }\n    });\n\n    if (pending === 0) {\n      done();\n    }\n\n    return;\n  }\n\n  try {\n    var _tokens = Lexer.lex(src, opt);\n\n    if (opt.walkTokens) {\n      marked.walkTokens(_tokens, opt.walkTokens);\n    }\n\n    return Parser.parse(_tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n}\n/**\n * Options\n */\n\nmarked.options = marked.setOptions = function (opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\nmarked.defaults = exports.defaults;\n/**\n * Use Extension\n */\n\nmarked.use = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var opts = merge.apply(void 0, [{}].concat(args));\n  var extensions = marked.defaults.extensions || {\n    renderers: {},\n    childTokens: {}\n  };\n  var hasExtensions;\n  args.forEach(function (pack) {\n    // ==-- Parse \"addon\" extensions --== //\n    if (pack.extensions) {\n      hasExtensions = true;\n      pack.extensions.forEach(function (ext) {\n        if (!ext.name) {\n          throw new Error('extension name required');\n        }\n\n        if (ext.renderer) {\n          // Renderer extensions\n          var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n\n          if (prevRenderer) {\n            // Replace extension with func to run new extension but fall back if false\n            extensions.renderers[ext.name] = function () {\n              for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var ret = ext.renderer.apply(this, args);\n\n              if (ret === false) {\n                ret = prevRenderer.apply(this, args);\n              }\n\n              return ret;\n            };\n          } else {\n            extensions.renderers[ext.name] = ext.renderer;\n          }\n        }\n\n        if (ext.tokenizer) {\n          // Tokenizer Extensions\n          if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n            throw new Error(\"extension level must be 'block' or 'inline'\");\n          }\n\n          if (extensions[ext.level]) {\n            extensions[ext.level].unshift(ext.tokenizer);\n          } else {\n            extensions[ext.level] = [ext.tokenizer];\n          }\n\n          if (ext.start) {\n            // Function to check for start of token\n            if (ext.level === 'block') {\n              if (extensions.startBlock) {\n                extensions.startBlock.push(ext.start);\n              } else {\n                extensions.startBlock = [ext.start];\n              }\n            } else if (ext.level === 'inline') {\n              if (extensions.startInline) {\n                extensions.startInline.push(ext.start);\n              } else {\n                extensions.startInline = [ext.start];\n              }\n            }\n          }\n        }\n\n        if (ext.childTokens) {\n          // Child tokens to be visited by walkTokens\n          extensions.childTokens[ext.name] = ext.childTokens;\n        }\n      });\n    } // ==-- Parse \"overwrite\" extensions --== //\n\n\n    if (pack.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false\n\n          renderer[prop] = function () {\n            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n\n            var ret = pack.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in pack.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (pack.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false\n\n          tokenizer[prop] = function () {\n            for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n              args[_key4] = arguments[_key4];\n            }\n\n            var ret = pack.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in pack.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    } // ==-- Parse WalkTokens extensions --== //\n\n\n    if (pack.walkTokens) {\n      var _walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        pack.walkTokens.call(this, token);\n\n        if (_walkTokens) {\n          _walkTokens.call(this, token);\n        }\n      };\n    }\n\n    if (hasExtensions) {\n      opts.extensions = extensions;\n    }\n\n    marked.setOptions(opts);\n  });\n};\n/**\n * Run callback for every token\n */\n\n\nmarked.walkTokens = function (tokens, callback) {\n  var _loop3 = function _loop3() {\n    var token = _step.value;\n    callback.call(marked, token);\n\n    switch (token.type) {\n      case 'table':\n        {\n          for (var _iterator2 = _createForOfIteratorHelperLoose(token.header), _step2; !(_step2 = _iterator2()).done;) {\n            var cell = _step2.value;\n            marked.walkTokens(cell.tokens, callback);\n          }\n\n          for (var _iterator3 = _createForOfIteratorHelperLoose(token.rows), _step3; !(_step3 = _iterator3()).done;) {\n            var row = _step3.value;\n\n            for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n              var _cell = _step4.value;\n              marked.walkTokens(_cell.tokens, callback);\n            }\n          }\n\n          break;\n        }\n\n      case 'list':\n        {\n          marked.walkTokens(token.items, callback);\n          break;\n        }\n\n      default:\n        {\n          if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n            // Walk any extensions\n            marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n              marked.walkTokens(token[childTokens], callback);\n            });\n          } else if (token.tokens) {\n            marked.walkTokens(token.tokens, callback);\n          }\n        }\n    }\n  };\n\n  for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n    _loop3();\n  }\n};\n/**\n * Parse Inline\n * @param {string} src\n */\n\n\nmarked.parseInline = function (src, opt) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked.parseInline(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  try {\n    var tokens = Lexer.lexInline(src, opt);\n\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n\n    return Parser.parseInline(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n};\n/**\n * Expose\n */\n\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.parse = marked;\nvar options = marked.options;\nvar setOptions = marked.setOptions;\nvar use = marked.use;\nvar walkTokens = marked.walkTokens;\nvar parseInline = marked.parseInline;\nvar parse = marked;\nvar parser = Parser.parse;\nvar lexer = Lexer.lex;\n\nexports.Lexer = Lexer;\nexports.Parser = Parser;\nexports.Renderer = Renderer;\nexports.Slugger = Slugger;\nexports.TextRenderer = TextRenderer;\nexports.Tokenizer = Tokenizer;\nexports.getDefaults = getDefaults;\nexports.lexer = lexer;\nexports.marked = marked;\nexports.options = options;\nexports.parse = parse;\nexports.parseInline = parseInline;\nexports.parser = parser;\nexports.setOptions = setOptions;\nexports.use = use;\nexports.walkTokens = walkTokens;\n","var PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexport const glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexport const Konva = {\n    _global: glob,\n    version: '8.3.10',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return Konva['DD'].isDragging;\n    },\n    isDragReady() {\n        return !!Konva['DD'].node;\n    },\n    document: glob.document,\n    _injectGlobal(Konva) {\n        glob.Konva = Konva;\n    },\n};\nexport const _registerNode = (NodeClass) => {\n    Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nKonva._injectGlobal(Konva);\n","import { Konva } from './Global.js';\nexport class Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = Util._getRotation(result.rotation);\n        return result;\n    }\n}\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexport const Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (Util._namedColorToRBA(str) ||\n            Util._hex3ColorToRGBA(str) ||\n            Util._hex6ColorToRGBA(str) ||\n            Util._rgbColorToRGBA(str) ||\n            Util._rgbaColorToRGBA(str) ||\n            Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n};\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nfunction _formatValue(val) {\n    if (Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nexport function RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexport function alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexport function getNumberValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isNumber(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util._isNumber(val);\n            let isValidArray = Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrAutoValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isString(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringOrGradientValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val.addColorStop);\n            if (!(isString || isGradient)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexport function getFunctionValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isFunction(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberArrayValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isArray(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util._isNumber(item)) {\n                        Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexport function getBooleanValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexport function getComponentValidator(components) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util.isObject(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\n","import { Util } from './Util.js';\nimport { getComponentValidator } from './Validators.js';\nvar GET = 'get', SET = 'set';\nexport const Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        Factory.addGetter(constructor, attr, def);\n        Factory.addSetter(constructor, attr, validator, after);\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        var method = GET + Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = getComponentValidator(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        var capitalizedAttr = Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util.error('Adding deprecated ' + attr);\n        var method = GET + Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        Factory.addSetter(constructor, attr, validator, function () {\n            Util.error(message);\n        });\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","import { Util } from './Util.js';\nimport { Konva } from './Global.js';\nfunction simplifyArray(arr) {\n    var retArr = [], len = arr.length, util = Util, n, val;\n    for (n = 0; n < len; n++) {\n        val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nexport class Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this._context = canvas._canvas.getContext('2d');\n        if (Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        var lineCap = shape.getLineCap();\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        var lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n    arcTo(a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n    clearRect(a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    }\n    clip() {\n        this._context.clip();\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    }\n    createLinearGradient(a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n    createPattern(a0, a1) {\n        return this._context.createPattern(a0, a1);\n    }\n    createRadialGradient(a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n    drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    }\n    ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    isPointInPath(x, y) {\n        return this._context.isPointInPath(x, y);\n    }\n    fill(path2d) {\n        if (path2d) {\n            this._context.fill(path2d);\n        }\n        else {\n            this._context.fill();\n        }\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    }\n    lineTo(a0, a1) {\n        this._context.lineTo(a0, a1);\n    }\n    moveTo(a0, a1) {\n        this._context.moveTo(a0, a1);\n    }\n    rect(a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    }\n    putImageData(a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    }\n    quadraticCurveTo(a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(a0) {\n        this._context.rotate(a0);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(a0, a1) {\n        this._context.scale(a0, a1);\n    }\n    setLineDash(a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    }\n    transform(a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n    translate(a0, a1) {\n        this._context.translate(a0, a1);\n    }\n    _enableTrace() {\n        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        var def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nexport class SceneContext extends Context {\n    _fillColor(shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        var grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        var hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        var hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        var hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        var hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        var start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexport class HitContext extends Context {\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            var strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\n","import { Util } from './Util.js';\nimport { SceneContext, HitContext } from './Context.js';\nimport { Konva } from './Global.js';\nimport { Factory } from './Factory.js';\nimport { getNumberValidator } from './Validators.js';\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    return _pixelRatio;\n}\nexport class Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nFactory.addGetterSetter(Canvas, 'pixelRatio', undefined, getNumberValidator());\nexport class SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.context = new SceneContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexport class HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nexport const DD = {\n    get isDragging() {\n        var flag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                DD.justDragged = true;\n                Konva._mouseListenClick = false;\n                Konva._touchListenClick = false;\n                Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Konva['Stage'] && elem.node);\n            if (drawNode) {\n                drawNode.batchDraw();\n            }\n        });\n    },\n    _endDragAfter(evt) {\n        DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Konva.isBrowser) {\n    window.addEventListener('mouseup', DD._endDragBefore, true);\n    window.addEventListener('touchend', DD._endDragBefore, true);\n    window.addEventListener('mousemove', DD._drag);\n    window.addEventListener('touchmove', DD._drag);\n    window.addEventListener('mouseup', DD._endDragAfter, false);\n    window.addEventListener('touchend', DD._endDragAfter, false);\n}\n","import { Util, Transform } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { Konva } from './Global.js';\nimport { DD } from './DragAndDrop.js';\nimport { getNumberValidator, getStringValidator, getBooleanValidator, } from './Validators.js';\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nexport class Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        this._cache.delete(CANVAS);\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2 + 1;\n        height += offset * 2 + 1;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n        }), cachedHitCanvas = new HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        return this;\n    }\n    getAttr(attr) {\n        var method = 'get' + Util._capitalize(attr);\n        if (Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        var parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return this.attrs || {};\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            var key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util._capitalize(key);\n                if (Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        if (!this.getStage()) {\n            return null;\n        }\n        var pos = this.getStage().getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        var transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util.isObject(val) && !Util._isPlainObject(val) && !Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util.isValidSelector(sel)) {\n                Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        var at;\n        if (top) {\n            at = new Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        var attrs = Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        if (!config || !config.callback) {\n            throw 'callback required for toImage method config argument';\n        }\n        var callback = config.callback;\n        delete config.callback;\n        Util._urlToImage(this.toDataURL(config), function (img) {\n            callback(img);\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        var func = this[SET + Util._capitalize(attr)];\n        if (Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        let listeners = this._cache.get(ALL_LISTENERS);\n        if (!listeners) {\n            listeners = {};\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                if (!obj.eventListeners) {\n                    obj = Object.getPrototypeOf(obj);\n                    continue;\n                }\n                for (var event in obj.eventListeners) {\n                    const newEvents = obj.eventListeners[event];\n                    const oldEvents = listeners[event] || [];\n                    listeners[event] = newEvents.concat(oldEvents);\n                }\n                obj = Object.getPrototypeOf(obj);\n            }\n            this._cache.set(ALL_LISTENERS, listeners);\n        }\n        return listeners[eventType];\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DD._endDragBefore(evt);\n        DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Konva[className]) {\n            Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, getNumberValidator());\naddGetterSetter(Node, 'y', 0, getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', getStringValidator());\naddGetterSetter(Node, 'opacity', 1, getNumberValidator());\naddGetterSetter(Node, 'name', '', getStringValidator());\naddGetterSetter(Node, 'id', '', getStringValidator());\naddGetterSetter(Node, 'rotation', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, getNumberValidator());\naddGetterSetter(Node, 'width', 0, getNumberValidator());\naddGetterSetter(Node, 'height', 0, getNumberValidator());\naddGetterSetter(Node, 'listening', true, getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, getBooleanValidator());\nFactory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","import { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator } from './Validators.js';\nexport class Container extends Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        if (!filterFunc) {\n            return this.children || [];\n        }\n        const children = this.children || [];\n        var results = [];\n        children.forEach(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        var child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        var retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        var obj = Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        var node = Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        var arr = [];\n        this.find('Shape').forEach(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top) {\n        var _a;\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            if (clipFunc) {\n                clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip();\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config) {\n        var _a;\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nFactory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory.addGetterSetter(Container, 'clipX', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipY', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipWidth', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipHeight', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipFunc');\n","import { Konva } from './Global.js';\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Konva._global['PointerEvent'] !== undefined;\nexport function getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexport function createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nexport function hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexport function setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexport function releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\n","import { Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Container } from './Container.js';\nimport { Konva } from './Global.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { DD } from './DragAndDrop.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexport const stages = [];\nexport class Stage extends Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        var content = this.content;\n        if (content && Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = stages.indexOf(this);\n        if (index > -1) {\n            stages.splice(index, 1);\n        }\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n;\n        for (n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerenter, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerover, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var targetShape = this._getTargetShape(eventType);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            var shape = this.getIntersection(pos);\n            DD.justDragged = false;\n            Konva['_' + eventType + 'ListenClick'] = true;\n            const hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (DD.isDragging && DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        var targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            var differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n                targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n                    shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DD.justDragged) {\n                Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n                if (Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable) {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nStage.prototype.nodeType = STAGE;\n_registerNode(Stage);\nFactory.addGetterSetter(Stage, 'container');\n","import { Konva } from './Global.js';\nimport { Transform, Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator, getNumberOrAutoValidator, getStringValidator, getBooleanValidator, getStringOrGradientValidator, } from './Validators.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexport const shapes = {};\nfunction _fillFunc(context) {\n    context.fill();\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nexport class Shape extends Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util.getRandomColor();\n            if (key && !(key in shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        shapes[key] = this;\n    }\n    getContext() {\n        Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (this.hasShadow()) {\n            var rgba = Util.colorToRGBA(this.shadowColor());\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node.prototype.destroy.call(this);\n        delete shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n_registerNode(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory.addGetterSetter(Shape, 'stroke', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'strokeWidth', 2, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape, 'strokeHitEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'perfectDrawEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'lineJoin');\nFactory.addGetterSetter(Shape, 'lineCap');\nFactory.addGetterSetter(Shape, 'sceneFunc');\nFactory.addGetterSetter(Shape, 'hitFunc');\nFactory.addGetterSetter(Shape, 'dash');\nFactory.addGetterSetter(Shape, 'dashOffset', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowColor', undefined, getStringValidator());\nFactory.addGetterSetter(Shape, 'shadowBlur', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOpacity', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'shadowOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOffsetY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternImage');\nFactory.addGetterSetter(Shape, 'fill', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'fillPatternX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternScaleX', 1, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternScaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { Node } from './Node.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { getBooleanValidator } from './Validators.js';\nimport { shapes } from './Shape.js';\nimport { _registerNode } from './Global.js';\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nexport class Layer extends Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new SceneCanvas();\n        this.hitCanvas = new HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n}\nLayer.prototype.nodeType = 'Layer';\n_registerNode(Layer);\nFactory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory.addGetterSetter(Layer, 'hitGraphEnabled', true, getBooleanValidator());\n","import { Util } from './Util.js';\nimport { Layer } from './Layer.js';\nimport { _registerNode } from './Global.js';\nexport class FastLayer extends Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nFastLayer.prototype.nodeType = 'FastLayer';\n_registerNode(FastLayer);\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { _registerNode } from './Global.js';\nexport class Group extends Container {\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nGroup.prototype.nodeType = 'Group';\n_registerNode(Group);\n","import { glob } from './Global.js';\nimport { Util } from './Util.js';\nvar now = (function () {\n    if (glob.performance && glob.performance.now) {\n        return function () {\n            return glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nexport class Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nexport class Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util.colorToRGBA(start[n]);\n                        endRGBA = Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util.colorToRGBA(start);\n            endRGBA = Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexport const Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","import { Konva as Global } from './Global.js';\nimport { Util, Transform } from './Util.js';\nimport { Node } from './Node.js';\nimport { Container } from './Container.js';\nimport { Stage, stages } from './Stage.js';\nimport { Layer } from './Layer.js';\nimport { FastLayer } from './FastLayer.js';\nimport { Group } from './Group.js';\nimport { DD } from './DragAndDrop.js';\nimport { Shape, shapes } from './Shape.js';\nimport { Animation } from './Animation.js';\nimport { Tween, Easings } from './Tween.js';\nimport { Context } from './Context.js';\nimport { Canvas } from './Canvas.js';\nexport const Konva = Util._assign(Global, {\n    Util,\n    Transform,\n    Node,\n    Container,\n    Stage,\n    stages,\n    Layer,\n    FastLayer,\n    Group,\n    DD,\n    Shape,\n    shapes,\n    Animation,\n    Tween,\n    Easings,\n    Context,\n    Canvas,\n});\nexport default Konva;\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator, getBooleanValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Arc extends Shape {\n    _sceneFunc(context) {\n        var angle = Konva.getAngle(this.angle()), clockwise = this.clockwise();\n        context.beginPath();\n        context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n        context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n    getSelfRect() {\n        const innerRadius = this.innerRadius();\n        const outerRadius = this.outerRadius();\n        const clockwise = this.clockwise();\n        const angle = Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());\n        const boundLeftRatio = Math.cos(Math.min(angle, Math.PI));\n        const boundRightRatio = 1;\n        const boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), (3 * Math.PI) / 2));\n        const boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));\n        const boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);\n        const boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);\n        const boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);\n        const boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);\n        return {\n            x: boundLeft,\n            y: clockwise ? -1 * boundBottom : boundTop,\n            width: boundRight - boundLeft,\n            height: boundBottom - boundTop,\n        };\n    }\n}\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Arc);\nFactory.addGetterSetter(Arc, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'outerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'clockwise', false, getBooleanValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getNumberArrayValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    var len = p.length, allPoints = [], n, cp;\n    for (n = 2; n < len - 2; n += 2) {\n        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nexport class Line extends Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n_registerNode(Line);\nFactory.addGetterSetter(Line, 'closed', false);\nFactory.addGetterSetter(Line, 'bezier', false);\nFactory.addGetterSetter(Line, 'tension', 0, getNumberValidator());\nFactory.addGetterSetter(Line, 'points', [], getNumberArrayValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nexport class Path extends Shape {\n    constructor(config) {\n        super(config);\n        this.dataArray = [];\n        this.pathLength = 0;\n        this.dataArray = Path.parsePathData(this.data());\n        this.pathLength = 0;\n        for (var i = 0; i < this.dataArray.length; ++i) {\n            this.pathLength += this.dataArray[i].pathLength;\n        }\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.data());\n            this.pathLength = 0;\n            for (var i = 0; i < this.dataArray.length; ++i) {\n                this.pathLength += this.dataArray[i].pathLength;\n            }\n        });\n    }\n    _sceneFunc(context) {\n        var ca = this.dataArray;\n        context.beginPath();\n        var isClosed = false;\n        for (var n = 0; n < ca.length; n++) {\n            var c = ca[n].command;\n            var p = ca[n].points;\n            switch (c) {\n                case 'L':\n                    context.lineTo(p[0], p[1]);\n                    break;\n                case 'M':\n                    context.moveTo(p[0], p[1]);\n                    break;\n                case 'C':\n                    context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n                    break;\n                case 'Q':\n                    context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n                    break;\n                case 'A':\n                    var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(psi);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-psi);\n                    context.translate(-cx, -cy);\n                    break;\n                case 'z':\n                    isClosed = true;\n                    context.closePath();\n                    break;\n            }\n        }\n        if (!isClosed && !this.hasFill()) {\n            context.strokeShape(this);\n        }\n        else {\n            context.fillStrokeShape(this);\n        }\n    }\n    getSelfRect() {\n        var points = [];\n        this.dataArray.forEach(function (data) {\n            if (data.command === 'A') {\n                var start = data.points[4];\n                var dTheta = data.points[5];\n                var end = data.points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                if (dTheta < 0) {\n                    for (let t = start - inc; t > end; t -= inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n                else {\n                    for (let t = start + inc; t < end; t += inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n            }\n            else if (data.command === 'C') {\n                for (let t = 0.0; t <= 1; t += 0.01) {\n                    const point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n                    points.push(point.x, point.y);\n                }\n            }\n            else {\n                points = points.concat(data.points);\n            }\n        });\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            if (!isNaN(x)) {\n                minX = Math.min(minX, x);\n                maxX = Math.max(maxX, x);\n            }\n            if (!isNaN(y)) {\n                minY = Math.min(minY, y);\n                maxY = Math.max(maxY, y);\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getLength() {\n        return this.pathLength;\n    }\n    getPointAtLength(length) {\n        var point, i = 0, ii = this.dataArray.length;\n        if (!ii) {\n            return null;\n        }\n        while (i < ii && length > this.dataArray[i].pathLength) {\n            length -= this.dataArray[i].pathLength;\n            ++i;\n        }\n        if (i === ii) {\n            point = this.dataArray[i - 1].points.slice(-2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        if (length < 0.01) {\n            point = this.dataArray[i].points.slice(0, 2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        var cp = this.dataArray[i];\n        var p = cp.points;\n        switch (cp.command) {\n            case 'L':\n                return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n            case 'C':\n                return Path.getPointOnCubicBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n            case 'Q':\n                return Path.getPointOnQuadraticBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n            case 'A':\n                var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6];\n                theta += (dTheta * length) / cp.pathLength;\n                return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n        }\n        return null;\n    }\n    static getLineLength(x1, y1, x2, y2) {\n        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    static getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n        if (fromX === undefined) {\n            fromX = P1x;\n        }\n        if (fromY === undefined) {\n            fromY = P1y;\n        }\n        var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n        var run = Math.sqrt((dist * dist) / (1 + m * m));\n        if (P2x < P1x) {\n            run *= -1;\n        }\n        var rise = m * run;\n        var pt;\n        if (P2x === P1x) {\n            pt = {\n                x: fromX,\n                y: fromY + rise,\n            };\n        }\n        else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n            pt = {\n                x: fromX + run,\n                y: fromY + rise,\n            };\n        }\n        else {\n            var ix, iy;\n            var len = this.getLineLength(P1x, P1y, P2x, P2y);\n            var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n            u = u / (len * len);\n            ix = P1x + u * (P2x - P1x);\n            iy = P1y + u * (P2y - P1y);\n            var pRise = this.getLineLength(fromX, fromY, ix, iy);\n            var pRun = Math.sqrt(dist * dist - pRise * pRise);\n            run = Math.sqrt((pRun * pRun) / (1 + m * m));\n            if (P2x < P1x) {\n                run *= -1;\n            }\n            rise = m * run;\n            pt = {\n                x: ix + run,\n                y: iy + rise,\n            };\n        }\n        return pt;\n    }\n    static getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n        function CB1(t) {\n            return t * t * t;\n        }\n        function CB2(t) {\n            return 3 * t * t * (1 - t);\n        }\n        function CB3(t) {\n            return 3 * t * (1 - t) * (1 - t);\n        }\n        function CB4(t) {\n            return (1 - t) * (1 - t) * (1 - t);\n        }\n        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n        function QB1(t) {\n            return t * t;\n        }\n        function QB2(t) {\n            return 2 * t * (1 - t);\n        }\n        function QB3(t) {\n            return (1 - t) * (1 - t);\n        }\n        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {\n        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);\n        var pt = {\n            x: rx * Math.cos(theta),\n            y: ry * Math.sin(theta),\n        };\n        return {\n            x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n            y: cy + (pt.x * sinPsi + pt.y * cosPsi),\n        };\n    }\n    static parsePathData(data) {\n        if (!data) {\n            return [];\n        }\n        var cs = data;\n        var cc = [\n            'm',\n            'M',\n            'l',\n            'L',\n            'v',\n            'V',\n            'h',\n            'H',\n            'z',\n            'Z',\n            'c',\n            'C',\n            'q',\n            'Q',\n            't',\n            'T',\n            's',\n            'S',\n            'a',\n            'A',\n        ];\n        cs = cs.replace(new RegExp(' ', 'g'), ',');\n        for (var n = 0; n < cc.length; n++) {\n            cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n        }\n        var arr = cs.split('|');\n        var ca = [];\n        var coords = [];\n        var cpx = 0;\n        var cpy = 0;\n        var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n        var match;\n        for (n = 1; n < arr.length; n++) {\n            var str = arr[n];\n            var c = str.charAt(0);\n            str = str.slice(1);\n            coords.length = 0;\n            while ((match = re.exec(str))) {\n                coords.push(match[0]);\n            }\n            var p = [];\n            for (var j = 0, jlen = coords.length; j < jlen; j++) {\n                if (coords[j] === '00') {\n                    p.push(0, 0);\n                    continue;\n                }\n                var parsed = parseFloat(coords[j]);\n                if (!isNaN(parsed)) {\n                    p.push(parsed);\n                }\n                else {\n                    p.push(0);\n                }\n            }\n            while (p.length > 0) {\n                if (isNaN(p[0])) {\n                    break;\n                }\n                var cmd = null;\n                var points = [];\n                var startX = cpx, startY = cpy;\n                var prevCmd, ctlPtx, ctlPty;\n                var rx, ry, psi, fa, fs, x1, y1;\n                switch (c) {\n                    case 'l':\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'L':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'm':\n                        var dx = p.shift();\n                        var dy = p.shift();\n                        cpx += dx;\n                        cpy += dy;\n                        cmd = 'M';\n                        if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                            for (var idx = ca.length - 2; idx >= 0; idx--) {\n                                if (ca[idx].command === 'M') {\n                                    cpx = ca[idx].points[0] + dx;\n                                    cpy = ca[idx].points[1] + dy;\n                                    break;\n                                }\n                            }\n                        }\n                        points.push(cpx, cpy);\n                        c = 'l';\n                        break;\n                    case 'M':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'M';\n                        points.push(cpx, cpy);\n                        c = 'L';\n                        break;\n                    case 'h':\n                        cpx += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'H':\n                        cpx = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'v':\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'V':\n                        cpy = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'C':\n                        points.push(p.shift(), p.shift(), p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'c':\n                        points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'S':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 's':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'Q':\n                        points.push(p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'q':\n                        points.push(cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'T':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 't':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 'A':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                    case 'a':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                }\n                ca.push({\n                    command: cmd || c,\n                    points: points,\n                    start: {\n                        x: startX,\n                        y: startY,\n                    },\n                    pathLength: this.calcLength(startX, startY, cmd || c, points),\n                });\n            }\n            if (c === 'z' || c === 'Z') {\n                ca.push({\n                    command: 'z',\n                    points: [],\n                    start: undefined,\n                    pathLength: 0,\n                });\n            }\n        }\n        return ca;\n    }\n    static calcLength(x, y, cmd, points) {\n        var len, p1, p2, t;\n        var path = Path;\n        switch (cmd) {\n            case 'L':\n                return path.getLineLength(x, y, points[0], points[1]);\n            case 'C':\n                len = 0.0;\n                p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'Q':\n                len = 0.0;\n                p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'A':\n                len = 0.0;\n                var start = points[4];\n                var dTheta = points[5];\n                var end = points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n                if (dTheta < 0) {\n                    for (t = start - inc; t > end; t -= inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                else {\n                    for (t = start + inc; t < end; t += inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                return len;\n        }\n        return 0;\n    }\n    static convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n        var psi = psiDeg * (Math.PI / 180.0);\n        var xp = (Math.cos(psi) * (x1 - x2)) / 2.0 + (Math.sin(psi) * (y1 - y2)) / 2.0;\n        var yp = (-1 * Math.sin(psi) * (x1 - x2)) / 2.0 +\n            (Math.cos(psi) * (y1 - y2)) / 2.0;\n        var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n        if (lambda > 1) {\n            rx *= Math.sqrt(lambda);\n            ry *= Math.sqrt(lambda);\n        }\n        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) /\n            (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n        if (fa === fs) {\n            f *= -1;\n        }\n        if (isNaN(f)) {\n            f = 0;\n        }\n        var cxp = (f * rx * yp) / ry;\n        var cyp = (f * -ry * xp) / rx;\n        var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n        var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n        var vMag = function (v) {\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n        };\n        var vRatio = function (u, v) {\n            return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n        };\n        var vAngle = function (u, v) {\n            return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n        };\n        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n        var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n        var dTheta = vAngle(u, v);\n        if (vRatio(u, v) <= -1) {\n            dTheta = Math.PI;\n        }\n        if (vRatio(u, v) >= 1) {\n            dTheta = 0;\n        }\n        if (fs === 0 && dTheta > 0) {\n            dTheta = dTheta - 2 * Math.PI;\n        }\n        if (fs === 1 && dTheta < 0) {\n            dTheta = dTheta + 2 * Math.PI;\n        }\n        return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    }\n}\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n_registerNode(Path);\nFactory.addGetterSetter(Path, 'data');\n","import { Factory } from '../Factory.js';\nimport { Line } from './Line.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nimport { Path } from './Path.js';\nexport class Arrow extends Line {\n    _sceneFunc(ctx) {\n        super._sceneFunc(ctx);\n        var PI2 = Math.PI * 2;\n        var points = this.points();\n        var tp = points;\n        var fromTension = this.tension() !== 0 && points.length > 4;\n        if (fromTension) {\n            tp = this.getTensionPoints();\n        }\n        var length = this.pointerLength();\n        var n = points.length;\n        var dx, dy;\n        if (fromTension) {\n            const lp = [\n                tp[tp.length - 4],\n                tp[tp.length - 3],\n                tp[tp.length - 2],\n                tp[tp.length - 1],\n                points[n - 2],\n                points[n - 1],\n            ];\n            const lastLength = Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], 'C', lp);\n            const previous = Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);\n            dx = points[n - 2] - previous.x;\n            dy = points[n - 1] - previous.y;\n        }\n        else {\n            dx = points[n - 2] - points[n - 4];\n            dy = points[n - 1] - points[n - 3];\n        }\n        var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n        var width = this.pointerWidth();\n        if (this.pointerAtEnding()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[n - 2], points[n - 1]);\n            ctx.rotate(radians);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n        if (this.pointerAtBeginning()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[0], points[1]);\n            if (fromTension) {\n                dx = (tp[0] + tp[2]) / 2 - points[0];\n                dy = (tp[1] + tp[3]) / 2 - points[1];\n            }\n            else {\n                dx = points[2] - points[0];\n                dy = points[3] - points[1];\n            }\n            ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n    }\n    __fillStroke(ctx) {\n        var isDashEnabled = this.dashEnabled();\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = false;\n            ctx.setLineDash([]);\n        }\n        ctx.fillStrokeShape(this);\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = true;\n        }\n    }\n    getSelfRect() {\n        const lineRect = super.getSelfRect();\n        const offset = this.pointerWidth() / 2;\n        return {\n            x: lineRect.x - offset,\n            y: lineRect.y - offset,\n            width: lineRect.width + offset * 2,\n            height: lineRect.height + offset * 2,\n        };\n    }\n}\nArrow.prototype.className = 'Arrow';\n_registerNode(Arrow);\nFactory.addGetterSetter(Arrow, 'pointerLength', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerWidth', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nFactory.addGetterSetter(Arrow, 'pointerAtEnding', true);\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Circle extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        if (this.radius() !== width / 2) {\n            this.radius(width / 2);\n        }\n    }\n    setHeight(height) {\n        if (this.radius() !== height / 2) {\n            this.radius(height / 2);\n        }\n    }\n}\nCircle.prototype._centroid = true;\nCircle.prototype.className = 'Circle';\nCircle.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Circle);\nFactory.addGetterSetter(Circle, 'radius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Ellipse extends Shape {\n    _sceneFunc(context) {\n        var rx = this.radiusX(), ry = this.radiusY();\n        context.beginPath();\n        context.save();\n        if (rx !== ry) {\n            context.scale(1, ry / rx);\n        }\n        context.arc(0, 0, rx, 0, Math.PI * 2, false);\n        context.restore();\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radiusX() * 2;\n    }\n    getHeight() {\n        return this.radiusY() * 2;\n    }\n    setWidth(width) {\n        this.radiusX(width / 2);\n    }\n    setHeight(height) {\n        this.radiusY(height / 2);\n    }\n}\nEllipse.prototype.className = 'Ellipse';\nEllipse.prototype._centroid = true;\nEllipse.prototype._attrsAffectingSize = ['radiusX', 'radiusY'];\n_registerNode(Ellipse);\nFactory.addComponentsGetterSetter(Ellipse, 'radius', ['x', 'y']);\nFactory.addGetterSetter(Ellipse, 'radiusX', 0, getNumberValidator());\nFactory.addGetterSetter(Ellipse, 'radiusY', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Image extends Shape {\n    constructor(attrs) {\n        super(attrs);\n        this.on('imageChange.konva', () => {\n            this._setImageLoad();\n        });\n        this._setImageLoad();\n    }\n    _setImageLoad() {\n        const image = this.image();\n        if (image && image.complete) {\n            return;\n        }\n        if (image && image.readyState === 4) {\n            return;\n        }\n        if (image && image['addEventListener']) {\n            image['addEventListener']('load', () => {\n                this._requestDraw();\n            });\n        }\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _sceneFunc(context) {\n        const width = this.getWidth();\n        const height = this.getHeight();\n        const image = this.attrs.image;\n        let params;\n        if (image) {\n            const cropWidth = this.attrs.cropWidth;\n            const cropHeight = this.attrs.cropHeight;\n            if (cropWidth && cropHeight) {\n                params = [\n                    image,\n                    this.cropX(),\n                    this.cropY(),\n                    cropWidth,\n                    cropHeight,\n                    0,\n                    0,\n                    width,\n                    height,\n                ];\n            }\n            else {\n                params = [image, 0, 0, width, height];\n            }\n        }\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            context.drawImage.apply(context, params);\n        }\n    }\n    _hitFunc(context) {\n        var width = this.width(), height = this.height();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        var _a, _b;\n        return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.width;\n    }\n    getHeight() {\n        var _a, _b;\n        return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.height;\n    }\n    static fromURL(url, callback, onError = null) {\n        var img = Util.createImageElement();\n        img.onload = function () {\n            var image = new Image({\n                image: img,\n            });\n            callback(image);\n        };\n        img.onerror = onError;\n        img.crossOrigin = 'Anonymous';\n        img.src = url;\n    }\n}\nImage.prototype.className = 'Image';\n_registerNode(Image);\nFactory.addGetterSetter(Image, 'image');\nFactory.addComponentsGetterSetter(Image, 'crop', ['x', 'y', 'width', 'height']);\nFactory.addGetterSetter(Image, 'cropX', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropY', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropHeight', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Group } from '../Group.js';\nimport { getNumberOrArrayOfNumbersValidator, getNumberValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nexport class Label extends Group {\n    constructor(config) {\n        super(config);\n        this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n    }\n    getText() {\n        return this.find('Text')[0];\n    }\n    getTag() {\n        return this.find('Tag')[0];\n    }\n    _addListeners(text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    }\n    getWidth() {\n        return this.getText().width();\n    }\n    getHeight() {\n        return this.getText().height();\n    }\n    _sync() {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height,\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n            });\n        }\n    }\n}\nLabel.prototype.className = 'Label';\n_registerNode(Label);\nexport class Tag extends Shape {\n    _sceneFunc(context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = this.cornerRadius();\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.beginPath();\n        context.moveTo(topLeft, 0);\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getSelfRect() {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    }\n}\nTag.prototype.className = 'Tag';\n_registerNode(Tag);\nFactory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory.addGetterSetter(Tag, 'pointerWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'pointerHeight', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nimport { getNumberOrArrayOfNumbersValidator } from '../Validators.js';\nexport class Rect extends Shape {\n    _sceneFunc(context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            let topLeft = 0;\n            let topRight = 0;\n            let bottomLeft = 0;\n            let bottomRight = 0;\n            if (typeof cornerRadius === 'number') {\n                topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n            }\n            else {\n                topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n                topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n                bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n                bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n            }\n            context.moveTo(topLeft, 0);\n            context.lineTo(width - topRight, 0);\n            context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n            context.lineTo(width, height - bottomRight);\n            context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n            context.lineTo(bottomLeft, height);\n            context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n            context.lineTo(0, topLeft);\n            context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nRect.prototype.className = 'Rect';\n_registerNode(Rect);\nFactory.addGetterSetter(Rect, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class RegularPolygon extends Shape {\n    _sceneFunc(context) {\n        const points = this._getPoints();\n        context.beginPath();\n        context.moveTo(points[0].x, points[0].y);\n        for (var n = 1; n < points.length; n++) {\n            context.lineTo(points[n].x, points[n].y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    _getPoints() {\n        const sides = this.attrs.sides;\n        const radius = this.attrs.radius || 0;\n        const points = [];\n        for (var n = 0; n < sides; n++) {\n            points.push({\n                x: radius * Math.sin((n * 2 * Math.PI) / sides),\n                y: -1 * radius * Math.cos((n * 2 * Math.PI) / sides),\n            });\n        }\n        return points;\n    }\n    getSelfRect() {\n        const points = this._getPoints();\n        var minX = points[0].x;\n        var maxX = points[0].y;\n        var minY = points[0].x;\n        var maxY = points[0].y;\n        points.forEach((point) => {\n            minX = Math.min(minX, point.x);\n            maxX = Math.max(maxX, point.x);\n            minY = Math.min(minY, point.y);\n            maxY = Math.max(maxY, point.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nRegularPolygon.prototype.className = 'RegularPolygon';\nRegularPolygon.prototype._centroid = true;\nRegularPolygon.prototype._attrsAffectingSize = ['radius'];\n_registerNode(RegularPolygon);\nFactory.addGetterSetter(RegularPolygon, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(RegularPolygon, 'sides', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar PIx2 = Math.PI * 2;\nexport class Ring extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.innerRadius(), 0, PIx2, false);\n        context.moveTo(this.outerRadius(), 0);\n        context.arc(0, 0, this.outerRadius(), PIx2, 0, true);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nRing.prototype.className = 'Ring';\nRing.prototype._centroid = true;\nRing.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Ring);\nFactory.addGetterSetter(Ring, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Ring, 'outerRadius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Animation } from '../Animation.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Sprite extends Shape {\n    constructor(config) {\n        super(config);\n        this._updated = true;\n        this.anim = new Animation(() => {\n            var updated = this._updated;\n            this._updated = false;\n            return updated;\n        });\n        this.on('animationChange.konva', function () {\n            this.frameIndex(0);\n        });\n        this.on('frameIndexChange.konva', function () {\n            this._updated = true;\n        });\n        this.on('frameRateChange.konva', function () {\n            if (!this.anim.isRunning()) {\n                return;\n            }\n            clearInterval(this.interval);\n            this._setInterval();\n        });\n    }\n    _sceneFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            if (offsets) {\n                var offset = offsets[anim], ix2 = index * 2;\n                context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n            }\n            else {\n                context.drawImage(image, x, y, width, height, 0, 0, width, height);\n            }\n        }\n    }\n    _hitFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];\n        context.beginPath();\n        if (offsets) {\n            var offset = offsets[anim];\n            var ix2 = index * 2;\n            context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n        }\n        else {\n            context.rect(0, 0, width, height);\n        }\n        context.closePath();\n        context.fillShape(this);\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _setInterval() {\n        var that = this;\n        this.interval = setInterval(function () {\n            that._updateIndex();\n        }, 1000 / this.frameRate());\n    }\n    start() {\n        if (this.isRunning()) {\n            return;\n        }\n        var layer = this.getLayer();\n        this.anim.setLayers(layer);\n        this._setInterval();\n        this.anim.start();\n    }\n    stop() {\n        this.anim.stop();\n        clearInterval(this.interval);\n    }\n    isRunning() {\n        return this.anim.isRunning();\n    }\n    _updateIndex() {\n        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;\n        if (index < len - 1) {\n            this.frameIndex(index + 1);\n        }\n        else {\n            this.frameIndex(0);\n        }\n    }\n}\nSprite.prototype.className = 'Sprite';\n_registerNode(Sprite);\nFactory.addGetterSetter(Sprite, 'animation');\nFactory.addGetterSetter(Sprite, 'animations');\nFactory.addGetterSetter(Sprite, 'frameOffsets');\nFactory.addGetterSetter(Sprite, 'image');\nFactory.addGetterSetter(Sprite, 'frameIndex', 0, getNumberValidator());\nFactory.addGetterSetter(Sprite, 'frameRate', 17, getNumberValidator());\nFactory.backCompat(Sprite, {\n    index: 'frameIndex',\n    getIndex: 'getFrameIndex',\n    setIndex: 'setFrameIndex',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Star extends Shape {\n    _sceneFunc(context) {\n        var innerRadius = this.innerRadius(), outerRadius = this.outerRadius(), numPoints = this.numPoints();\n        context.beginPath();\n        context.moveTo(0, 0 - outerRadius);\n        for (var n = 1; n < numPoints * 2; n++) {\n            var radius = n % 2 === 0 ? outerRadius : innerRadius;\n            var x = radius * Math.sin((n * Math.PI) / numPoints);\n            var y = -1 * radius * Math.cos((n * Math.PI) / numPoints);\n            context.lineTo(x, y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nStar.prototype.className = 'Star';\nStar.prototype._centroid = true;\nStar.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Star);\nFactory.addGetterSetter(Star, 'numPoints', 5, getNumberValidator());\nFactory.addGetterSetter(Star, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Star, 'outerRadius', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getStringValidator, getNumberOrAutoValidator, getBooleanValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport function stringToArray(string) {\n    return Array.from(string);\n}\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '…', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nexport class Text extends Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        if (this.align() === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        if (!shouldWrap ||\n                            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx)) {\n                            var lastLine = this.textArr[this.textArr.length - 1];\n                            if (lastLine) {\n                                if (shouldAddEllipsis) {\n                                    var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n                                    if (!haveSpace) {\n                                        lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n                                    }\n                                    this.textArr.splice(this.textArr.length - 1, 1);\n                                    this._addTextLine(lastLine.text + ELLIPSIS);\n                                }\n                            }\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n_registerNode(Text);\nFactory.overWriteSetter(Text, 'width', getNumberOrAutoValidator());\nFactory.overWriteSetter(Text, 'height', getNumberOrAutoValidator());\nFactory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory.addGetterSetter(Text, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory.addGetterSetter(Text, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'align', LEFT);\nFactory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory.addGetterSetter(Text, 'lineHeight', 1, getNumberValidator());\nFactory.addGetterSetter(Text, 'wrap', WORD);\nFactory.addGetterSetter(Text, 'ellipsis', false, getBooleanValidator());\nFactory.addGetterSetter(Text, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'text', '', getStringValidator());\nFactory.addGetterSetter(Text, 'textDecoration', '');\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Path } from './Path.js';\nimport { Text, stringToArray } from './Text.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EMPTY_STRING = '', NORMAL = 'normal';\nfunction _fillFunc(context) {\n    context.fillText(this.partialText, 0, 0);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this.partialText, 0, 0);\n}\nexport class TextPath extends Shape {\n    constructor(config) {\n        super(config);\n        this.dummyCanvas = Util.createCanvasElement();\n        this.dataArray = [];\n        this.dataArray = Path.parsePathData(this.attrs.data);\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.attrs.data);\n            this._setTextData();\n        });\n        this.on('textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva', this._setTextData);\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', this.textBaseline());\n        context.setAttr('textAlign', 'left');\n        context.save();\n        var textDecoration = this.textDecoration();\n        var fill = this.fill();\n        var fontSize = this.fontSize();\n        var glyphInfo = this.glyphInfo;\n        if (textDecoration === 'underline') {\n            context.beginPath();\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            context.save();\n            var p0 = glyphInfo[i].p0;\n            context.translate(p0.x, p0.y);\n            context.rotate(glyphInfo[i].rotation);\n            this.partialText = glyphInfo[i].text;\n            context.fillStrokeShape(this);\n            if (textDecoration === 'underline') {\n                if (i === 0) {\n                    context.moveTo(0, fontSize / 2 + 1);\n                }\n                context.lineTo(fontSize, fontSize / 2 + 1);\n            }\n            context.restore();\n        }\n        if (textDecoration === 'underline') {\n            context.strokeStyle = fill;\n            context.lineWidth = fontSize / 20;\n            context.stroke();\n        }\n        context.restore();\n    }\n    _hitFunc(context) {\n        context.beginPath();\n        var glyphInfo = this.glyphInfo;\n        if (glyphInfo.length >= 1) {\n            var p0 = glyphInfo[0].p0;\n            context.moveTo(p0.x, p0.y);\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            var p1 = glyphInfo[i].p1;\n            context.lineTo(p1.x, p1.y);\n        }\n        context.setAttr('lineWidth', this.fontSize());\n        context.setAttr('strokeStyle', this.colorKey);\n        context.stroke();\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    setText(text) {\n        return Text.prototype.setText.call(this, text);\n    }\n    _getContextFont() {\n        return Text.prototype._getContextFont.call(this);\n    }\n    _getTextSize(text) {\n        var dummyCanvas = this.dummyCanvas;\n        var _context = dummyCanvas.getContext('2d');\n        _context.save();\n        _context.font = this._getContextFont();\n        var metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: parseInt(this.attrs.fontSize, 10),\n        };\n    }\n    _setTextData() {\n        var that = this;\n        var size = this._getTextSize(this.attrs.text);\n        var letterSpacing = this.letterSpacing();\n        var align = this.align();\n        var kerningFunc = this.kerningFunc();\n        this.textWidth = size.width;\n        this.textHeight = size.height;\n        var textFullWidth = Math.max(this.textWidth + ((this.attrs.text || '').length - 1) * letterSpacing, 0);\n        this.glyphInfo = [];\n        var fullPathWidth = 0;\n        for (var l = 0; l < that.dataArray.length; l++) {\n            if (that.dataArray[l].pathLength > 0) {\n                fullPathWidth += that.dataArray[l].pathLength;\n            }\n        }\n        var offset = 0;\n        if (align === 'center') {\n            offset = Math.max(0, fullPathWidth / 2 - textFullWidth / 2);\n        }\n        if (align === 'right') {\n            offset = Math.max(0, fullPathWidth - textFullWidth);\n        }\n        var charArr = stringToArray(this.text());\n        var spacesNumber = this.text().split(' ').length - 1;\n        var p0, p1, pathCmd;\n        var pIndex = -1;\n        var currentT = 0;\n        var getNextPathSegment = function () {\n            currentT = 0;\n            var pathData = that.dataArray;\n            for (var j = pIndex + 1; j < pathData.length; j++) {\n                if (pathData[j].pathLength > 0) {\n                    pIndex = j;\n                    return pathData[j];\n                }\n                else if (pathData[j].command === 'M') {\n                    p0 = {\n                        x: pathData[j].points[0],\n                        y: pathData[j].points[1],\n                    };\n                }\n            }\n            return {};\n        };\n        var findSegmentToFitCharacter = function (c) {\n            var glyphWidth = that._getTextSize(c).width + letterSpacing;\n            if (c === ' ' && align === 'justify') {\n                glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber;\n            }\n            var currLen = 0;\n            var attempts = 0;\n            p1 = undefined;\n            while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 &&\n                attempts < 20) {\n                attempts++;\n                var cumulativePathLength = currLen;\n                while (pathCmd === undefined) {\n                    pathCmd = getNextPathSegment();\n                    if (pathCmd &&\n                        cumulativePathLength + pathCmd.pathLength < glyphWidth) {\n                        cumulativePathLength += pathCmd.pathLength;\n                        pathCmd = undefined;\n                    }\n                }\n                if (pathCmd === {} || p0 === undefined) {\n                    return undefined;\n                }\n                var needNewSegment = false;\n                switch (pathCmd.command) {\n                    case 'L':\n                        if (Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {\n                            p1 = Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);\n                        }\n                        else {\n                            pathCmd = undefined;\n                        }\n                        break;\n                    case 'A':\n                        var start = pathCmd.points[4];\n                        var dTheta = pathCmd.points[5];\n                        var end = pathCmd.points[4] + dTheta;\n                        if (currentT === 0) {\n                            currentT = start + 0.00000001;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += ((Math.PI / 180.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        else {\n                            currentT -= ((Math.PI / 360.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        if ((dTheta < 0 && currentT < end) ||\n                            (dTheta >= 0 && currentT > end)) {\n                            currentT = end;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);\n                        break;\n                    case 'C':\n                        if (currentT === 0) {\n                            if (glyphWidth > pathCmd.pathLength) {\n                                currentT = 0.00000001;\n                            }\n                            else {\n                                currentT = glyphWidth / pathCmd.pathLength;\n                            }\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength / 2;\n                        }\n                        else {\n                            currentT = Math.max(currentT - (currLen - glyphWidth) / pathCmd.pathLength / 2, 0);\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);\n                        break;\n                    case 'Q':\n                        if (currentT === 0) {\n                            currentT = glyphWidth / pathCmd.pathLength;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n                        }\n                        else {\n                            currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);\n                        break;\n                }\n                if (p1 !== undefined) {\n                    currLen = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n                }\n                if (needNewSegment) {\n                    needNewSegment = false;\n                    pathCmd = undefined;\n                }\n            }\n        };\n        var testChar = 'C';\n        var glyphWidth = that._getTextSize(testChar).width + letterSpacing;\n        var lettersInOffset = offset / glyphWidth - 1;\n        for (var k = 0; k < lettersInOffset; k++) {\n            findSegmentToFitCharacter(testChar);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            p0 = p1;\n        }\n        for (var i = 0; i < charArr.length; i++) {\n            findSegmentToFitCharacter(charArr[i]);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            var width = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n            var kern = 0;\n            if (kerningFunc) {\n                try {\n                    kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();\n                }\n                catch (e) {\n                    kern = 0;\n                }\n            }\n            p0.x += kern;\n            p1.x += kern;\n            this.textWidth += kern;\n            var midpoint = Path.getPointOnLine(kern + width / 2.0, p0.x, p0.y, p1.x, p1.y);\n            var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n            this.glyphInfo.push({\n                transposeX: midpoint.x,\n                transposeY: midpoint.y,\n                text: charArr[i],\n                rotation: rotation,\n                p0: p0,\n                p1: p1,\n            });\n            p0 = p1;\n        }\n    }\n    getSelfRect() {\n        if (!this.glyphInfo.length) {\n            return {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        var points = [];\n        this.glyphInfo.forEach(function (info) {\n            points.push(info.p0.x);\n            points.push(info.p0.y);\n            points.push(info.p1.x);\n            points.push(info.p1.y);\n        });\n        var minX = points[0] || 0;\n        var maxX = points[0] || 0;\n        var minY = points[1] || 0;\n        var maxY = points[1] || 0;\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        var fontSize = this.fontSize();\n        return {\n            x: minX - fontSize / 2,\n            y: minY - fontSize / 2,\n            width: maxX - minX + fontSize,\n            height: maxY - minY + fontSize,\n        };\n    }\n}\nTextPath.prototype._fillFunc = _fillFunc;\nTextPath.prototype._strokeFunc = _strokeFunc;\nTextPath.prototype._fillFuncHit = _fillFunc;\nTextPath.prototype._strokeFuncHit = _strokeFunc;\nTextPath.prototype.className = 'TextPath';\nTextPath.prototype._attrsAffectingSize = ['text', 'fontSize', 'data'];\n_registerNode(TextPath);\nFactory.addGetterSetter(TextPath, 'data');\nFactory.addGetterSetter(TextPath, 'fontFamily', 'Arial');\nFactory.addGetterSetter(TextPath, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'fontStyle', NORMAL);\nFactory.addGetterSetter(TextPath, 'align', 'left');\nFactory.addGetterSetter(TextPath, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'textBaseline', 'middle');\nFactory.addGetterSetter(TextPath, 'fontVariant', NORMAL);\nFactory.addGetterSetter(TextPath, 'text', EMPTY_STRING);\nFactory.addGetterSetter(TextPath, 'textDecoration', null);\nFactory.addGetterSetter(TextPath, 'kerningFunc', null);\n","import { Util, Transform } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Shape } from '../Shape.js';\nimport { Rect } from './Rect.js';\nimport { Group } from '../Group.js';\nimport { Konva } from '../Global.js';\nimport { getBooleanValidator, getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EVENTS_NAME = 'tr-konva';\nvar ATTR_CHANGE_LIST = [\n    'resizeEnabledChange',\n    'rotateAnchorOffsetChange',\n    'rotateEnabledChange',\n    'enabledAnchorsChange',\n    'anchorSizeChange',\n    'borderEnabledChange',\n    'borderStrokeChange',\n    'borderStrokeWidthChange',\n    'borderDashChange',\n    'anchorStrokeChange',\n    'anchorStrokeWidthChange',\n    'anchorFillChange',\n    'anchorCornerRadiusChange',\n    'ignoreStrokeChange',\n]\n    .map((e) => e + `.${EVENTS_NAME}`)\n    .join(' ');\nvar NODES_RECT = 'nodesRect';\nvar TRANSFORM_CHANGE_STR = [\n    'widthChange',\n    'heightChange',\n    'scaleXChange',\n    'scaleYChange',\n    'skewXChange',\n    'skewYChange',\n    'rotationChange',\n    'offsetXChange',\n    'offsetYChange',\n    'transformsEnabledChange',\n    'strokeWidthChange',\n];\nvar ANGLES = {\n    'top-left': -45,\n    'top-center': 0,\n    'top-right': 45,\n    'middle-right': -90,\n    'middle-left': 90,\n    'bottom-left': -135,\n    'bottom-center': 180,\n    'bottom-right': 135,\n};\nconst TOUCH_DEVICE = 'ontouchstart' in Konva._global;\nfunction getCursor(anchorName, rad) {\n    if (anchorName === 'rotater') {\n        return 'crosshair';\n    }\n    rad += Util.degToRad(ANGLES[anchorName] || 0);\n    var angle = ((Util.radToDeg(rad) % 360) + 360) % 360;\n    if (Util._inRange(angle, 315 + 22.5, 360) || Util._inRange(angle, 0, 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else if (Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else {\n        Util.error('Transformer has unknown angle for cursor detection: ' + angle);\n        return 'pointer';\n    }\n}\nvar ANCHORS_NAMES = [\n    'top-left',\n    'top-center',\n    'top-right',\n    'middle-right',\n    'middle-left',\n    'bottom-left',\n    'bottom-center',\n    'bottom-right',\n];\nvar MAX_SAFE_INTEGER = 100000000;\nfunction getCenter(shape) {\n    return {\n        x: shape.x +\n            (shape.width / 2) * Math.cos(shape.rotation) +\n            (shape.height / 2) * Math.sin(-shape.rotation),\n        y: shape.y +\n            (shape.height / 2) * Math.cos(shape.rotation) +\n            (shape.width / 2) * Math.sin(shape.rotation),\n    };\n}\nfunction rotateAroundPoint(shape, angleRad, point) {\n    const x = point.x +\n        (shape.x - point.x) * Math.cos(angleRad) -\n        (shape.y - point.y) * Math.sin(angleRad);\n    const y = point.y +\n        (shape.x - point.x) * Math.sin(angleRad) +\n        (shape.y - point.y) * Math.cos(angleRad);\n    return Object.assign(Object.assign({}, shape), { rotation: shape.rotation + angleRad, x,\n        y });\n}\nfunction rotateAroundCenter(shape, deltaRad) {\n    const center = getCenter(shape);\n    return rotateAroundPoint(shape, deltaRad, center);\n}\nfunction getSnap(snaps, newRotationRad, tol) {\n    let snapped = newRotationRad;\n    for (let i = 0; i < snaps.length; i++) {\n        const angle = Konva.getAngle(snaps[i]);\n        const absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);\n        const dif = Math.min(absDiff, Math.PI * 2 - absDiff);\n        if (dif < tol) {\n            snapped = angle;\n        }\n    }\n    return snapped;\n}\nexport class Transformer extends Group {\n    constructor(config) {\n        super(config);\n        this._transforming = false;\n        this._createElements();\n        this._handleMouseMove = this._handleMouseMove.bind(this);\n        this._handleMouseUp = this._handleMouseUp.bind(this);\n        this.update = this.update.bind(this);\n        this.on(ATTR_CHANGE_LIST, this.update);\n        if (this.getNode()) {\n            this.update();\n        }\n    }\n    attachTo(node) {\n        this.setNode(node);\n        return this;\n    }\n    setNode(node) {\n        Util.warn('tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.');\n        return this.setNodes([node]);\n    }\n    getNode() {\n        return this._nodes && this._nodes[0];\n    }\n    _getEventNamespace() {\n        return EVENTS_NAME + this._id;\n    }\n    setNodes(nodes = []) {\n        if (this._nodes && this._nodes.length) {\n            this.detach();\n        }\n        this._nodes = nodes;\n        if (nodes.length === 1 && this.useSingleNodeRotation()) {\n            this.rotation(nodes[0].getAbsoluteRotation());\n        }\n        else {\n            this.rotation(0);\n        }\n        this._nodes.forEach((node) => {\n            const onChange = () => {\n                if (this.nodes().length === 1 && this.useSingleNodeRotation()) {\n                    this.rotation(this.nodes()[0].getAbsoluteRotation());\n                }\n                this._resetTransformCache();\n                if (!this._transforming && !this.isDragging()) {\n                    this.update();\n                }\n            };\n            const additionalEvents = node._attrsAffectingSize\n                .map((prop) => prop + 'Change.' + this._getEventNamespace())\n                .join(' ');\n            node.on(additionalEvents, onChange);\n            node.on(TRANSFORM_CHANGE_STR.map((e) => e + `.${this._getEventNamespace()}`).join(' '), onChange);\n            node.on(`absoluteTransformChange.${this._getEventNamespace()}`, onChange);\n            this._proxyDrag(node);\n        });\n        this._resetTransformCache();\n        var elementsCreated = !!this.findOne('.top-left');\n        if (elementsCreated) {\n            this.update();\n        }\n        return this;\n    }\n    _proxyDrag(node) {\n        let lastPos;\n        node.on(`dragstart.${this._getEventNamespace()}`, (e) => {\n            lastPos = node.getAbsolutePosition();\n            if (!this.isDragging() && node !== this.findOne('.back')) {\n                this.startDrag(e, false);\n            }\n        });\n        node.on(`dragmove.${this._getEventNamespace()}`, (e) => {\n            if (!lastPos) {\n                return;\n            }\n            const abs = node.getAbsolutePosition();\n            const dx = abs.x - lastPos.x;\n            const dy = abs.y - lastPos.y;\n            this.nodes().forEach((otherNode) => {\n                if (otherNode === node) {\n                    return;\n                }\n                if (otherNode.isDragging()) {\n                    return;\n                }\n                const otherAbs = otherNode.getAbsolutePosition();\n                otherNode.setAbsolutePosition({\n                    x: otherAbs.x + dx,\n                    y: otherAbs.y + dy,\n                });\n                otherNode.startDrag(e);\n            });\n            lastPos = null;\n        });\n    }\n    getNodes() {\n        return this._nodes || [];\n    }\n    getActiveAnchor() {\n        return this._movingAnchorName;\n    }\n    detach() {\n        if (this._nodes) {\n            this._nodes.forEach((node) => {\n                node.off('.' + this._getEventNamespace());\n            });\n        }\n        this._nodes = [];\n        this._resetTransformCache();\n    }\n    _resetTransformCache() {\n        this._clearCache(NODES_RECT);\n        this._clearCache('transform');\n        this._clearSelfAndDescendantCache('absoluteTransform');\n    }\n    _getNodeRect() {\n        return this._getCache(NODES_RECT, this.__getNodeRect);\n    }\n    __getNodeShape(node, rot = this.rotation(), relative) {\n        var rect = node.getClientRect({\n            skipTransform: true,\n            skipShadow: true,\n            skipStroke: this.ignoreStroke(),\n        });\n        var absScale = node.getAbsoluteScale(relative);\n        var absPos = node.getAbsolutePosition(relative);\n        var dx = rect.x * absScale.x - node.offsetX() * absScale.x;\n        var dy = rect.y * absScale.y - node.offsetY() * absScale.y;\n        const rotation = (Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) %\n            (Math.PI * 2);\n        const box = {\n            x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),\n            y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),\n            width: rect.width * absScale.x,\n            height: rect.height * absScale.y,\n            rotation: rotation,\n        };\n        return rotateAroundPoint(box, -Konva.getAngle(rot), {\n            x: 0,\n            y: 0,\n        });\n    }\n    __getNodeRect() {\n        var node = this.getNode();\n        if (!node) {\n            return {\n                x: -MAX_SAFE_INTEGER,\n                y: -MAX_SAFE_INTEGER,\n                width: 0,\n                height: 0,\n                rotation: 0,\n            };\n        }\n        const totalPoints = [];\n        this.nodes().map((node) => {\n            const box = node.getClientRect({\n                skipTransform: true,\n                skipShadow: true,\n                skipStroke: this.ignoreStroke(),\n            });\n            var points = [\n                { x: box.x, y: box.y },\n                { x: box.x + box.width, y: box.y },\n                { x: box.x + box.width, y: box.y + box.height },\n                { x: box.x, y: box.y + box.height },\n            ];\n            var trans = node.getAbsoluteTransform();\n            points.forEach(function (point) {\n                var transformed = trans.point(point);\n                totalPoints.push(transformed);\n            });\n        });\n        const tr = new Transform();\n        tr.rotate(-Konva.getAngle(this.rotation()));\n        var minX, minY, maxX, maxY;\n        totalPoints.forEach(function (point) {\n            var transformed = tr.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        tr.invert();\n        const p = tr.point({ x: minX, y: minY });\n        return {\n            x: p.x,\n            y: p.y,\n            width: maxX - minX,\n            height: maxY - minY,\n            rotation: Konva.getAngle(this.rotation()),\n        };\n    }\n    getX() {\n        return this._getNodeRect().x;\n    }\n    getY() {\n        return this._getNodeRect().y;\n    }\n    getWidth() {\n        return this._getNodeRect().width;\n    }\n    getHeight() {\n        return this._getNodeRect().height;\n    }\n    _createElements() {\n        this._createBack();\n        ANCHORS_NAMES.forEach(function (name) {\n            this._createAnchor(name);\n        }.bind(this));\n        this._createAnchor('rotater');\n    }\n    _createAnchor(name) {\n        var anchor = new Rect({\n            stroke: 'rgb(0, 161, 255)',\n            fill: 'white',\n            strokeWidth: 1,\n            name: name + ' _anchor',\n            dragDistance: 0,\n            draggable: true,\n            hitStrokeWidth: TOUCH_DEVICE ? 10 : 'auto',\n        });\n        var self = this;\n        anchor.on('mousedown touchstart', function (e) {\n            self._handleMouseDown(e);\n        });\n        anchor.on('dragstart', (e) => {\n            anchor.stopDrag();\n            e.cancelBubble = true;\n        });\n        anchor.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        anchor.on('mouseenter', () => {\n            var rad = Konva.getAngle(this.rotation());\n            var cursor = getCursor(name, rad);\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = cursor);\n            this._cursorChange = true;\n        });\n        anchor.on('mouseout', () => {\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = '');\n            this._cursorChange = false;\n        });\n        this.add(anchor);\n    }\n    _createBack() {\n        var back = new Shape({\n            name: 'back',\n            width: 0,\n            height: 0,\n            draggable: true,\n            sceneFunc(ctx) {\n                var tr = this.getParent();\n                var padding = tr.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, this.width() + padding * 2, this.height() + padding * 2);\n                ctx.moveTo(this.width() / 2, -padding);\n                if (tr.rotateEnabled()) {\n                    ctx.lineTo(this.width() / 2, -tr.rotateAnchorOffset() * Util._sign(this.height()) - padding);\n                }\n                ctx.fillStrokeShape(this);\n            },\n            hitFunc: (ctx, shape) => {\n                if (!this.shouldOverdrawWholeArea()) {\n                    return;\n                }\n                var padding = this.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);\n                ctx.fillStrokeShape(shape);\n            },\n        });\n        this.add(back);\n        this._proxyDrag(back);\n        back.on('dragstart', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragmove', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        this.on('dragmove', (e) => {\n            this.update();\n        });\n    }\n    _handleMouseDown(e) {\n        this._movingAnchorName = e.target.name().split(' ')[0];\n        var attrs = this._getNodeRect();\n        var width = attrs.width;\n        var height = attrs.height;\n        var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n        this.sin = Math.abs(height / hypotenuse);\n        this.cos = Math.abs(width / hypotenuse);\n        if (typeof window !== 'undefined') {\n            window.addEventListener('mousemove', this._handleMouseMove);\n            window.addEventListener('touchmove', this._handleMouseMove);\n            window.addEventListener('mouseup', this._handleMouseUp, true);\n            window.addEventListener('touchend', this._handleMouseUp, true);\n        }\n        this._transforming = true;\n        var ap = e.target.getAbsolutePosition();\n        var pos = e.target.getStage().getPointerPosition();\n        this._anchorDragOffset = {\n            x: pos.x - ap.x,\n            y: pos.y - ap.y,\n        };\n        this._fire('transformstart', { evt: e.evt, target: this.getNode() });\n        this._nodes.forEach((target) => {\n            target._fire('transformstart', { evt: e.evt, target });\n        });\n    }\n    _handleMouseMove(e) {\n        var x, y, newHypotenuse;\n        var anchorNode = this.findOne('.' + this._movingAnchorName);\n        var stage = anchorNode.getStage();\n        stage.setPointersPositions(e);\n        const pp = stage.getPointerPosition();\n        let newNodePos = {\n            x: pp.x - this._anchorDragOffset.x,\n            y: pp.y - this._anchorDragOffset.y,\n        };\n        const oldAbs = anchorNode.getAbsolutePosition();\n        if (this.anchorDragBoundFunc()) {\n            newNodePos = this.anchorDragBoundFunc()(oldAbs, newNodePos, e);\n        }\n        anchorNode.setAbsolutePosition(newNodePos);\n        const newAbs = anchorNode.getAbsolutePosition();\n        if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {\n            return;\n        }\n        if (this._movingAnchorName === 'rotater') {\n            var attrs = this._getNodeRect();\n            x = anchorNode.x() - attrs.width / 2;\n            y = -anchorNode.y() + attrs.height / 2;\n            let delta = Math.atan2(-y, x) + Math.PI / 2;\n            if (attrs.height < 0) {\n                delta -= Math.PI;\n            }\n            var oldRotation = Konva.getAngle(this.rotation());\n            const newRotation = oldRotation + delta;\n            const tol = Konva.getAngle(this.rotationSnapTolerance());\n            const snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);\n            const diff = snappedRot - attrs.rotation;\n            const shape = rotateAroundCenter(attrs, diff);\n            this._fitNodesInto(shape, e);\n            return;\n        }\n        var keepProportion = this.keepRatio() || e.shiftKey;\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (this._movingAnchorName === 'top-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-right').x(),\n                        y: this.findOne('.bottom-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-left').x() > comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-left').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-left').x(comparePoint.x - x);\n                this.findOne('.top-left').y(comparePoint.y - y);\n            }\n        }\n        else if (this._movingAnchorName === 'top-center') {\n            this.findOne('.top-left').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'top-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-left').x(),\n                        y: this.findOne('.bottom-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-right').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-right').x(comparePoint.x + x);\n                this.findOne('.top-right').y(comparePoint.y - y);\n            }\n            var pos = anchorNode.position();\n            this.findOne('.top-left').y(pos.y);\n            this.findOne('.bottom-right').x(pos.x);\n        }\n        else if (this._movingAnchorName === 'middle-left') {\n            this.findOne('.top-left').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'middle-right') {\n            this.findOne('.bottom-right').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'bottom-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-right').x(),\n                        y: this.findOne('.top-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;\n                var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                anchorNode.x(comparePoint.x - x);\n                anchorNode.y(comparePoint.y + y);\n            }\n            pos = anchorNode.position();\n            this.findOne('.top-left').x(pos.x);\n            this.findOne('.bottom-right').y(pos.y);\n        }\n        else if (this._movingAnchorName === 'bottom-center') {\n            this.findOne('.bottom-right').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'bottom-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-left').x(),\n                        y: this.findOne('.top-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = this.findOne('.bottom-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.bottom-right').y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.bottom-right').x(comparePoint.x + x);\n                this.findOne('.bottom-right').y(comparePoint.y + y);\n            }\n        }\n        else {\n            console.error(new Error('Wrong position argument of selection resizer: ' +\n                this._movingAnchorName));\n        }\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (centeredScaling) {\n            var topLeft = this.findOne('.top-left');\n            var bottomRight = this.findOne('.bottom-right');\n            var topOffsetX = topLeft.x();\n            var topOffsetY = topLeft.y();\n            var bottomOffsetX = this.getWidth() - bottomRight.x();\n            var bottomOffsetY = this.getHeight() - bottomRight.y();\n            bottomRight.move({\n                x: -topOffsetX,\n                y: -topOffsetY,\n            });\n            topLeft.move({\n                x: bottomOffsetX,\n                y: bottomOffsetY,\n            });\n        }\n        var absPos = this.findOne('.top-left').getAbsolutePosition();\n        x = absPos.x;\n        y = absPos.y;\n        var width = this.findOne('.bottom-right').x() - this.findOne('.top-left').x();\n        var height = this.findOne('.bottom-right').y() - this.findOne('.top-left').y();\n        this._fitNodesInto({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            rotation: Konva.getAngle(this.rotation()),\n        }, e);\n    }\n    _handleMouseUp(e) {\n        this._removeEvents(e);\n    }\n    getAbsoluteTransform() {\n        return this.getTransform();\n    }\n    _removeEvents(e) {\n        if (this._transforming) {\n            this._transforming = false;\n            if (typeof window !== 'undefined') {\n                window.removeEventListener('mousemove', this._handleMouseMove);\n                window.removeEventListener('touchmove', this._handleMouseMove);\n                window.removeEventListener('mouseup', this._handleMouseUp, true);\n                window.removeEventListener('touchend', this._handleMouseUp, true);\n            }\n            var node = this.getNode();\n            this._fire('transformend', { evt: e, target: node });\n            if (node) {\n                this._nodes.forEach((target) => {\n                    target._fire('transformend', { evt: e, target });\n                });\n            }\n            this._movingAnchorName = null;\n        }\n    }\n    _fitNodesInto(newAttrs, evt) {\n        var oldAttrs = this._getNodeRect();\n        const minSize = 1;\n        if (Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        if (Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        const allowNegativeScale = this.flipEnabled();\n        var t = new Transform();\n        t.rotate(Konva.getAngle(this.rotation()));\n        if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('left') >= 0) {\n            const offset = t.point({\n                x: -this.padding() * 2,\n                y: 0,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            newAttrs.width += this.padding() * 2;\n            this._movingAnchorName = this._movingAnchorName.replace('left', 'right');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('right') >= 0) {\n            const offset = t.point({\n                x: this.padding() * 2,\n                y: 0,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('right', 'left');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.width += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('top') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: -this.padding() * 2,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            this._movingAnchorName = this._movingAnchorName.replace('top', 'bottom');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('bottom') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: this.padding() * 2,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('bottom', 'top');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this.boundBoxFunc()) {\n            const bounded = this.boundBoxFunc()(oldAttrs, newAttrs);\n            if (bounded) {\n                newAttrs = bounded;\n            }\n            else {\n                Util.warn('boundBoxFunc returned falsy. You should return new bound rect from it!');\n            }\n        }\n        const baseSize = 10000000;\n        const oldTr = new Transform();\n        oldTr.translate(oldAttrs.x, oldAttrs.y);\n        oldTr.rotate(oldAttrs.rotation);\n        oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);\n        const newTr = new Transform();\n        newTr.translate(newAttrs.x, newAttrs.y);\n        newTr.rotate(newAttrs.rotation);\n        newTr.scale(newAttrs.width / baseSize, newAttrs.height / baseSize);\n        const delta = newTr.multiply(oldTr.invert());\n        this._nodes.forEach((node) => {\n            var _a;\n            const parentTransform = node.getParent().getAbsoluteTransform();\n            const localTransform = node.getTransform().copy();\n            localTransform.translate(node.offsetX(), node.offsetY());\n            const newLocalTransform = new Transform();\n            newLocalTransform\n                .multiply(parentTransform.copy().invert())\n                .multiply(delta)\n                .multiply(parentTransform)\n                .multiply(localTransform);\n            const attrs = newLocalTransform.decompose();\n            node.setAttrs(attrs);\n            this._fire('transform', { evt: evt, target: node });\n            node._fire('transform', { evt: evt, target: node });\n            (_a = node.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n        });\n        this.rotation(Util._getRotation(newAttrs.rotation));\n        this._resetTransformCache();\n        this.update();\n        this.getLayer().batchDraw();\n    }\n    forceUpdate() {\n        this._resetTransformCache();\n        this.update();\n    }\n    _batchChangeChild(selector, attrs) {\n        const anchor = this.findOne(selector);\n        anchor.setAttrs(attrs);\n    }\n    update() {\n        var _a;\n        var attrs = this._getNodeRect();\n        this.rotation(Util._getRotation(attrs.rotation));\n        var width = attrs.width;\n        var height = attrs.height;\n        var enabledAnchors = this.enabledAnchors();\n        var resizeEnabled = this.resizeEnabled();\n        var padding = this.padding();\n        var anchorSize = this.anchorSize();\n        this.find('._anchor').forEach((node) => {\n            node.setAttrs({\n                width: anchorSize,\n                height: anchorSize,\n                offsetX: anchorSize / 2,\n                offsetY: anchorSize / 2,\n                stroke: this.anchorStroke(),\n                strokeWidth: this.anchorStrokeWidth(),\n                fill: this.anchorFill(),\n                cornerRadius: this.anchorCornerRadius(),\n            });\n        });\n        this._batchChangeChild('.top-left', {\n            x: 0,\n            y: 0,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-left') >= 0,\n        });\n        this._batchChangeChild('.top-center', {\n            x: width / 2,\n            y: 0,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-center') >= 0,\n        });\n        this._batchChangeChild('.top-right', {\n            x: width,\n            y: 0,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-right') >= 0,\n        });\n        this._batchChangeChild('.middle-left', {\n            x: 0,\n            y: height / 2,\n            offsetX: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-left') >= 0,\n        });\n        this._batchChangeChild('.middle-right', {\n            x: width,\n            y: height / 2,\n            offsetX: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-right') >= 0,\n        });\n        this._batchChangeChild('.bottom-left', {\n            x: 0,\n            y: height,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-left') >= 0,\n        });\n        this._batchChangeChild('.bottom-center', {\n            x: width / 2,\n            y: height,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-center') >= 0,\n        });\n        this._batchChangeChild('.bottom-right', {\n            x: width,\n            y: height,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-right') >= 0,\n        });\n        this._batchChangeChild('.rotater', {\n            x: width / 2,\n            y: -this.rotateAnchorOffset() * Util._sign(height) - padding,\n            visible: this.rotateEnabled(),\n        });\n        this._batchChangeChild('.back', {\n            width: width,\n            height: height,\n            visible: this.borderEnabled(),\n            stroke: this.borderStroke(),\n            strokeWidth: this.borderStrokeWidth(),\n            dash: this.borderDash(),\n            x: 0,\n            y: 0,\n        });\n        (_a = this.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n    }\n    isTransforming() {\n        return this._transforming;\n    }\n    stopTransform() {\n        if (this._transforming) {\n            this._removeEvents();\n            var anchorNode = this.findOne('.' + this._movingAnchorName);\n            if (anchorNode) {\n                anchorNode.stopDrag();\n            }\n        }\n    }\n    destroy() {\n        if (this.getStage() && this._cursorChange) {\n            this.getStage().content && (this.getStage().content.style.cursor = '');\n        }\n        Group.prototype.destroy.call(this);\n        this.detach();\n        this._removeEvents();\n        return this;\n    }\n    toObject() {\n        return Node.prototype.toObject.call(this);\n    }\n    getClientRect() {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n}\nfunction validateAnchors(val) {\n    if (!(val instanceof Array)) {\n        Util.warn('enabledAnchors value should be an array');\n    }\n    if (val instanceof Array) {\n        val.forEach(function (name) {\n            if (ANCHORS_NAMES.indexOf(name) === -1) {\n                Util.warn('Unknown anchor name: ' +\n                    name +\n                    '. Available names are: ' +\n                    ANCHORS_NAMES.join(', '));\n            }\n        });\n    }\n    return val || [];\n}\nTransformer.prototype.className = 'Transformer';\n_registerNode(Transformer);\nFactory.addGetterSetter(Transformer, 'enabledAnchors', ANCHORS_NAMES, validateAnchors);\nFactory.addGetterSetter(Transformer, 'flipEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Transformer, 'resizeEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorSize', 10, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotateEnabled', true);\nFactory.addGetterSetter(Transformer, 'rotationSnaps', []);\nFactory.addGetterSetter(Transformer, 'rotateAnchorOffset', 50, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotationSnapTolerance', 5, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'anchorStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'anchorFill', 'white');\nFactory.addGetterSetter(Transformer, 'anchorCornerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'borderStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderDash');\nFactory.addGetterSetter(Transformer, 'keepRatio', true);\nFactory.addGetterSetter(Transformer, 'centeredScaling', false);\nFactory.addGetterSetter(Transformer, 'ignoreStroke', false);\nFactory.addGetterSetter(Transformer, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'node');\nFactory.addGetterSetter(Transformer, 'nodes');\nFactory.addGetterSetter(Transformer, 'boundBoxFunc');\nFactory.addGetterSetter(Transformer, 'anchorDragBoundFunc');\nFactory.addGetterSetter(Transformer, 'shouldOverdrawWholeArea', false);\nFactory.addGetterSetter(Transformer, 'useSingleNodeRotation', true);\nFactory.backCompat(Transformer, {\n    lineEnabled: 'borderEnabled',\n    rotateHandlerOffset: 'rotateAnchorOffset',\n    enabledHandlers: 'enabledAnchors',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Wedge extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.radius(), 0, Konva.getAngle(this.angle()), this.clockwise());\n        context.lineTo(0, 0);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nWedge.prototype.className = 'Wedge';\nWedge.prototype._centroid = true;\nWedge.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Wedge);\nFactory.addGetterSetter(Wedge, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'clockwise', false);\nFactory.backCompat(Wedge, {\n    angleDeg: 'angle',\n    getAngleDeg: 'getAngle',\n    setAngleDeg: 'setAngle',\n});\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction BlurStack() {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n}\nvar mul_table = [\n    512,\n    512,\n    456,\n    512,\n    328,\n    456,\n    335,\n    512,\n    405,\n    328,\n    271,\n    456,\n    388,\n    335,\n    292,\n    512,\n    454,\n    405,\n    364,\n    328,\n    298,\n    271,\n    496,\n    456,\n    420,\n    388,\n    360,\n    335,\n    312,\n    292,\n    273,\n    512,\n    482,\n    454,\n    428,\n    405,\n    383,\n    364,\n    345,\n    328,\n    312,\n    298,\n    284,\n    271,\n    259,\n    496,\n    475,\n    456,\n    437,\n    420,\n    404,\n    388,\n    374,\n    360,\n    347,\n    335,\n    323,\n    312,\n    302,\n    292,\n    282,\n    273,\n    265,\n    512,\n    497,\n    482,\n    468,\n    454,\n    441,\n    428,\n    417,\n    405,\n    394,\n    383,\n    373,\n    364,\n    354,\n    345,\n    337,\n    328,\n    320,\n    312,\n    305,\n    298,\n    291,\n    284,\n    278,\n    271,\n    265,\n    259,\n    507,\n    496,\n    485,\n    475,\n    465,\n    456,\n    446,\n    437,\n    428,\n    420,\n    412,\n    404,\n    396,\n    388,\n    381,\n    374,\n    367,\n    360,\n    354,\n    347,\n    341,\n    335,\n    329,\n    323,\n    318,\n    312,\n    307,\n    302,\n    297,\n    292,\n    287,\n    282,\n    278,\n    273,\n    269,\n    265,\n    261,\n    512,\n    505,\n    497,\n    489,\n    482,\n    475,\n    468,\n    461,\n    454,\n    447,\n    441,\n    435,\n    428,\n    422,\n    417,\n    411,\n    405,\n    399,\n    394,\n    389,\n    383,\n    378,\n    373,\n    368,\n    364,\n    359,\n    354,\n    350,\n    345,\n    341,\n    337,\n    332,\n    328,\n    324,\n    320,\n    316,\n    312,\n    309,\n    305,\n    301,\n    298,\n    294,\n    291,\n    287,\n    284,\n    281,\n    278,\n    274,\n    271,\n    268,\n    265,\n    262,\n    259,\n    257,\n    507,\n    501,\n    496,\n    491,\n    485,\n    480,\n    475,\n    470,\n    465,\n    460,\n    456,\n    451,\n    446,\n    442,\n    437,\n    433,\n    428,\n    424,\n    420,\n    416,\n    412,\n    408,\n    404,\n    400,\n    396,\n    392,\n    388,\n    385,\n    381,\n    377,\n    374,\n    370,\n    367,\n    363,\n    360,\n    357,\n    354,\n    350,\n    347,\n    344,\n    341,\n    338,\n    335,\n    332,\n    329,\n    326,\n    323,\n    320,\n    318,\n    315,\n    312,\n    310,\n    307,\n    304,\n    302,\n    299,\n    297,\n    294,\n    292,\n    289,\n    287,\n    285,\n    282,\n    280,\n    278,\n    275,\n    273,\n    271,\n    269,\n    267,\n    265,\n    263,\n    261,\n    259,\n];\nvar shg_table = [\n    9,\n    11,\n    12,\n    13,\n    13,\n    14,\n    14,\n    15,\n    15,\n    15,\n    15,\n    16,\n    16,\n    16,\n    16,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n];\nfunction filterGaussBlurRGBA(imageData, radius) {\n    var pixels = imageData.data, width = imageData.width, height = imageData.height;\n    var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n    var div = radius + radius + 1, widthMinus1 = width - 1, heightMinus1 = height - 1, radiusPlus1 = radius + 1, sumFactor = (radiusPlus1 * (radiusPlus1 + 1)) / 2, stackStart = new BlurStack(), stackEnd = null, stack = stackStart, stackIn = null, stackOut = null, mul_sum = mul_table[radius], shg_sum = shg_table[radius];\n    for (i = 1; i < div; i++) {\n        stack = stack.next = new BlurStack();\n        if (i === radiusPlus1) {\n            stackEnd = stack;\n        }\n    }\n    stack.next = stackStart;\n    yw = yi = 0;\n    for (y = 0; y < height; y++) {\n        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        for (i = 1; i < radiusPlus1; i++) {\n            p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n            r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n        }\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (x = 0; x < width; x++) {\n            pixels[yi + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa !== 0) {\n                pa = 255 / pa;\n                pixels[yi] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p = (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n            r_in_sum += stackIn.r = pixels[p];\n            g_in_sum += stackIn.g = pixels[p + 1];\n            b_in_sum += stackIn.b = pixels[p + 2];\n            a_in_sum += stackIn.a = pixels[p + 3];\n            r_sum += r_in_sum;\n            g_sum += g_in_sum;\n            b_sum += b_in_sum;\n            a_sum += a_in_sum;\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += 4;\n        }\n        yw += width;\n    }\n    for (x = 0; x < width; x++) {\n        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n        yi = x << 2;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        yp = width;\n        for (i = 1; i <= radius; i++) {\n            yi = (yp + x) << 2;\n            r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n            if (i < heightMinus1) {\n                yp += width;\n            }\n        }\n        yi = x;\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (y = 0; y < height; y++) {\n            p = yi << 2;\n            pixels[p + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa > 0) {\n                pa = 255 / pa;\n                pixels[p] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p =\n                (x +\n                    ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width) <<\n                    2;\n            r_sum += r_in_sum += stackIn.r = pixels[p];\n            g_sum += g_in_sum += stackIn.g = pixels[p + 1];\n            b_sum += b_in_sum += stackIn.b = pixels[p + 2];\n            a_sum += a_in_sum += stackIn.a = pixels[p + 3];\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += width;\n        }\n    }\n}\nexport const Blur = function Blur(imageData) {\n    var radius = Math.round(this.blurRadius());\n    if (radius > 0) {\n        filterGaussBlurRGBA(imageData, radius);\n    }\n};\nFactory.addGetterSetter(Node, 'blurRadius', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction remap(fromValue, fromMin, fromMax, toMin, toMax) {\n    var fromRange = fromMax - fromMin, toRange = toMax - toMin, toValue;\n    if (fromRange === 0) {\n        return toMin + toRange / 2;\n    }\n    if (toRange === 0) {\n        return toMin;\n    }\n    toValue = (fromValue - fromMin) / fromRange;\n    toValue = toRange * toValue + toMin;\n    return toValue;\n}\nexport const Enhance = function (imageData) {\n    var data = imageData.data, nSubPixels = data.length, rMin = data[0], rMax = rMin, r, gMin = data[1], gMax = gMin, g, bMin = data[2], bMax = bMin, b, i;\n    var enhanceAmount = this.enhance();\n    if (enhanceAmount === 0) {\n        return;\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        r = data[i + 0];\n        if (r < rMin) {\n            rMin = r;\n        }\n        else if (r > rMax) {\n            rMax = r;\n        }\n        g = data[i + 1];\n        if (g < gMin) {\n            gMin = g;\n        }\n        else if (g > gMax) {\n            gMax = g;\n        }\n        b = data[i + 2];\n        if (b < bMin) {\n            bMin = b;\n        }\n        else if (b > bMax) {\n            bMax = b;\n        }\n    }\n    if (rMax === rMin) {\n        rMax = 255;\n        rMin = 0;\n    }\n    if (gMax === gMin) {\n        gMax = 255;\n        gMin = 0;\n    }\n    if (bMax === bMin) {\n        bMax = 255;\n        bMin = 0;\n    }\n    var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;\n    if (enhanceAmount > 0) {\n        rGoalMax = rMax + enhanceAmount * (255 - rMax);\n        rGoalMin = rMin - enhanceAmount * (rMin - 0);\n        gGoalMax = gMax + enhanceAmount * (255 - gMax);\n        gGoalMin = gMin - enhanceAmount * (gMin - 0);\n        bGoalMax = bMax + enhanceAmount * (255 - bMax);\n        bGoalMin = bMin - enhanceAmount * (bMin - 0);\n    }\n    else {\n        rMid = (rMax + rMin) * 0.5;\n        rGoalMax = rMax + enhanceAmount * (rMax - rMid);\n        rGoalMin = rMin + enhanceAmount * (rMin - rMid);\n        gMid = (gMax + gMin) * 0.5;\n        gGoalMax = gMax + enhanceAmount * (gMax - gMid);\n        gGoalMin = gMin + enhanceAmount * (gMin - gMid);\n        bMid = (bMax + bMin) * 0.5;\n        bGoalMax = bMax + enhanceAmount * (bMax - bMid);\n        bGoalMin = bMin + enhanceAmount * (bMin - bMid);\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);\n        data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);\n        data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);\n    }\n};\nFactory.addGetterSetter(Node, 'enhance', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction pixelAt(idata, x, y) {\n    var idx = (y * idata.width + x) * 4;\n    var d = [];\n    d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);\n    return d;\n}\nfunction rgbDistance(p1, p2) {\n    return Math.sqrt(Math.pow(p1[0] - p2[0], 2) +\n        Math.pow(p1[1] - p2[1], 2) +\n        Math.pow(p1[2] - p2[2], 2));\n}\nfunction rgbMean(pTab) {\n    var m = [0, 0, 0];\n    for (var i = 0; i < pTab.length; i++) {\n        m[0] += pTab[i][0];\n        m[1] += pTab[i][1];\n        m[2] += pTab[i][2];\n    }\n    m[0] /= pTab.length;\n    m[1] /= pTab.length;\n    m[2] /= pTab.length;\n    return m;\n}\nfunction backgroundMask(idata, threshold) {\n    var rgbv_no = pixelAt(idata, 0, 0);\n    var rgbv_ne = pixelAt(idata, idata.width - 1, 0);\n    var rgbv_so = pixelAt(idata, 0, idata.height - 1);\n    var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);\n    var thres = threshold || 10;\n    if (rgbDistance(rgbv_no, rgbv_ne) < thres &&\n        rgbDistance(rgbv_ne, rgbv_se) < thres &&\n        rgbDistance(rgbv_se, rgbv_so) < thres &&\n        rgbDistance(rgbv_so, rgbv_no) < thres) {\n        var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);\n        var mask = [];\n        for (var i = 0; i < idata.width * idata.height; i++) {\n            var d = rgbDistance(mean, [\n                idata.data[i * 4],\n                idata.data[i * 4 + 1],\n                idata.data[i * 4 + 2],\n            ]);\n            mask[i] = d < thres ? 0 : 255;\n        }\n        return mask;\n    }\n}\nfunction applyMask(idata, mask) {\n    for (var i = 0; i < idata.width * idata.height; i++) {\n        idata.data[4 * i + 3] = mask[i];\n    }\n}\nfunction erodeMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a === 255 * 8 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction dilateMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a >= 255 * 4 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction smoothEdgeMask(mask, sw, sh) {\n    var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a;\n        }\n    }\n    return maskResult;\n}\nexport const Mask = function (imageData) {\n    var threshold = this.threshold(), mask = backgroundMask(imageData, threshold);\n    if (mask) {\n        mask = erodeMask(mask, imageData.width, imageData.height);\n        mask = dilateMask(mask, imageData.width, imageData.height);\n        mask = smoothEdgeMask(mask, imageData.width, imageData.height);\n        applyMask(imageData, mask);\n    }\n    return imageData;\n};\nFactory.addGetterSetter(Node, 'threshold', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Brighten = function (imageData) {\n    var brightness = this.brightness() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] += brightness;\n        data[i + 1] += brightness;\n        data[i + 2] += brightness;\n    }\n};\nFactory.addGetterSetter(Node, 'brightness', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Contrast = function (imageData) {\n    var adjust = Math.pow((this.contrast() + 100) / 100, 2);\n    var data = imageData.data, nPixels = data.length, red = 150, green = 150, blue = 150, i;\n    for (i = 0; i < nPixels; i += 4) {\n        red = data[i];\n        green = data[i + 1];\n        blue = data[i + 2];\n        red /= 255;\n        red -= 0.5;\n        red *= adjust;\n        red += 0.5;\n        red *= 255;\n        green /= 255;\n        green -= 0.5;\n        green *= adjust;\n        green += 0.5;\n        green *= 255;\n        blue /= 255;\n        blue -= 0.5;\n        blue *= adjust;\n        blue += 0.5;\n        blue *= 255;\n        red = red < 0 ? 0 : red > 255 ? 255 : red;\n        green = green < 0 ? 0 : green > 255 ? 255 : green;\n        blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;\n        data[i] = red;\n        data[i + 1] = green;\n        data[i + 2] = blue;\n    }\n};\nFactory.addGetterSetter(Node, 'contrast', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Emboss = function (imageData) {\n    var strength = this.embossStrength() * 10, greyLevel = this.embossWhiteLevel() * 255, direction = this.embossDirection(), blend = this.embossBlend(), dirY = 0, dirX = 0, data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    switch (direction) {\n        case 'top-left':\n            dirY = -1;\n            dirX = -1;\n            break;\n        case 'top':\n            dirY = -1;\n            dirX = 0;\n            break;\n        case 'top-right':\n            dirY = -1;\n            dirX = 1;\n            break;\n        case 'right':\n            dirY = 0;\n            dirX = 1;\n            break;\n        case 'bottom-right':\n            dirY = 1;\n            dirX = 1;\n            break;\n        case 'bottom':\n            dirY = 1;\n            dirX = 0;\n            break;\n        case 'bottom-left':\n            dirY = 1;\n            dirX = -1;\n            break;\n        case 'left':\n            dirY = 0;\n            dirX = -1;\n            break;\n        default:\n            Util.error('Unknown emboss direction: ' + direction);\n    }\n    do {\n        var offsetY = (y - 1) * w4;\n        var otherY = dirY;\n        if (y + otherY < 1) {\n            otherY = 0;\n        }\n        if (y + otherY > h) {\n            otherY = 0;\n        }\n        var offsetYOther = (y - 1 + otherY) * w * 4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var otherX = dirX;\n            if (x + otherX < 1) {\n                otherX = 0;\n            }\n            if (x + otherX > w) {\n                otherX = 0;\n            }\n            var offsetOther = offsetYOther + (x - 1 + otherX) * 4;\n            var dR = data[offset] - data[offsetOther];\n            var dG = data[offset + 1] - data[offsetOther + 1];\n            var dB = data[offset + 2] - data[offsetOther + 2];\n            var dif = dR;\n            var absDif = dif > 0 ? dif : -dif;\n            var absG = dG > 0 ? dG : -dG;\n            var absB = dB > 0 ? dB : -dB;\n            if (absG > absDif) {\n                dif = dG;\n            }\n            if (absB > absDif) {\n                dif = dB;\n            }\n            dif *= strength;\n            if (blend) {\n                var r = data[offset] + dif;\n                var g = data[offset + 1] + dif;\n                var b = data[offset + 2] + dif;\n                data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;\n                data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;\n                data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;\n            }\n            else {\n                var grey = greyLevel - dif;\n                if (grey < 0) {\n                    grey = 0;\n                }\n                else if (grey > 255) {\n                    grey = 255;\n                }\n                data[offset] = data[offset + 1] = data[offset + 2] = grey;\n            }\n        } while (--x);\n    } while (--y);\n};\nFactory.addGetterSetter(Node, 'embossStrength', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossWhiteLevel', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossDirection', 'top-left', null, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossBlend', false, null, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'luminance', 0, getNumberValidator(), Factory.afterSetFilter);\nexport const HSL = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = 1, s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, l = this.luminance() * 127, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b + l;\n        data[i + 1] = gr * r + gg * g + gb * b + l;\n        data[i + 2] = br * r + bg * g + bb * b + l;\n        data[i + 3] = a;\n    }\n};\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const HSV = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = Math.pow(2, this.value()), s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b;\n        data[i + 1] = gr * r + gg * g + gb * b;\n        data[i + 2] = br * r + bg * g + bb * b;\n        data[i + 3] = a;\n    }\n};\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'value', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nvar ToPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta;\n    var conversion = ((360 / tSize) * Math.PI) / 180, sin, cos;\n    for (theta = 0; theta < tSize; theta += 1) {\n        sin = Math.sin(theta * conversion);\n        cos = Math.cos(theta * conversion);\n        for (radius = 0; radius < rSize; radius += 1) {\n            x = Math.floor(xMid + ((rMax * radius) / rSize) * cos);\n            y = Math.floor(yMid + ((rMax * radius) / rSize) * sin);\n            i = (y * xSize + x) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (theta + radius * xSize) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nvar FromPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, dx, dy, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta, phaseShift = opt.polarRotation || 0;\n    var x1, y1;\n    for (x = 0; x < xSize; x += 1) {\n        for (y = 0; y < ySize; y += 1) {\n            dx = x - xMid;\n            dy = y - yMid;\n            radius = (Math.sqrt(dx * dx + dy * dy) * rSize) / rMax;\n            theta = ((Math.atan2(dy, dx) * 180) / Math.PI + 360 + phaseShift) % 360;\n            theta = (theta * tSize) / 360;\n            x1 = Math.floor(theta);\n            y1 = Math.floor(radius);\n            i = (y1 * xSize + x1) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (y * xSize + x) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nexport const Kaleidoscope = function (imageData) {\n    var xSize = imageData.width, ySize = imageData.height;\n    var x, y, xoff, i, r, g, b, a, srcPos, dstPos;\n    var power = Math.round(this.kaleidoscopePower());\n    var angle = Math.round(this.kaleidoscopeAngle());\n    var offset = Math.floor((xSize * (angle % 360)) / 360);\n    if (power < 1) {\n        return;\n    }\n    var tempCanvas = Util.createCanvasElement();\n    tempCanvas.width = xSize;\n    tempCanvas.height = ySize;\n    var scratchData = tempCanvas\n        .getContext('2d')\n        .getImageData(0, 0, xSize, ySize);\n    ToPolar(imageData, scratchData, {\n        polarCenterX: xSize / 2,\n        polarCenterY: ySize / 2,\n    });\n    var minSectionSize = xSize / Math.pow(2, power);\n    while (minSectionSize <= 8) {\n        minSectionSize = minSectionSize * 2;\n        power -= 1;\n    }\n    minSectionSize = Math.ceil(minSectionSize);\n    var sectionSize = minSectionSize;\n    var xStart = 0, xEnd = sectionSize, xDelta = 1;\n    if (offset + minSectionSize > xSize) {\n        xStart = sectionSize;\n        xEnd = 0;\n        xDelta = -1;\n    }\n    for (y = 0; y < ySize; y += 1) {\n        for (x = xStart; x !== xEnd; x += xDelta) {\n            xoff = Math.round(x + offset) % xSize;\n            srcPos = (xSize * y + xoff) * 4;\n            r = scratchData.data[srcPos + 0];\n            g = scratchData.data[srcPos + 1];\n            b = scratchData.data[srcPos + 2];\n            a = scratchData.data[srcPos + 3];\n            dstPos = (xSize * y + x) * 4;\n            scratchData.data[dstPos + 0] = r;\n            scratchData.data[dstPos + 1] = g;\n            scratchData.data[dstPos + 2] = b;\n            scratchData.data[dstPos + 3] = a;\n        }\n    }\n    for (y = 0; y < ySize; y += 1) {\n        sectionSize = Math.floor(minSectionSize);\n        for (i = 0; i < power; i += 1) {\n            for (x = 0; x < sectionSize + 1; x += 1) {\n                srcPos = (xSize * y + x) * 4;\n                r = scratchData.data[srcPos + 0];\n                g = scratchData.data[srcPos + 1];\n                b = scratchData.data[srcPos + 2];\n                a = scratchData.data[srcPos + 3];\n                dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;\n                scratchData.data[dstPos + 0] = r;\n                scratchData.data[dstPos + 1] = g;\n                scratchData.data[dstPos + 2] = b;\n                scratchData.data[dstPos + 3] = a;\n            }\n            sectionSize *= 2;\n        }\n    }\n    FromPolar(scratchData, imageData, { polarRotation: 0 });\n};\nFactory.addGetterSetter(Node, 'kaleidoscopePower', 2, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'kaleidoscopeAngle', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Noise = function (imageData) {\n    var amount = this.noise() * 255, data = imageData.data, nPixels = data.length, half = amount / 2, i;\n    for (i = 0; i < nPixels; i += 4) {\n        data[i + 0] += half - 2 * half * Math.random();\n        data[i + 1] += half - 2 * half * Math.random();\n        data[i + 2] += half - 2 * half * Math.random();\n    }\n};\nFactory.addGetterSetter(Node, 'noise', 0.2, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Util } from '../Util.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Pixelate = function (imageData) {\n    var pixelSize = Math.ceil(this.pixelSize()), width = imageData.width, height = imageData.height, x, y, i, red, green, blue, alpha, nBinsX = Math.ceil(width / pixelSize), nBinsY = Math.ceil(height / pixelSize), xBinStart, xBinEnd, yBinStart, yBinEnd, xBin, yBin, pixelsInBin, data = imageData.data;\n    if (pixelSize <= 0) {\n        Util.error('pixelSize value can not be <= 0');\n        return;\n    }\n    for (xBin = 0; xBin < nBinsX; xBin += 1) {\n        for (yBin = 0; yBin < nBinsY; yBin += 1) {\n            red = 0;\n            green = 0;\n            blue = 0;\n            alpha = 0;\n            xBinStart = xBin * pixelSize;\n            xBinEnd = xBinStart + pixelSize;\n            yBinStart = yBin * pixelSize;\n            yBinEnd = yBinStart + pixelSize;\n            pixelsInBin = 0;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    red += data[i + 0];\n                    green += data[i + 1];\n                    blue += data[i + 2];\n                    alpha += data[i + 3];\n                    pixelsInBin += 1;\n                }\n            }\n            red = red / pixelsInBin;\n            green = green / pixelsInBin;\n            blue = blue / pixelsInBin;\n            alpha = alpha / pixelsInBin;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    data[i + 0] = red;\n                    data[i + 1] = green;\n                    data[i + 2] = blue;\n                    data[i + 3] = alpha;\n                }\n            }\n        }\n    }\n};\nFactory.addGetterSetter(Node, 'pixelSize', 8, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Posterize = function (imageData) {\n    var levels = Math.round(this.levels() * 254) + 1, data = imageData.data, len = data.length, scale = 255 / levels, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = Math.floor(data[i] / scale) * scale;\n    }\n};\nFactory.addGetterSetter(Node, 'levels', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGB = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), i, brightness;\n    for (i = 0; i < nPixels; i += 4) {\n        brightness =\n            (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n        data[i] = brightness * red;\n        data[i + 1] = brightness * green;\n        data[i + 2] = brightness * blue;\n        data[i + 3] = data[i + 3];\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGBA = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), alpha = this.alpha(), i, ia;\n    for (i = 0; i < nPixels; i += 4) {\n        ia = 1 - alpha;\n        data[i] = red * alpha + data[i] * ia;\n        data[i + 1] = green * alpha + data[i + 1] * ia;\n        data[i + 2] = blue * alpha + data[i + 2] * ia;\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'alpha', 1, function (val) {\n    this._filterUpToDate = false;\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return val;\n    }\n});\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Threshold = function (imageData) {\n    var level = this.threshold() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = data[i] < level ? 0 : 255;\n    }\n};\nFactory.addGetterSetter(Node, 'threshold', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Konva as Core } from './_CoreInternals.js';\nimport { Arc } from './shapes/Arc.js';\nimport { Arrow } from './shapes/Arrow.js';\nimport { Circle } from './shapes/Circle.js';\nimport { Ellipse } from './shapes/Ellipse.js';\nimport { Image } from './shapes/Image.js';\nimport { Label, Tag } from './shapes/Label.js';\nimport { Line } from './shapes/Line.js';\nimport { Path } from './shapes/Path.js';\nimport { Rect } from './shapes/Rect.js';\nimport { RegularPolygon } from './shapes/RegularPolygon.js';\nimport { Ring } from './shapes/Ring.js';\nimport { Sprite } from './shapes/Sprite.js';\nimport { Star } from './shapes/Star.js';\nimport { Text } from './shapes/Text.js';\nimport { TextPath } from './shapes/TextPath.js';\nimport { Transformer } from './shapes/Transformer.js';\nimport { Wedge } from './shapes/Wedge.js';\nimport { Blur } from './filters/Blur.js';\nimport { Brighten } from './filters/Brighten.js';\nimport { Contrast } from './filters/Contrast.js';\nimport { Emboss } from './filters/Emboss.js';\nimport { Enhance } from './filters/Enhance.js';\nimport { Grayscale } from './filters/Grayscale.js';\nimport { HSL } from './filters/HSL.js';\nimport { HSV } from './filters/HSV.js';\nimport { Invert } from './filters/Invert.js';\nimport { Kaleidoscope } from './filters/Kaleidoscope.js';\nimport { Mask } from './filters/Mask.js';\nimport { Noise } from './filters/Noise.js';\nimport { Pixelate } from './filters/Pixelate.js';\nimport { Posterize } from './filters/Posterize.js';\nimport { RGB } from './filters/RGB.js';\nimport { RGBA } from './filters/RGBA.js';\nimport { Sepia } from './filters/Sepia.js';\nimport { Solarize } from './filters/Solarize.js';\nimport { Threshold } from './filters/Threshold.js';\nexport const Konva = Core.Util._assign(Core, {\n    Arc,\n    Arrow,\n    Circle,\n    Ellipse,\n    Image,\n    Label,\n    Tag,\n    Line,\n    Path,\n    Rect,\n    RegularPolygon,\n    Ring,\n    Sprite,\n    Star,\n    Text,\n    TextPath,\n    Transformer,\n    Wedge,\n    Filters: {\n        Blur,\n        Brighten,\n        Contrast,\n        Emboss,\n        Enhance,\n        Grayscale,\n        HSL,\n        HSV,\n        Invert,\n        Kaleidoscope,\n        Mask,\n        Noise,\n        Pixelate,\n        Posterize,\n        RGB,\n        RGBA,\n        Sepia,\n        Solarize,\n        Threshold,\n    },\n});\n","import { Konva } from './_FullInternals.js';\nexport default Konva;\n","export const Grayscale = function (imageData) {\n    var data = imageData.data, len = data.length, i, brightness;\n    for (i = 0; i < len; i += 4) {\n        brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];\n        data[i] = brightness;\n        data[i + 1] = brightness;\n        data[i + 2] = brightness;\n    }\n};\n","export const Invert = function (imageData) {\n    var data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] = 255 - data[i];\n        data[i + 1] = 255 - data[i + 1];\n        data[i + 2] = 255 - data[i + 2];\n    }\n};\n","export const Sepia = function (imageData) {\n    var data = imageData.data, nPixels = data.length, i, r, g, b;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);\n        data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);\n        data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);\n    }\n};\n","export const Solarize = function (imageData) {\n    var data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    do {\n        var offsetY = (y - 1) * w4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var r = data[offset];\n            var g = data[offset + 1];\n            var b = data[offset + 2];\n            if (r > 127) {\n                r = 255 - r;\n            }\n            if (g > 127) {\n                g = 255 - g;\n            }\n            if (b > 127) {\n                b = 255 - b;\n            }\n            data[offset] = r;\n            data[offset + 1] = g;\n            data[offset + 2] = b;\n        } while (--x);\n    } while (--y);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunkaddons\"] = this[\"webpackChunkaddons\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(16);\n"],"names":["root","factory","exports","module","define","amd","this","leafPrototypes","getProto","inProgress","dataWebpackPrefix","requestAnimFrame","window","callback","requestAnimationFrame","throttled","fn","thisArg","updateFn","updateArgs","args","Array","prototype","slice","call","ticking","rest","apply","_toLeftRightCenter","align","_alignStartEnd","start","end","noop","uid","id","isNullOrUndef","value","isArray","type","Object","toString","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","each","loopable","reverse","i","len","keys","length","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","clone$1","source","map","target","create","klen","k","isValidKey","key","indexOf","_merger","options","tval","sval","merge","sources","merger","mergeIf","_mergerIf","hasOwnProperty","indexOfDotOrLength","idx","resolveObjectKey","obj","pos","_capitalize","str","charAt","toUpperCase","defined","isFunction","setsEqual","a","b","size","item","has","PI","Math","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","range","roundedRange","round","almostEquals","niceRange","pow","floor","fraction","isNumber","n","isNaN","x","y","epsilon","abs","_setMinAndMaxByKey","array","property","min","max","toRadians","degrees","toDegrees","radians","_decimalPlaces","e","p","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","s","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","atEdge","t","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","m","d","easeInOutBounce","v","lim","l","h","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","c","f","hex","h1","h2","eq","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","r","g","hueValue","calln","hsl2rgb","hue","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","RGB_RE","to","from","modHSL","ratio","tmp","clone","proto","assign","fromObject","input","functionParse","exec","rgbParse","p1","p2","hwb2rgb","hsv2rgb","hueParse","Color","constructor","ret","unpacked","tkeys","j","ok","nk","replace","parseInt","unpack","transparent","toLowerCase","nameParse","_rgb","_valid","valid","rgbString","undefined","hexString","isShort","alpha","hslString","mix","color","weight","c1","c2","w2","w1","interpolate","rgb1","rgb2","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","index_esm","isPatternOrGradient","getHoverColor","overrides","descriptors","getScope$1","node","split","set","scope","values","defaults","_descriptors","animation","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","get","override","route","name","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","enumerable","local","_scriptable","startsWith","_indexable","_fallback","_measureText","data","gc","longest","string","textWidth","measureText","width","push","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","splice","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","left","right","top","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","opts","lines","strokeWidth","strokeColor","line","translation","fillStyle","textAlign","textBaseline","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","RegExp","FONT_STYLE","toLineHeight","matches","match","_readValueToProps","props","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","toFontString","resolve","inputs","info","cacheable","createContext","parentContext","_lookup","table","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","forEach","_arrayUnique","items","Set","add","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","includes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","Error","join","delete","_resolveScriptable","isIndexable","arr","filter","resolver","_resolveArray","_resolveWithContext","allKeys","configurable","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","meta","count","iScale","_parsing","parsed","parse","EPSILON","getPoint","points","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","current","next","d01","d12","s01","s12","fa","fb","capControlPoint","pt","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","delta","iPixel","vPixel","monotoneCompute","splineCurveMonotone","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","positions","getPositionedStyle","styles","suffix","result","getRelativePosition","evt","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","shadowRoot","useOffsetPos","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","formatNumber","num","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","getNumberFormat","format","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_boundSegment","segment","bounds","startBound","endBound","getSegment","prevValue","inside","subStart","_boundSegments","segments","sub","readStyle","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","styleChanged","prevStyle","animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","duration","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","pop","_getAnims","charts","complete","progress","listen","event","cb","reduce","acc","cur","_duration","stop","cancel","remove","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","delay","_loop","_target","_prop","_from","_to","_promises","active","update","elapsed","remain","wait","promises","Promise","res","rej","resolved","method","animationOptions","colors","properties","numbers","resize","show","animations","visible","hide","Animations","config","_chart","_properties","configure","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","all","awaitAll","then","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","axis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","getFirstScaleId","shift","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","initialize","linkScales","_stacked","addElements","updateIndex","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","adata","convertObjectDataToArray","isExtensible","defineProperty","base","object","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","minDefined","maxDefined","getUserBounds","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","disabled","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","updateElement","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","concat","sort","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","super","bars","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","last","grouped","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","startPixel","getPixelForDecimal","endPixel","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","_index_","offset","grid","_value_","beginAtZero","BubbleController","tooltip","title","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","circumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","aspectRatio","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","animationsDisabled","pointCount","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_datasetIndex","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","PolarAreaController","bind","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","controllers","__proto__","DateAdapter","formats","timestamp","amount","unit","diff","startOf","weekday","endOf","members","adapters","_date","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","position","handler","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","inRange","getNearestItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestCartesianItems","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","fullSize","setBoxDims","placeBoxes","userPadding","padding","placed","stackWeight","autoPadding","layouts","addBox","_layers","z","removeBox","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrapBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","buildStacks","setLayoutDims","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","getMaximumSize","isAttached","updateConfig","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","container","clientWidth","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","bbWidth","bbHeight","margins","containerSize","containerStyle","containerBorder","containerPadding","clientHeight","getContainerSize","isConnected","_detectPlatform","OffscreenCanvas","Element","tooltipPosition","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","newTicks","majorStart","majorEnd","ceil","grace","drawBorder","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_maxLength","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","init","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","beforeUpdate","tickOpts","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","ticksLimit","maxTicksLimit","_tickSize","maxScale","maxChart","determineMaxTicks","majorIndices","enabled","getMajorIndices","numMajorIndices","first","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","fillRect","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","titleX","titleY","titleArgs","tz","gz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","routes","propertyParts","sourceName","sourceScope","parts","routeDefaults","registerDefaults","unregister","registry","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","error","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","Chart","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","clearTimeout","setTimeout","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","invalidatePlugins","clipArc","pixelMargin","angleMargin","rThetaToXY","theta","pathArc","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStart","outerEnd","innerStart","innerEnd","angleDelta","o","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","parseBorderRadius$1","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","version","ArcElement","fullCircles","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","inner","lineJoin","drawFullCircleBorders","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","LineElement","_path","_points","_segments","_pointsUpdated","segmentOptions","findStartAndEnd","chartContext","baseStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","doSplitByStyles","splitByStyles","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","segmentMethod","path","strokePathWithCache","strokePathDirect","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","skipX","skipY","addNormalRectPath","inflateRect","refRect","BarElement","outer","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","boundingRects","addRectPath","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","decimated","getStartAndCountOfVisiblePointsSimplified","threshold","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_pointsFromSegments","_resolveTarget","propagate","visited","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","unshift","pointValue","firstValue","lastValue","simpleArc","_drawfill","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","lineOpts","above","clipVertical","doFill","clipY","lineLoop","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","src","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","fontColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","plugin_legend","_element","afterEvent","ci","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","SubTitle","CategoryScale","_startValue","_valueRange","_addedLabels","added","addedLabels","addIfString","lastIndexOf","findOrAddLabel","relativeLabelSize","minSpacing","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getTickLimit","maxTicks","stepSize","computeTickLimit","generationOptions","dataRange","precision","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","generateTicks$1","LinearScale","isMajor","tickVal","LogarithmicScale","_zero","exp","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","updateLimits","limits","hLimits","vLimits","getTextAlignForAngle","yForAngle","pathRadiusLine","getPointPosition","RadialLinearScale","drawingArea","_pointLabels","_pointLabelItems","valueCount","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","plFont","setCenterPoint","extra","outerDistance","pointLabelPosition","buildPointLabelItems","fitWithPointLabels","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","backdropLeft","backdropTop","backdropWidth","backdropHeight","drawPointLabels","gridLineOpts","drawRadiusLine","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","InvalidCharacterError","message","atob","bs","buffer","bc","output","fromCharCode","decodeURIComponent","code","charCodeAt","err","InvalidTokenError","token","header","base64_url_decode","vnodeId","isValidElement","rerenderQueue","defer","prevDebounce","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","removeNode","removeChild","createElement","children","ref","normalizedProps","defaultProps","createVNode","vnode","createRef","Fragment","Component","getDomSibling","childIndex","sibling","updateParentDomPointers","child","enqueueRender","process","debounceRendering","queue","commitQueue","oldVNode","oldDom","parentDom","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","reorderChildren","placeChild","unmount","applyRef","toChildArray","out","nextDom","sibDom","appendChild","nextSibling","insertBefore","test","dom","oldValue","useCapture","cssText","eventProxyCapture","eventProxy","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","renderHook","newType","contextType","doRender","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","oldHtml","newHtml","nodeType","localName","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","componentWillUnmount","replaceNode","firstChild","cloneElement","contextId","Consumer","contextValue","Provider","subs","_props","old","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Prism","_self","lang","uniqueId","plainTextGrammar","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","content","alias","objId","deepClone","getLanguage","className","parentElement","setLanguage","language","classList","currentScript","scripts","getElementsByTagName","isActive","defaultActivation","no","languages","plain","plaintext","txt","extend","redef","insert","grammar","newToken","DFS","propertyType","highlightAll","async","highlightAllUnder","env","selector","hooks","run","querySelectorAll","highlightElement","nodeName","textContent","insertHighlightedCode","highlightedCode","hasAttribute","Worker","worker","filename","onmessage","postMessage","immediateClose","highlight","tokenize","tokenList","LinkedList","addAfter","matchGrammar","list","tail","toArray","matchedStr","matchPattern","pattern","lookbehind","lookbehindLength","startNode","startPos","rematch","patterns","cause","patternObj","greedy","global","flags","currentNode","reach","removeCount","matchStr","removeFrom","removeRange","nestedRematch","newNode","tag","classes","aliases","close","script","highlightAutomaticallyCallback","readyState","WorkerGlobalScope","self","markup","tagName","includedCdataInside","def","attrName","html","mathml","svg","xml","ssml","atom","rss","css","addInlined","addAttribute","clike","javascript","regex","js","msMatchesSelector","webkitMatchesSelector","EXTENSIONS","STATUS_ATTR","STATUS_LOADED","SELECTOR","pre","extension","autoloader","loadLanguages","success","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","comma","parseRange","statusText","send","loadFile","fileHighlight","logged","it","RouterComponent","PureComponent","renderLogo","chartJsData","jsObject","yAxes","ChartJs","simpleBarChart","simpleLineChart","simpleDoughnutChart","ticker","HomePage","ChartJsExample","JwtDecodeExample","KonvaExample","MarkedExample","PrismJsExample","mount","Routes","router","UiTextArea","unsafe","marked","pluginExamples","languageExamples","Static","Stage","Layer","listening","stage","layer","Circle","on","scaleX","scaleY","mountPoint","AddonExamplesApp","getOrNull","currentData","nextProps","log","ChartJsComponent","builder","ChartJsDataBuilder","Access","placeholder","encodeURIComponent","TypedKey","emptyList","MessageBase","field","MountedRoute","ActiveRoute","History","toList","preventDefault","RouteBase","Match","emptyMap","plus","numParams","flow","GenericFormField","launch","ObservableProperty","initialValue","MessagesHandler","sendMessage","StreamWrapperBase","wrapped","counter","StreamSourceImpl","block","engine","__html","PreactComponentRef","PreactLLC","__ref","mutableListOf","FormFieldMountedMessage","FormFieldUnmountedMessage","querySelector","cssSelector","focus","InputValue","focusCssSelector","location","hash","uri","removePrefix","asSequence","firstOrNull","filterNotNull","mounted","Router","view","query","toMap","zip","Pair","routeParams","applyName","applyPlaceholder","onInput","ObservableComponentProperty","onChange","stream","newCtx","previousProps","_setDom","newValue","setInterval","clearInterval","childArr","attrs","getDom","__ctx","ComponentElement","Ctx","creatorFn","cls","ContentElement","removeLast","lowLevelRoot","PreactTagConsumer","VDom","UiTextAreaComponent","jwt_decode","default","jwt","mapper","Ticker","intervalMs","append","PrismJsInternals","href","integrity","crossOrigin","referrerPolicy","load","PrismJsDefinition","pluginName","StylesLoader","LanguageLoader","PluginsLoader","PrismPlugin","Options","createContent","loadDart","loadJava","loadJson","loadJsonp","loadKotlin","loadLess","loadPhp","loadRegex","loadRuby","loadRust","loadSass","loadScss","loadTypescript","loadMarkupTemplating","CopyToClipboard","copy","LineNumbers","softWrap","attributesMapOf","visitNoInline","H1","H2","H3","DIV","IMG","LABEL","condition","action","SemanticTag","_defineProperties","_arrayLikeToArray","arr2","_createForOfIteratorHelperLoose","allowArrayLike","iterator","minLen","_unsupportedIterableToArray","done","TypeError","getDefaults","baseUrl","breaks","extensions","gfm","headerIds","headerPrefix","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","escape","unescapeTest","unescape","substring","edit","opt","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","prot","baseUrls","justDomain","rtrim","relativeBase","protocol","domain","resolveUrl","encodeURI","noopTest","splitCells","tableRow","cells","escaped","trim","invert","suffLen","currChar","checkSanitizeDeprecation","repeatString","outputLink","cap","link","lexer","inLink","inlineTokens","Tokenizer","_proto","space","rules","newline","codeBlockStyle","fences","matchIndentToCode","indentToCode","matchIndentInNode","indentCodeCompensation","heading","trimmed","depth","inline","hr","blockquote","blockTokens","istask","ischecked","indent","blankLine","endsWithBlankLine","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","loose","itemRegex","trimLeft","search","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","task","trimRight","spacers","hasMultipleLineBreaks","every","_step","lineBreaks","_iterator","rows","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","level","findClosingBracket","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","rDelim","rLength","lLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","_text","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","random","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","Lexer","inlineQueue","lex","lexInline","Constructor","staticProps","lastToken","cutSrc","lastParagraphClipped","_this","leading","tabs","repeat","extTokenizer","startBlock","tempSrc","tempStart","getStartIndex","errMsg","_this2","keepPrevChar","startInline","Renderer","_code","infostring","quote","_html","slugger","slug","listitem","checkbox","tablerow","tablecell","image","TextRenderer","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parseInline","l3","cell","itemBody","renderers","pending","_tokens","setOptions","newDefaults","use","_len","_key","hasExtensions","childTokens","pack","ext","prevRenderer","_len2","_key2","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_walkTokens","_loop3","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","PI_OVER_180","glob","_global","isBrowser","isUnminified","param","dblClickWindow","getAngle","angleDeg","enableTrace","pointerEventsEnabled","autoDrawEnabled","hitOnDragEnabled","capturePointerEventsEnabled","_mouseListenClick","_touchListenClick","_pointerListenClick","_mouseInDblClickWindow","_touchInDblClickWindow","_pointerInDblClickWindow","_mouseDblClickPointerId","_touchDblClickPointerId","_pointerDblClickPointerId","dragDistance","showWarnings","dragButtons","isDragging","isDragReady","_injectGlobal","Konva","_registerNode","NodeClass","getClassName","Transform","dirty","copyInto","tr","sx","sy","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dy","m0","m1","m2","m3","m4","m5","getMatrix","decompose","skewX","skewY","acos","PI_OVER_DEG180","DEG180_OVER_PI","KONVA_ERROR","COLORS","aliceblue","antiquewhite","aquamarine","azure","blanchedalmond","blue","blueviolet","brown","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","pink","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","springgreen","steelblue","teal","thistle","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","req","_isElement","_isFunction","_isPlainObject","_isArray","_isNumber","_isString","_isBoolean","isValidSelector","firstChar","_sign","createCanvasElement","createImageElement","_isInDocument","_urlToImage","imageObj","onload","_rgbToHex","_hexToRgb","bigint","getRandomColor","randColor","getRGB","substr","colorToRGBA","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","hsl","t2","t3","t1","haveIntersection","r1","r2","cloneObject","retObj","cloneArray","degToRad","radToDeg","_degToRad","_radToDeg","throw","func","_inRange","_getProjectionToSegment","dist","pd2","u","_getProjectionToLine","isClosed","pc","MAX_VALUE","proj","px","py","pdist","_prepareArrayForTween","startArray","endArray","temp","newStart","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","_assign","_getFirstPointerId","changedTouches","identifier","pointerId","_formatValue","RGBComponent","getNumberValidator","attr","getNumberOrArrayOfNumbersValidator","noOfElements","isValidArray","getNumberOrAutoValidator","getStringValidator","getStringOrGradientValidator","isString","isGradient","addColorStop","getBooleanValidator","GET","SET","Factory","addGetterSetter","validator","addGetter","addSetter","addOverloadedGetterSetter","overWriteSetter","_setAttr","addComponentsGetterSetter","components","capitalize","setter","getAttr","basicValidator","getComponentValidator","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","backCompat","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","afterSetFilter","_filterUpToDate","simplifyArray","retArr","_pixelRatio","CONTEXT_METHODS","Context","_canvas","traceArr","_enableTrace","fillShape","shape","fillEnabled","_fill","strokeShape","hasStroke","_stroke","fillStrokeShape","fillAfterStrokeEnabled","getTrace","relaxed","trace","clearTrace","_trace","getPixelRatio","getWidth","getHeight","_applyLineCap","getLineCap","setAttr","_applyOpacity","absOpacity","getAbsoluteOpacity","_applyLineJoin","a2","a3","a4","a5","arcTo","createImageData","createLinearGradient","createPattern","createRadialGradient","a6","a7","a8","ellipse","isPointInPath","path2d","getImageData","putImageData","getLineDash","transform","that","origSetter","methodName","origMethod","_applyGlobalCompositeOperation","op","globalCompositeOperation","SceneContext","_fillColor","_fillFunc","_fillPattern","_getFillPattern","_fillLinearGradient","grd","_getLinearGradient","_fillRadialGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","hasPattern","getFillPatternImage","hasLinearGradient","getFillLinearGradientColorStops","hasRadialGradient","getFillRadialGradientColorStops","_strokeLinearGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","dash","strokeScaleEnabled","getStrokeScaleEnabled","dashEnabled","dashOffset","getShadowForStrokeEnabled","_strokeFunc","_applyShadow","_a","_b","_c","getShadowRGBA","blur","getShadowBlur","getShadowOffset","getAbsoluteScale","HitContext","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","Canvas","isCache","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","background","setPixelRatio","previousRatio","setSize","setHeight","mimeType","quality","SceneCanvas","HitCanvas","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","_drag","nodesToFireEvents","getStage","setPointersPositions","_changedPointerPositions","find","startPointerPos","startDrag","_setDragPosition","fire","_endDragBefore","drawNode","getLayer","batchDraw","_endDragAfter","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","LISTENING","MOUSEENTER","MOUSELEAVE","SHAPE","SPACE","STAGE","TRANSFORM","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","Node","_id","eventListeners","_allEventListeners","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","setAttrs","hasChildren","_clearCache","_getCache","privateGetter","_calculate","deps","depsString","dep","_getCanvasCache","_clearSelfAndDescendantCache","_requestDraw","conf","getClientRect","skipTransform","relativeTo","getParent","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","imageSmoothingEnabled","drawScene","drawHit","scene","hit","isCached","_transformedRect","trans","getAbsoluteTransform","transformed","_drawCachedSceneCanvas","canvasCache","cacheCanvas","_getCachedSceneCanvas","_drawCachedHitCanvas","imageData","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","evtStr","_delegate","baseEvent","off","_off","dispatchEvent","stopNode","targets","findAncestors","currentTarget","stopDrag","_clearCaches","_setChildrenIndices","getAncestors","ancestors","getAttrs","_batchTransformChanges","isListening","_isListening","isVisible","shouldDrawHit","skipDragCheck","layerUnderDrag","dragSkip","getZIndex","getAbsoluteZIndex","nodes","getDepth","addChildren","getChildren","setPosition","getPosition","getRelativePointerPosition","getPointerPosition","getAbsolutePosition","haveCachedParent","absoluteMatrix","absoluteTransform","setAbsolutePosition","origTrans","_clearTransform","_getAbsoluteTransform","_setTransform","changeX","changeY","_eachAncestorReverse","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","zIndex","_getAbsoluteOpacity","newContainer","toObject","toJSON","includeSelf","_isMatch","ancestor","isAncestorOf","findAncestor","sel","selectorArr","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","transformsEnabled","getTransform","getAbsoluteRotation","_getTransform","allListeners","_toKonvaCanvas","toCanvas","toImage","img","getSize","getType","getDragDistance","evtName","evtListeners","newVal","addName","oldName","newName","fullName","removeName","_setComponentAttr","compareShape","stopBubble","cancelBubble","_getProtoListeners","oldEvents","topListeners","selfListeners","_createDragElement","ap","_getPointerById","bubbleEvent","newNodePos","dbf","dragBoundFunc","bounded","setDraggable","draggable","_dragChange","_listenDrag","_dragCleanup","hasDraggingChild","dragElement","isReady","isClientRectOnScreen","screenRect","static","_createNode","Class","_attrsAffectingSize","rotateDeg","setRotationDeg","getRotationDeg","Container","filterFunc","results","removeChildren","destroyChildren","_validateAdd","_generalFind","findOne","_descendants","shouldStop","getAllIntersections","intersects","can","caching","_drawChildren","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipX","hasComposition","selfRect","skipShadow","skipStroke","shapes","hasVisible","Captures","SUPPORT_POINTER_EVENTS","getCapturedShape","createEvent","hasPointerCapture","setPointerCapture","releaseCapture","PointerEvent","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","POINTEROUT","POINTERLEAVE","POINTEROVER","POINTERENTER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","EVENTS","EVENTS_MAP","mouse","pointerclick","pointerdblclick","touch","pointer","getEventType","getEventsMap","checkNoClip","stages","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","isFastLayer","setContainer","getElementsByClassName","getPointersPositions","getContent","layerCanvas","getIntersection","bufferCanvas","bufferHitCanvas","getLayers","_pointerenter","_pointerover","pointerover","_getTargetShape","evenType","_pointerleave","targetShape","eventsEnabled","pointerPos","_pointerdown","triggeredOnShape","isTouch","_pointermove","processedShapesIds","differentTarget","_pointerup","clickStartShape","clickEndShape","fireDblClick","_contextmenu","_wheel","_pointercancel","_lostpointercapture","contentPosition","_getContentPosition","_setPointerPosition","userSelect","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","Shape","getSceneFunc","sceneFunc","getHitFunc","hitFunc","hasShadow","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","fillPatternRepeat","fillPatternX","fillPatternY","fillPatternRotation","fillPatternScaleX","fillPatternScaleY","fillPatternOffsetX","fillPatternOffsetY","DOMMatrix","__getLinearGradient","fillLinearGradientColorStops","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","rgba","hasFill","strokeEnabled","strokeLinearGradientColorStops","_useBufferCanvas","forceFill","perfectDrawEnabled","isTransparent","strokeForShadow","shadowForStrokeEnabled","setStrokeHitEnabled","getStrokeHitEnabled","getSelfRect","_centroid","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","bufferContext","drawFunc","skipBuffer","cachingSelf","drawHitFromCache","alphaThreshold","hitImageData","hitData","rgbColorKey","hitWidth","hitHeight","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","_waitingForDraw","_setSmoothEnabled","createPNGStream","getNativeCanvasElement","getHitCanvas","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","clearBeforeDraw","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","getHitGraphEnabled","toggleHitCanvas","FastLayer","Group","performance","getTime","animIdCounter","frame","timeDiff","lastTime","frameRate","setLayers","lays","addLayer","isRunning","_addAnimation","_removeAnimation","_updateFrameObject","_handleAnimation","layersLen","layerHash","Anim","_runFrames","_animationLoop","animRunning","blacklist","onFinish","yoyo","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","setTime","play","getTimer","onEnterFrame","seek","Tween","nodeId","Easings","Linear","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","tweenId","trueEnd","trueStart","endRGBA","closed","startRGBA","onPlay","onReverse","onPause","thisId","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","Util","Arc","_sceneFunc","clockwise","boundLeftRatio","boundTopRatio","boundBottomRatio","boundLeft","boundTop","boundBottom","getControlPoints","x0","y0","expandPoints","cp","allPoints","Line","bezier","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","getNumberArrayValidator","Path","dataArray","pathLength","parsePathData","ca","command","cx","cy","rx","ry","dTheta","psi","fs","inc","getPointOnEllipticalArc","getPointOnCubicBezier","getLength","getPointAtLength","ii","getPointOnLine","getPointOnQuadraticBezier","P1x","P1y","P2x","P2y","fromX","fromY","rise","ix","iy","getLineLength","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","sinPsi","cs","cc","coords","cpx","cpy","re","prevCmd","ctlPtx","ctlPty","cmd","convertEndpointToCenterParameterization","calcLength","psiDeg","xp","yp","lambda","cxp","cyp","vMag","vRatio","vAngle","Arrow","PI2","fromTension","pointerLength","lp","lastLength","pointerWidth","pointerAtEnding","__fillStroke","pointerAtBeginning","isDashEnabled","lineRect","Ellipse","radiusX","radiusY","Image","_setImageLoad","cropWidth","cropHeight","cropX","cropY","_hitFunc","onError","onerror","ATTR_CHANGE_LIST","UP","RIGHT","DOWN","LEFT","attrChangeListLen","Label","getText","getTag","pointerDirection","pointerHeight","Tag","Rect","RegularPolygon","_getPoints","sides","PIx2","Ring","Sprite","_updated","frameIndex","_setInterval","ix4","frameOffsets","ix2","_updateIndex","getIndex","setIndex","Star","numPoints","stringToArray","AUTO","JUSTIFY","MIDDLE","NORMAL","Text","checkDefaultFill","_partialTextX","_partialTextY","_setTextData","textArr","textArrLen","lineHeightPx","verticalAlign","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","_getContextFont","spacesNumber","oneWord","lastLine","lastInParagraph","li","letter","_partialText","measureSize","setText","getTextWidth","getTextHeight","textHeight","fontStyle","fontVariant","fontFamily","hasSpace","hasQuotes","_addTextLine","_getTextWidth","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","substrWidth","wrapIndex","partialText","TextPath","dummyCanvas","glyphInfo","_getTextSize","kerningFunc","textFullWidth","fullPathWidth","pathCmd","charArr","pIndex","currentT","getNextPathSegment","pathData","findSegmentToFitCharacter","glyphWidth","currLen","attempts","cumulativePathLength","needNewSegment","lettersInOffset","kern","transposeX","transposeY","NODES_RECT","ANGLES","TOUCH_DEVICE","ANCHORS_NAMES","rotateAroundPoint","angleRad","Transformer","_transforming","_createElements","_handleMouseMove","_handleMouseUp","getNode","attachTo","setNode","setNodes","_nodes","_getEventNamespace","useSingleNodeRotation","_resetTransformCache","additionalEvents","_proxyDrag","lastPos","otherNode","otherAbs","getNodes","getActiveAnchor","_movingAnchorName","_getNodeRect","__getNodeRect","__getNodeShape","relative","ignoreStroke","absScale","absPos","totalPoints","getX","getY","_createBack","_createAnchor","anchor","_handleMouseDown","anchorName","getCursor","_cursorChange","back","rotateEnabled","rotateAnchorOffset","shouldOverdrawWholeArea","hypotenuse","_anchorDragOffset","newHypotenuse","anchorNode","pp","oldAbs","anchorDragBoundFunc","newAbs","keepProportion","keepRatio","shiftKey","centeredScaling","altKey","comparePoint","reverseX","reverseY","topOffsetX","topOffsetY","bottomOffsetX","bottomOffsetY","_fitNodesInto","newRotation","tol","rotationSnapTolerance","snappedRot","snaps","newRotationRad","snapped","absDiff","getSnap","rotationSnaps","deltaRad","getCenter","rotateAroundCenter","_removeEvents","newAttrs","oldAttrs","allowNegativeScale","flipEnabled","boundBoxFunc","baseSize","oldTr","newTr","parentTransform","localTransform","newLocalTransform","_batchChangeChild","enabledAnchors","resizeEnabled","anchorSize","anchorStroke","anchorStrokeWidth","anchorFill","anchorCornerRadius","borderEnabled","borderStroke","borderStrokeWidth","isTransforming","stopTransform","lineEnabled","rotateHandlerOffset","enabledHandlers","Wedge","BlurStack","getAngleDeg","setAngleDeg","mul_table","shg_table","remap","fromValue","fromMin","fromMax","toMin","toMax","fromRange","toRange","pixelAt","idata","rgbDistance","Filters","Blur","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pg","pb","pa","rbs","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stackIn","stackOut","mul_sum","shg_sum","filterGaussBlurRGBA","Brighten","brightness","Contrast","adjust","contrast","nPixels","Emboss","strength","embossStrength","greyLevel","embossWhiteLevel","embossDirection","blend","embossBlend","dirY","dirX","w4","otherY","offsetYOther","otherX","offsetOther","dR","dG","dB","dif","absDif","Enhance","nSubPixels","rMin","rMax","gMin","gMax","bMin","bMax","enhanceAmount","enhance","rMid","rGoalMax","rGoalMin","gMid","gGoalMax","gGoalMin","bMid","bGoalMax","bGoalMin","Grayscale","HSL","saturation","luminance","vsu","vsw","rr","rg","rb","gr","gg","gb","bg","bb","HSV","Invert","Kaleidoscope","srcPos","dstPos","xSize","ySize","power","kaleidoscopePower","kaleidoscopeAngle","tempCanvas","scratchData","dst","srcPixels","dstPixels","xMid","polarCenterX","yMid","polarCenterY","rSize","tSize","conversion","ToPolar","minSectionSize","sectionSize","xStart","xEnd","xDelta","phaseShift","polarRotation","FromPolar","Mask","mask","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","pTab","rgbMean","backgroundMask","applyMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","wt","smoothEdgeMask","dilateMask","erodeMask","Noise","noise","Pixelate","xBinStart","xBinEnd","yBinStart","yBinEnd","xBin","yBin","pixelsInBin","pixelSize","nBinsX","nBinsY","Posterize","levels","RGB","RGBA","ia","Sepia","Solarize","Threshold","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","ns","definition","chunkId","globalThis","Function","needAttach","charset","nc","onScriptComplete","doneFns","scriptUrl","importScripts","installedChunks","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal"],"sourceRoot":""}