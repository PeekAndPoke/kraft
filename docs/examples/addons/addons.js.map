{"version":3,"file":"addons.js","mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAgB,OAAID,IAEpBD,EAAa,OAAIC,GAClB,CATD,CASGK,MAAM,cCRLC,EADAC,ECAAC,EACAC,+BCMJ,SAASC,EAAsBC,GAC3BN,KAAKM,QAAUA,CAAAA,uDAGnBD,EAAsBE,UAAY,IAAIC,MACtCH,EAAsBE,UAAUE,KAAO,wBA6BvC,MAAkC,oBAAXC,QACnBA,OAAOC,MACPD,OAAOC,KAAKC,KAAKF,SA7BrB,SAAkBG,GACd,IAAIC,EAAMC,OAAOF,GAAOG,QAAQ,MAAO,IACvC,GAAIF,EAAIG,OAAS,GAAK,EAClB,MAAM,IAAIZ,EACN,qEAGR,IAEI,IAAYa,EAAIC,EAAZC,EAAK,EAAeC,EAAM,EAAGC,EAAS,GAEzCH,EAASL,EAAIS,OAAOF,MAEpBF,IACCD,EAAKE,EAAK,EAAS,GAALF,EAAUC,EAASA,EAG/BC,IAAO,GACVE,GAAUP,OAAOS,aAAa,IAAON,KAAS,EAAIE,EAAM,IACzD,EAGAD,EA/BI,oEA+BWM,QAAQN,GAE3B,OAAOG,CAAAA,ECxBI,WAASR,GACpB,IAAIQ,EAASR,EAAIE,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAClD,OAAQM,EAAOL,OAAS,GACpB,KAAK,EACD,MACJ,KAAK,EACDK,GAAU,KACV,MACJ,KAAK,EACDA,GAAU,IACV,MACJ,QACI,KAAM,4BAGd,IACI,OA5BR,SAA0BR,GACtB,OAAOY,mBACHf,EAAKG,GAAKE,QAAQ,QAAO,SAAUW,EAAGC,GAClC,IAAIC,EAAOD,EAAEE,WAAW,GAAGC,SAAS,IAAIC,cAIxC,OAHIH,EAAKZ,OAAS,IACdY,EAAO,IAAMA,GAEV,IAAMA,CAAAA,IAAAA,CAPzB,CA4BgCP,EAEZA,CADd,MAAOW,GACL,OAAOtB,EAAKW,EAAAA,CAAAA,CC5Bb,SAASY,EAAkB5B,GAC9BN,KAAKM,QAAUA,CAAAA,CAGnB4B,EAAkB3B,UAAY,IAAIC,MAClC0B,EAAkB3B,UAAUE,KAAO,oBAAoB,QAExC,SAAS0B,EAAOC,GAC3B,GAAqB,iBAAVD,EACP,MAAM,IAAID,EAAkB,2BAIhC,IAAIG,GAAAA,KADJD,EAAUA,GAAW,CAAC,GACJE,OAAkB,EAAI,EACxC,IACI,OAAOC,KAAKC,MAAMC,EAAkBN,EAAMO,MAAM,KAAKL,IAEe,CADtE,MAAOM,GACL,MAAM,IAAIT,EAAkB,4BAA8BS,EAAErC,QAAQ,CAARA,iPCrB7D,IC0BMsC,ECfPR,ECRFS,EA6FSC,EC0ETC,EAWAC,ECnLOC,ELFEC,EAAY,CAAC,EACbC,EAAY,GACZC,EAAqB,oECO3B,SAASC,EAAOC,EAAKC,GAAAA,IAEtB,IAAIN,KAAKM,EAAOD,EAAIL,GAAKM,EAAMN,GAAAA,OACPK,CAAAA,CASvB,SAASE,EAAWC,GAAAA,IACtBC,EAAaD,EAAKC,WAClBA,GAAYA,EAAWC,YAAYF,EAAAA,CEVxC,SAAgBG,EAAcC,EAAMN,EAAOO,GAAAA,IAEzCC,EACAC,EACAf,EAHGgB,EAAkB,CAAC,EAAD,IAIjBhB,KAAKM,EACA,OAALN,EAAYc,EAAMR,EAAMN,GACd,OAALA,EAAYe,EAAMT,EAAMN,GAC5BgB,EAAgBhB,GAAKM,EAAMN,GAAAA,GAG7BiB,UAAUjD,OAAS,IACtBgD,EAAgBH,SACfI,UAAUjD,OAAS,EAAI2B,EAAMuB,KAAKD,UAAW,GAAKJ,GAKjC,mBAARD,GAA2C,MAArBA,EAAKO,aAAAA,IAChCnB,KAAKY,EAAKO,kBAAa,IACvBH,EAAgBhB,KACnBgB,EAAgBhB,GAAKY,EAAKO,aAAanB,IAAAA,OAKnCoB,EAAYR,EAAMI,EAAiBF,EAAKC,EAAK,KAAK,CAenD,SAASK,EAAYR,EAAMN,EAAOQ,EAAKC,EAAKM,GAAAA,IAG5CC,EAAQ,CACbV,KAAAA,EACAN,MAAAA,EACAQ,IAAAA,EACAC,IAAAA,EAAAA,IACW,KAAK,GACP,KAAK,IACN,EAAE,IACJ,KAAK,SAAL,EAKIQ,IACE,KAAK,IACL,KACZC,iBAAY,EAACD,IACU,MAAZF,IAAqBzB,EAAUyB,GAAAA,OAI3B,MAAZA,GAAqC,MAAjBlC,EAAQmC,OAAenC,EAAQmC,MAAMA,GAEtDA,CAAAA,CAGR,SAAgBG,IAAAA,MACR,CAAEC,QAAS,MAGZ,SAASC,EAASrB,GAAAA,OACjBA,EAAMO,QAAQ,CC5Ef,SAASe,EAAUtB,EAAOuB,GAAAA,KAC3BvB,MAAQA,EAAAA,KACRuB,QAAUA,CAAAA,CAyET,SAASC,EAAcR,EAAOS,GAAAA,GAClB,MAAdA,EAAAA,OAEIT,EAAAA,GACJQ,EAAcR,EAAAA,GAAeA,EAAAA,GAAAA,IAAwB9C,QAAQ8C,GAAS,GACtE,KAAK,IAAL,IAGAU,EACGD,EAAaT,EAAAA,IAAgBtD,OAAQ+D,IAAAA,GAG5B,OAFfC,EAAUV,EAAAA,IAAgBS,KAEa,MAAhBC,EAAAA,IAAAA,OAIfA,EAAAA,IAAAA,MASmB,mBAAdV,EAAMV,KAAqBkB,EAAcR,GAAS,IAAI,CAuCrE,SAASW,EAAwBX,GAAjC,IAGWtB,EACJkC,EAAAA,GAHyB,OAA1BZ,EAAQA,EAAAA,KAA8C,MAApBA,EAAAA,IAA0B,CAAC,IACjEA,EAAAA,IAAaA,EAAAA,IAAiBa,KAAO,KAC5BnC,EAAI,EAAGA,EAAIsB,EAAAA,IAAgBtD,OAAQgC,IAAAA,GAE9B,OADTkC,EAAQZ,EAAAA,IAAgBtB,KACO,MAAdkC,EAAAA,IAAoB,CACxCZ,EAAAA,IAAaA,EAAAA,IAAiBa,KAAOD,EAAAA,IAAAA,KAAAA,CAAAA,OAKhCD,EAAwBX,EAAAA,CAAAA,CAyB1B,SAASc,EAAcC,KAE1BA,EAAAA,MACAA,EAAAA,KAAAA,IACDvC,EAAcwC,KAAKD,KAClBE,EAAAA,OACFxC,IAAiBZ,EAAQqD,sBAEzBzC,EAAeZ,EAAQqD,oBACNC,YAAYF,EAAAA,CAK/B,SAASA,IAAAA,IAAAA,IACJG,EACIH,EAAAA,IAAyBzC,EAAc9B,QAC9C0E,EAAQ5C,EAAc6C,MAAK,SAACC,EAAGC,GAAAA,OAAMD,EAAAA,IAAAA,IAAkBC,EAAAA,IAAAA,GAAAA,IACvD/C,EAAgB,GAGhB4C,EAAMI,MAAK,SAAAT,GAzFb,IAAyBU,EAMnBC,EACEC,EANH3B,EACH4B,EACAC,EAuFKd,EAAAA,MAxFLa,GADG5B,GADoByB,EA0FQV,GAAAA,KAAAA,KAvF/Bc,EAAYJ,EAAAA,OAGRC,EAAc,IACZC,EAAW7C,EAAO,CAAC,EAAGkB,IAAAA,IACPA,EAAAA,IAAkB,EAEvC8B,EACCD,EACA7B,EACA2B,EACAF,EAAAA,SAAAA,IACAI,EAAUE,gBACU,MAApB/B,EAAAA,IAA2B,CAAC4B,GAAU,KACtCF,EACU,MAAVE,EAAiBpB,EAAcR,GAAS4B,EACxC5B,EAAAA,KAEDgC,EAAWN,EAAa1B,GAEpBA,EAAAA,KAAc4B,GACjBjB,EAAwBX,IAAAA,GAAAA,CEtH3B,SAAgBiC,EACfJ,EACAK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAb,EACAE,EACAY,GAVD,IAYK9D,EAAG+D,EAAGd,EAAUe,EAAYC,EAAQC,EAAeC,EAInDC,EAAeV,GAAkBA,EAAAA,KAA6BxD,EAE9DmE,EAAoBD,EAAYpG,OAAO,IAE3CyF,EAAAA,IAA2B,GACtBzD,EAAI,EAAGA,EAAIwD,EAAaxF,OAAQgC,IAAAA,GAgDlB,OA5CjBgE,EAAaP,EAAAA,IAAyBzD,GADrB,OAFlBgE,EAAaR,EAAaxD,KAEqB,kBAAdgE,EACW,KAMtB,iBAAdA,GACc,iBAAdA,GAEc,iBAAdA,EAEoC5C,EAC1C,KACA4C,EACA,KACA,KACAA,GAESM,MAAMC,QAAQP,GACmB5C,EAC1CO,EACA,CAAEd,SAAUmD,GACZ,KACA,KACA,MAESA,EAAAA,IAAoB,EAKa5C,EAC1C4C,EAAWpD,KACXoD,EAAW1D,MACX0D,EAAWlD,IACX,KACAkD,EAAAA,KAG0CA,GAAAA,CAAAA,GAS5CA,EAAAA,GAAqBP,EACrBO,EAAAA,IAAoBP,EAAAA,IAAwB,EAS9B,QAHdR,EAAWmB,EAAYpE,KAIrBiD,GACAe,EAAWlD,KAAOmC,EAASnC,KAC3BkD,EAAWpD,OAASqC,EAASrC,KAE9BwD,EAAYpE,QAAAA,OAAKuB,IAIZwC,EAAI,EAAGA,EAAIM,EAAmBN,IAAK,CAAC,IACxCd,EAAWmB,EAAYL,KAKtBC,EAAWlD,KAAOmC,EAASnC,KAC3BkD,EAAWpD,OAASqC,EAASrC,KAC5B,CACDwD,EAAYL,QAAAA,EAAKxC,KAAAA,CAGlB0B,EAAW,IAAI,CAOjBG,EACCD,EACAa,EALDf,EAAWA,GAAYhD,EAOtB0D,EACAC,EACAC,EACAb,EACAE,EACAY,GAGDG,EAASD,EAAAA,KAEJD,EAAIC,EAAWjD,MAAQkC,EAASlC,KAAOgD,IACtCI,IAAMA,EAAO,IACdlB,EAASlC,KAAKoD,EAAK7B,KAAKW,EAASlC,IAAK,KAAMiD,GAChDG,EAAK7B,KAAKyB,EAAGC,EAAAA,KAAyBC,EAAQD,IAGjC,MAAVC,GACkB,MAAjBC,IACHA,EAAgBD,GAIU,mBAAnBD,EAAWpD,MAClBoD,EAAAA,MAAyBf,EAAAA,IAEzBe,EAAAA,IAAsBd,EAASsB,EAC9BR,EACAd,EACAC,GAGDD,EAASuB,EACRtB,EACAa,EACAf,EACAmB,EACAH,EACAf,GAIgC,mBAAvBO,EAAe7C,OAQzB6C,EAAAA,IAA0BP,IAG3BA,GACAD,EAAAA,KAAiBC,GACjBA,EAAOzC,YAAc0C,IAIrBD,EAASpB,EAAcmB,GAAAA,CAAAA,IAIzBQ,EAAAA,IAAsBS,EAGjBlE,EAAIqE,EAAmBrE,KACL,MAAlBoE,EAAYpE,KAEgB,mBAAvByD,EAAe7C,MACC,MAAvBwD,EAAYpE,GAAAA,KACZoE,EAAYpE,GAAAA,KAAWyD,EAAAA,MAKvBA,EAAAA,IAA0B3B,EAAc4B,EAAgB1D,EAAI,IAG7D0E,EAAQN,EAAYpE,GAAIoE,EAAYpE,KAAAA,GAKlCmE,EAAAA,IACEnE,EAAI,EAAGA,EAAImE,EAAKnG,OAAQgC,IAC5B2E,EAASR,EAAKnE,GAAImE,IAAOnE,GAAImE,IAAOnE,GAAAA,CAKvC,SAASwE,EAAgBR,EAAYd,EAAQC,GAAAA,IAA7C,IAKM7B,EAHDe,EAAI2B,EAAAA,IACJY,EAAM,EACHvC,GAAKuC,EAAMvC,EAAErE,OAAQ4G,KACvBtD,EAAQe,EAAEuC,MAMbtD,EAAAA,GAAgB0C,EAGfd,EADwB,mBAAd5B,EAAMV,KACP4D,EAAgBlD,EAAO4B,EAAQC,GAE/BsB,EACRtB,EACA7B,EACAA,EACAe,EACAf,EAAAA,IACA4B,IAAAA,OAMGA,CAAAA,CASD,SAAS2B,EAAahE,EAAUiE,GAAAA,OACtCA,EAAMA,GAAO,GACG,MAAZjE,GAAuC,kBAAZA,IACpByD,MAAMC,QAAQ1D,GACxBA,EAASiC,MAAK,SAAAZ,GACb2C,EAAa3C,EAAO4C,EAAAA,IAGrBA,EAAIxC,KAAKzB,IAEHiE,CAAAA,CAGR,SAASL,EACRtB,EACAa,EACAf,EACAmB,EACAH,EACAf,GAND,IAQK6B,EAuBGC,EAAiBjB,EAAAA,QAAAA,IAtBpBC,EAAAA,IAIHe,EAAUf,EAAAA,IAMVA,EAAAA,SAAAA,OACM,GACM,MAAZf,GACAgB,GAAUf,GACW,MAArBe,EAAOxD,WAEPwE,EAAO,GAAc,MAAV/B,GAAkBA,EAAOzC,aAAe0C,EAClDA,EAAU+B,YAAYjB,GACtBc,EAAU,SACJ,CAAC,IAGFC,EAAS9B,EAAQa,EAAI,GACxBiB,EAASA,EAAOG,cAAgBpB,EAAIK,EAAYpG,OACjD+F,GAAK,KAEDiB,GAAUf,EAAAA,MACPgB,EAGR9B,EAAUiC,aAAanB,EAAQf,GAC/B6B,EAAU7B,CAAC,CAADA,YAAAA,IAOR6B,EACMA,EAEAd,EAAOkB,WAAW,CCvS7B,SAASE,EAASC,EAAOxE,EAAKyE,GACd,MAAXzE,EAAI,GACPwE,EAAME,YAAY1E,EAAKyE,GAEvBD,EAAMxE,GADa,MAATyE,EACG,GACa,iBAATA,GAAqBpF,EAAmBsF,KAAK3E,GACjDyE,EAEAA,EAAQ,KAYhB,SAASC,EAAYE,EAAKlI,EAAM+H,EAAOI,EAAU/B,GAAjD,IACFgC,EAEJC,EAAG,GAAa,UAATrI,EAAAA,GACc,iBAAT+H,EACVG,EAAIJ,MAAMQ,QAAUP,MACd,CAAC,GACgB,iBAAZI,IACVD,EAAIJ,MAAMQ,QAAUH,EAAW,IAG5BA,EAAAA,IACEnI,KAAQmI,EACNJ,GAAS/H,KAAQ+H,GACtBF,EAASK,EAAIJ,MAAO9H,EAAM,OAKzB+H,EAAAA,IACE/H,KAAQ+H,EACPI,GAAYJ,EAAM/H,KAAUmI,EAASnI,IACzC6H,EAASK,EAAIJ,MAAO9H,EAAM+H,EAAM/H,GAAAA,MAOhC,GAAgB,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GAChCoI,EAAapI,KAAUA,EAAOA,EAAKO,QAAQ,WAAY,KAGxBP,EAA3BA,EAAKuI,gBAAiBL,EAAYlI,EAAKuI,cAAcpG,MAAM,GACnDnC,EAAKmC,MAAM,GAElB+F,EAAIM,IAAYN,EAAIM,EAAa,CAAC,GACvCN,EAAIM,EAAWxI,EAAOoI,GAAcL,EAEhCA,EACEI,GAEJD,EAAIO,iBAAiBzI,EADLoI,EAAaM,EAAoBC,EACbP,GAIrCF,EAAIU,oBAAoB5I,EADRoI,EAAaM,EAAoBC,EACVP,QAElC,GAAa,4BAATpI,EAAoC,CAAC,GAC3CoG,EAIHpG,EAAOA,EAAKO,QAAQ,cAAe,KAAKA,QAAQ,SAAU,UACpD,GACG,SAATP,GACS,SAATA,GACS,SAATA,GAGS,aAATA,GACS,aAATA,GACAA,KAAQkI,EAAAA,IAGPA,EAAIlI,GAAiB,MAAT+H,EAAgB,GAAKA,EAAAA,MAE3BM,CACEnG,CAAP,MAAOA,GAAAA,CAUW,mBAAV6F,IAGD,MAATA,KAAAA,IACCA,GAAgC,MAAZ/H,EAAK,IAA0B,MAAZA,EAAK,IAE7CkI,EAAIW,aAAa7I,EAAM+H,GAEvBG,EAAIY,gBAAgB9I,GAAAA,CAAAA,CAUvB,SAAS2I,EAAWzG,GAAAA,KACdsG,EAAWtG,EAAEkB,MAAAA,GAAczB,EAAQoH,MAAQpH,EAAQoH,MAAM7G,GAAKA,EAAAA,CAGpE,SAASwG,EAAkBxG,GAAAA,KACrBsG,EAAWtG,EAAEkB,MAAAA,GAAazB,EAAQoH,MAAQpH,EAAQoH,MAAM7G,GAAKA,EAAAA,CCpInE,SAAgB0D,EACfD,EACAqD,EACAvD,EACAU,EACAC,EACAC,EACAb,EACAE,EACAY,GATD,IAWKc,EAoBEvC,EAAGoE,EAAOC,EAAUC,EAAUC,EAAUC,EACxCC,EAKAC,EACAC,EAiHAC,EACHC,EAiCG1D,EA7KL2D,EAAUX,EAAS5F,KAAK,QAALA,IAIhB4F,EAAShF,YAA2B,OAAO,KAGpB,MAAvByB,EAAAA,MACHa,EAAcb,EAAAA,IACdC,EAASsD,EAAAA,IAAgBvD,EAAAA,IAEzBuD,EAAAA,IAAsB,KACtB3C,EAAoB,CAACX,KAGjB0B,EAAMzF,EAAAA,MAAgByF,EAAI4B,GAAAA,IAG9BvB,EAAO,GAAsB,mBAAXkC,EAAuB,CAAC,GAErCL,EAAWN,EAASlG,MAKpByG,GADJnC,EAAMuC,EAAQC,cACQzD,EAAciB,EAAAA,KAChCoC,EAAmBpC,EACpBmC,EACCA,EAASzG,MAAMiF,MACfX,EAAAA,GACDjB,EAGCV,EAAAA,IAEH4D,GADAxE,EAAImE,EAAAA,IAAsBvD,EAAAA,KAAAA,GAC0BZ,EAAAA,KAGhD,cAAe8E,GAAWA,EAAQ7J,UAAU+J,OAE/Cb,EAAAA,IAAsBnE,EAAI,IAAI8E,EAAQL,EAAUE,IAGhDR,EAAAA,IAAsBnE,EAAI,IAAIT,EAAUkF,EAAUE,GAClD3E,EAAEb,YAAc2F,EAChB9E,EAAEgF,OAASC,GAERP,GAAUA,EAASQ,IAAIlF,GAE3BA,EAAE/B,MAAQwG,EACLzE,EAAEmF,QAAOnF,EAAEmF,MAAQ,CAAC,GACzBnF,EAAER,QAAUmF,EACZ3E,EAAAA,IAAmBsB,EACnB8C,EAAQpE,EAAAA,KAAAA,EACRA,EAAAA,IAAqB,IAIF,MAAhBA,EAAAA,MACHA,EAAAA,IAAeA,EAAEmF,OAEsB,MAApCL,EAAQM,2BACPpF,EAAAA,KAAgBA,EAAEmF,QACrBnF,EAAAA,IAAejC,EAAO,CAAC,EAAGiC,EAAAA,MAG3BjC,EACCiC,EAAAA,IACA8E,EAAQM,yBAAyBX,EAAUzE,EAAAA,OAI7CqE,EAAWrE,EAAE/B,MACbqG,EAAWtE,EAAEmF,MAGTf,EAEkC,MAApCU,EAAQM,0BACgB,MAAxBpF,EAAEqF,oBAEFrF,EAAEqF,qBAGwB,MAAvBrF,EAAEsF,mBACLtF,EAAAA,IAAmBC,KAAKD,EAAEsF,uBAErB,CAAC,GAE8B,MAApCR,EAAQM,0BACRX,IAAaJ,GACkB,MAA/BrE,EAAEuF,2BAEFvF,EAAEuF,0BAA0Bd,EAAUE,IAIpC3E,EAAAA,KAC0B,MAA3BA,EAAEwF,wBAAAA,IACFxF,EAAEwF,sBACDf,EACAzE,EAAAA,IACA2E,IAEFR,EAAAA,MAAuBvD,EAAAA,IACtB,CACDZ,EAAE/B,MAAQwG,EACVzE,EAAEmF,MAAQnF,EAAAA,IAENmE,EAAAA,MAAuBvD,EAAAA,MAAoBZ,EAAAA,KAAAA,GAC/CA,EAAAA,IAAWmE,EACXA,EAAAA,IAAgBvD,EAAAA,IAChBuD,EAAAA,IAAqBvD,EAAAA,IACrBuD,EAAAA,IAAmBsB,SAAQ,SAAAxG,GACtBA,IAAOA,EAAAA,GAAgBkF,EAAAA,IAExBnE,EAAAA,IAAmBrE,QACtBgF,EAAYV,KAAKD,GAAAA,MAGZ4C,CAAAA,CAGsB,MAAzB5C,EAAE0F,qBACL1F,EAAE0F,oBAAoBjB,EAAUzE,EAAAA,IAAc2E,GAGnB,MAAxB3E,EAAE2F,oBACL3F,EAAAA,IAAmBC,MAAK,WACvBD,EAAE2F,mBAAmBtB,EAAUC,EAAUC,EAAAA,GAAAA,CAAAA,GAK5CvE,EAAER,QAAUmF,EACZ3E,EAAE/B,MAAQwG,EACVzE,EAAAA,IAAWmE,EACXnE,EAAAA,IAAec,EAEX8D,EAAa9H,EAAAA,IAChB+H,EAAQ,EACL,cAAeC,GAAWA,EAAQ7J,UAAU+J,OAC/ChF,EAAEmF,MAAQnF,EAAAA,IACVA,EAAAA,KAAAA,EAEI4E,GAAYA,EAAWT,GAE3B5B,EAAMvC,EAAEgF,OAAOhF,EAAE/B,MAAO+B,EAAEmF,MAAOnF,EAAER,cAAAA,GAGlCQ,EAAAA,KAAAA,EACI4E,GAAYA,EAAWT,GAE3B5B,EAAMvC,EAAEgF,OAAOhF,EAAE/B,MAAO+B,EAAEmF,MAAOnF,EAAER,SAGnCQ,EAAEmF,MAAQnF,EAAAA,UACFA,EAAAA,OAAc6E,EAAQ,IAIhC7E,EAAEmF,MAAQnF,EAAAA,IAEe,MAArBA,EAAE4F,kBACLtE,EAAgBvD,EAAOA,EAAO,CAAC,EAAGuD,GAAgBtB,EAAE4F,oBAGhDxB,GAAsC,MAA7BpE,EAAE6F,0BACftB,EAAWvE,EAAE6F,wBAAwBxB,EAAUC,IAK5CnD,EADI,MAAPoB,GAAeA,EAAIhE,OAASe,GAAuB,MAAXiD,EAAI9D,IACL8D,EAAItE,MAAMO,SAAW+D,EAE7DrB,EACCJ,EACAmB,MAAMC,QAAQf,GAAgBA,EAAe,CAACA,GAC9CgD,EACAvD,EACAU,EACAC,EACAC,EACAb,EACAE,EACAY,GAGDzB,EAAEF,KAAOqE,EAAAA,IAGTA,EAAAA,IAAsB,KAElBnE,EAAAA,IAAmBrE,QACtBgF,EAAYV,KAAKD,GAGdwE,IACHxE,EAAAA,IAAkBA,EAAAA,GAAyB,MAG5CA,EAAAA,KAAAA,CAAW,MAEU,MAArBwB,GACA2C,EAAAA,MAAuBvD,EAAAA,KAEvBuD,EAAAA,IAAqBvD,EAAAA,IACrBuD,EAAAA,IAAgBvD,EAAAA,KAEhBuD,EAAAA,IAAgB2B,EACflF,EAAAA,IACAuD,EACAvD,EACAU,EACAC,EACAC,EACAb,EACAc,IAIGc,EAAMzF,EAAQiJ,SAASxD,EAAI4B,EAWCvD,CAVhC,MAAOvD,GACR8G,EAAAA,IAAqB,MAEjB1C,GAAoC,MAArBD,KAClB2C,EAAAA,IAAgBtD,EAChBsD,EAAAA,MAAwB1C,EACxBD,EAAkBA,EAAkBrF,QAAQ0E,IAAW,MAIxD/D,EAAAA,IAAoBO,EAAG8G,EAAUvD,EAAAA,CAAAA,CAS5B,SAASK,EAAWN,EAAavG,GACnC0C,EAAAA,KAAiBA,EAAAA,IAAgB1C,EAAMuG,GAE3CA,EAAYF,MAAK,SAAAT,GAAAA,IAGfW,EAAcX,EAAAA,IACdA,EAAAA,IAAqB,GACrBW,EAAYF,MAAK,SAAAuF,GAEhBA,EAAGnH,KAAKmB,EAAAA,GAGcA,CADtB,MAAO3C,GACRP,EAAAA,IAAoBO,EAAG2C,EAAAA,IAAAA,CAAAA,GAAAA,CAmB1B,SAAS8F,EACRzC,EACAc,EACAvD,EACAU,EACAC,EACAC,EACAb,EACAc,GARD,IAoBS5B,EAsDHoG,EACAC,EAjED7B,EAAWzD,EAAS3C,MACpBwG,EAAWN,EAASlG,MACpBkI,EAAWhC,EAAS5F,KACpBZ,EAAI,EAAE,GAGO,QAAbwI,IAAoB5E,GAAAA,GAEC,MAArBC,EAAAA,KACI7D,EAAI6D,EAAkB7F,OAAQgC,IAAAA,IAC9BkC,EAAQ2B,EAAkB7D,KAO/B,iBAAkBkC,KAAYsG,IAC7BA,EAAWtG,EAAMuG,YAAcD,EAA8B,IAAnBtG,EAAMsG,UAChD,CACD9C,EAAMxD,EACN2B,EAAkB7D,GAAK,KAAK,KAAL,IAMf,MAAP0F,EAAa,CAAC,GACA,OAAb8C,EAAAA,OAEIE,SAASC,eAAe7B,GAI/BpB,EADG9B,EACG8E,SAASE,gBACd,6BAEAJ,GAGKE,SAAS/H,cAEd6H,EACA1B,EAAS+B,IAAM/B,GAKjBjD,EAAoB,KAEpBC,GAAAA,CAAc,IAGE,OAAb0E,EAEC9B,IAAaI,GAAchD,GAAe4B,EAAIoD,OAAShC,IAC1DpB,EAAIoD,KAAOhC,OAEN,CAAC,GAEPjD,EAAoBA,GAAqBlE,EAAMuB,KAAKwE,EAAIqD,YAIpDT,GAFJ5B,EAAWzD,EAAS3C,OAASL,GAEN+I,wBACnBT,EAAUzB,EAASkC,yBAIlBlF,EAAa,CAAC,GAGO,MAArBD,EAAAA,IACH6C,EAAW,CAAC,EACP1G,EAAI,EAAGA,EAAI0F,EAAIuD,WAAWjL,OAAQgC,IACtC0G,EAAShB,EAAIuD,WAAWjJ,GAAGxC,MAAQkI,EAAIuD,WAAWjJ,GAAGuF,OAInDgD,GAAWD,KAGZC,IACED,GAAWC,EAAAA,QAAkBD,EAAAA,QAC/BC,EAAAA,SAAmB7C,EAAIwD,aAExBxD,EAAIwD,UAAaX,GAAWA,EAAAA,QAAmB,QDzY7C,SAAmB7C,EAAKoB,EAAUJ,EAAU9C,EAAOuF,GAAAA,IACrDnJ,EAAAA,IAECA,KAAK0G,EACC,aAAN1G,GAA0B,QAANA,GAAiBA,KAAK8G,GAC7CtB,EAAYE,EAAK1F,EAAG,KAAM0G,EAAS1G,GAAI4D,GAAAA,IAIpC5D,KAAK8G,EAENqC,GAAiC,mBAAfrC,EAAS9G,IACvB,aAANA,GACM,QAANA,GACM,UAANA,GACM,YAANA,GACA0G,EAAS1G,KAAO8G,EAAS9G,IAEzBwF,EAAYE,EAAK1F,EAAG8G,EAAS9G,GAAI0G,EAAS1G,GAAI4D,EAAAA,CC4X/CwF,CAAU1D,EAAKoB,EAAUJ,EAAU9C,EAAOE,GAGtCyE,EACH/B,EAAAA,IAAqB,WAErBxG,EAAIwG,EAASlG,MAAMO,SACnB0C,EACCmC,EACApB,MAAMC,QAAQvE,GAAKA,EAAI,CAACA,GACxBwG,EACAvD,EACAU,EACAC,GAAsB,kBAAb4E,EACT3E,EACAb,EACAa,EACGA,EAAkB,GAClBZ,EAAAA,KAAsBnB,EAAcmB,EAAU,GACjDa,GAIwB,MAArBD,EAAAA,IACE7D,EAAI6D,EAAkB7F,OAAQgC,KACN,MAAxB6D,EAAkB7D,IAAYO,EAAWsD,EAAkB7D,IAM7D8D,IAEH,UAAWgD,QAAAA,KACV9G,EAAI8G,EAASvB,SAKbvF,IAAM0F,EAAIH,OACI,aAAbiD,IAA4BxI,GAIf,WAAbwI,GAAyBxI,IAAM0G,EAASnB,QAE1CC,EAAYE,EAAK,QAAS1F,EAAG0G,EAASnB,OAAM,GAG5C,YAAauB,QAAAA,KACZ9G,EAAI8G,EAASuC,UACdrJ,IAAM0F,EAAI2D,SAEV7D,EAAYE,EAAK,UAAW1F,EAAG0G,EAAS2C,SAAQ,GAAC,QAK7C3D,CAAAA,CASR,SAAgBf,EAAS5D,EAAKwE,EAAOjE,GAAAA,IAEjB,mBAAPP,EAAmBA,EAAIwE,GAC7BxE,EAAIW,QAAU6D,CAEIjE,CADtB,MAAO5B,GACRP,EAAAA,IAAoBO,EAAG4B,EAAAA,CAAAA,CAYzB,SAAgBoD,EAAQpD,EAAOgI,EAAaC,GAA5C,IACKC,EAoBMxJ,EAAAA,GAnBNb,EAAQuF,SAASvF,EAAQuF,QAAQpD,IAEhCkI,EAAIlI,EAAMP,OACTyI,EAAE9H,SAAW8H,EAAE9H,UAAYJ,EAAAA,KAAYqD,EAAS6E,EAAG,KAAMF,IAGjC,OAAzBE,EAAIlI,EAAAA,KAA2B,CAAC,GAChCkI,EAAEC,qBAAqB,IAEzBD,EAAEC,sBAEqBH,CADtB,MAAO5J,GACRP,EAAAA,IAAoBO,EAAG4J,EAAAA,CAIzBE,EAAErH,KAAOqH,EAAAA,IAAe,IAAI,CAAJ,GAGpBA,EAAIlI,EAAAA,IAAAA,IACCtB,EAAI,EAAGA,EAAIwJ,EAAExL,OAAQgC,IACzBwJ,EAAExJ,IACL0E,EAAQ8E,EAAExJ,GAAIsJ,EAAkC,mBAAdhI,EAAMV,MAKtC2I,GAA4B,MAAdjI,EAAAA,KAAoBf,EAAWe,EAAAA,KAIlDA,EAAAA,IAAaA,EAAAA,SAAAA,CAAiBC,CAI/B,SAAS+F,EAAShH,EAAOkH,EAAO3F,GAAAA,OACxB9E,KAAKyE,YAAYlB,EAAOuB,EAAAA,CCrgBhC,SAAgBwF,EAAO/F,EAAO6B,EAAWuG,GAAzC,IAMK5F,EAOAb,EAUAD,EAtBA7D,EAAAA,IAAeA,EAAAA,GAAcmC,EAAO6B,GAYpCF,GAPAa,EAAqC,mBAAhB4F,GAQtB,KACCA,GAAeA,EAAAA,KAA0BvG,EAAAA,IAQzCH,EAAc,GAClBI,EACCD,EARD7B,IACGwC,GAAe4F,GACjBvG,GAAAA,IACaxC,EAAcgB,EAAU,KAAM,CAACL,IAS5C2B,GAAYhD,EACZA,OAAAA,IACAkD,EAAUE,iBACTS,GAAe4F,EACb,CAACA,GACDzG,EACA,KACAE,EAAUwG,WACVhK,EAAMuB,KAAKiC,EAAU4F,YACrB,KACH/F,GACCc,GAAe4F,EACbA,EACAzG,EACAA,EAAAA,IACAE,EAAUwG,WACb7F,GAIDR,EAAWN,EAAa1B,EAAAA,CASlB,SAAS6H,EAAQ7H,EAAO6B,GAC9BkE,EAAO/F,EAAO6B,EAAWgG,EAAAA,CC/D1B,SAAgBS,EAAatI,EAAOhB,EAAOO,GAAAA,IAEzCC,EACAC,EACAf,EAHGgB,EAAkBZ,EAAO,CAAC,EAAGkB,EAAMhB,OAAAA,IAIlCN,KAAKM,EACA,OAALN,EAAYc,EAAMR,EAAMN,GACd,OAALA,EAAYe,EAAMT,EAAMN,GAC5BgB,EAAgBhB,GAAKM,EAAMN,GAAAA,OAG7BiB,UAAUjD,OAAS,IACtBgD,EAAgBH,SACfI,UAAUjD,OAAS,EAAI2B,EAAMuB,KAAKD,UAAW,GAAKJ,GAG7CO,EACNE,EAAMV,KACNI,EACAF,GAAOQ,EAAMR,IACbC,GAAOO,EAAMP,IACb,ML3BK,SAAS8I,EAAcC,EAAcC,GAAAA,IAGrClI,EAAU,CAAC,IAFjBkI,EAAY,OAAS/J,IAAAA,GAIL8J,EAEfE,SAAAA,SAAS1J,EAAO2J,GAAAA,OAIR3J,EAAMO,SAASoJ,EAAAA,EAGvBC,SAAAA,SAAS5J,GAAAA,IAEH6J,EACAC,EAAAA,OAFArN,KAAKkL,kBACLkC,EAAO,IACPC,EAAM,CAAC,GACPL,GAAahN,KAAAA,KAEZkL,gBAAkB,kBAAMmC,CAAAA,EAAAA,KAExBvC,sBAAwB,SAASwC,GACjCtN,KAAKuD,MAAMiF,QAAU8E,EAAO9E,OAe/B4E,EAAKrH,KAAKV,EAAAA,EAAAA,KAIPmF,IAAM,SAAAlF,GACV8H,EAAK7H,KAAKD,GAAAA,IACNiI,EAAMjI,EAAEoH,qBACZpH,EAAEoH,qBAAuB,WACxBU,EAAKI,OAAOJ,EAAK3L,QAAQ6D,GAAI,GACzBiI,GAAKA,EAAIpJ,KAAKmB,EAAAA,CAAAA,GAKd/B,EAAMO,QAAQ,GAARA,OAUPgB,EAAQqI,SAAS,GAAcrI,EAAQmI,SAAS5C,YAAcvF,CAAAA,CJxC1DlC,EAAQO,EAAUP,MCfzBR,EAAU,CAAC,ISFjB,SAA4BqL,EAAOlJ,EAAO2B,EAAUwH,GAAAA,IAAAA,IAE/C1H,EAAW2H,EAAMC,EAEbrJ,EAAQA,EAAAA,IAAAA,IACVyB,EAAYzB,EAAAA,OAAsByB,EAAAA,GAAAA,IAAAA,IAErC2H,EAAO3H,EAAUvB,cAE4B,MAAjCkJ,EAAKE,2BAChB7H,EAAU8H,SAASH,EAAKE,yBAAyBJ,IACjDG,EAAU5H,EAAAA,KAGwB,MAA/BA,EAAU+H,oBACb/H,EAAU+H,kBAAkBN,EAAOC,GAAa,CAAC,GACjDE,EAAU5H,EAAAA,KAIP4H,EAAAA,OACK5H,EAAAA,IAA0BA,CAG3BrD,CADP,MAAOA,GACR8K,EAAQ9K,CAAAA,CAAAA,MAKL8K,CAAAA,GRnCH5K,EAAU,EA6FDC,EAAiB,SAAAyB,GAAAA,OACpB,MAATA,QAAAA,IAAiBA,EAAME,WAAW,ECvEnCI,EAAUtE,UAAUuN,SAAW,SAASE,EAAQC,GAAAA,IAE3CC,EAEHA,EADsB,MAAnBlO,KAAK,KAAsBA,KAAK,MAAeA,KAAKyK,MACnDzK,KAAK,IAELA,KAAK,IAAaqD,EAAO,CAAC,EAAGrD,KAAKyK,OAGlB,mBAAVuD,IAGVA,EAASA,EAAO3K,EAAO,CAAC,EAAG6K,GAAIlO,KAAKuD,QAGjCyK,GACH3K,EAAO6K,EAAGF,GAIG,MAAVA,GAEAhO,KAAK,MACJiO,GAAUjO,KAAK,IAAiBuF,KAAK0I,GACzC5I,EAAcrF,MAAAA,EAUhB6E,EAAUtE,UAAU4N,YAAc,SAASF,GACtCjO,KAAK,MAALA,KAAAA,KAAAA,EAKCiO,GAAUjO,KAAK,IAAiBuF,KAAK0I,GACzC5I,EAAcrF,MAAAA,EAchB6E,EAAUtE,UAAU+J,OAAS1F,EAyFzB7B,EAAgB,GA2CpByC,EAAAA,IAAyB,ECnNdvC,EAAI,iBOKf,IAgBImL,EAAS,SAAUC,GAGtB,IAAIC,EAAO,0CACPC,EAAW,EAGXC,EAAmB,CAAC,EAGpBC,EAAI,CAsBPC,OAAQL,EAAMD,OAASC,EAAMD,MAAMM,OAsBnCC,4BAA6BN,EAAMD,OAASC,EAAMD,MAAMO,4BAWxDC,KAAM,CACLC,OAAQ,SAASA,EAAOC,GACvB,OAAIA,aAAkBC,EACd,IAAIA,EAAMD,EAAOjL,KAAMgL,EAAOC,EAAOE,SAAUF,EAAOG,OACnD1H,MAAMC,QAAQsH,GACjBA,EAAOI,IAAIL,GAEXC,EAAO9N,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,UAAW,IAEhF,EAkBA6C,KAAM,SAAUiF,GACf,OAAOqG,OAAO5O,UAAUwB,SAASoC,KAAK2E,GAAGlG,MAAM,GAAI,EACpD,EAQAwM,MAAO,SAAU9L,GAIhB,OAHKA,EAAU,MACd6L,OAAOE,eAAe/L,EAAK,OAAQ,CAAEkF,QAAS+F,IAExCjL,EAAU,IAClB,EAYAgM,MAAO,SAASC,EAAUzG,EAAG0G,GAG5B,IAAIF,EAAWG,EACf,OAHAD,EAAUA,GAAW,CAAC,EAGdf,EAAEG,KAAK/K,KAAKiF,IACnB,IAAK,SAEJ,GADA2G,EAAKhB,EAAEG,KAAKQ,MAAMtG,GACd0G,EAAQC,GACX,OAAOD,EAAQC,GAKhB,IAAK,IAAI1L,KAHTuL,EAA2C,CAAG,EAC9CE,EAAQC,GAAMH,EAEExG,EACXA,EAAE4G,eAAe3L,KACpBuL,EAAMvL,GAAOwL,EAAUzG,EAAE/E,GAAMyL,IAIjC,OAA0B,EAE3B,IAAK,QAEJ,OADAC,EAAKhB,EAAEG,KAAKQ,MAAMtG,GACd0G,EAAQC,GACJD,EAAQC,IAEhBH,EAAQ,GACRE,EAAQC,GAAMH,EAEd,EAA8CvE,SAAQ,SAAU4E,EAAG1M,GAClEqM,EAAMrM,GAAKsM,EAAUI,EAAGH,EACzB,IAE0B,GAE3B,QACC,OAAO1G,EAEV,EAUA8G,YAAa,SAAUC,GACtB,KAAOA,GAAS,CACf,IAAIlO,EAAI2M,EAAKwB,KAAKD,EAAQE,WAC1B,GAAIpO,EACH,OAAOA,EAAE,GAAGqH,cAEb6G,EAAUA,EAAQG,aACnB,CACA,MAAO,MACR,EASAC,YAAa,SAAUJ,EAASK,GAG/BL,EAAQE,UAAYF,EAAQE,UAAU/O,QAAQmP,OAAO7B,EAAM,MAAO,IAIlEuB,EAAQO,UAAUC,IAAI,YAAcH,EACrC,EASAI,cAAe,WACd,GAAwB,oBAAb3E,SACV,OAAO,KAER,GAAI,kBAAmBA,SACtB,OAA2BA,SAAsB,cAOlD,IACC,MAAM,IAAInL,KAmBX,CAlBE,MAAOyB,GAQR,IAAIsO,GAAO,qCAAqCT,KAAK7N,EAAIuO,QAAU,IAAI,GACvE,GAAID,EAAK,CACR,IAAIE,EAAU9E,SAAS+E,qBAAqB,UAC5C,IAAK,IAAIzN,KAAKwN,EACb,GAAIA,EAAQxN,GAAGsN,KAAOA,EACrB,OAAOE,EAAQxN,EAGlB,CACA,OAAO,IACR,CACD,EAqBA0N,SAAU,SAAUd,EAASE,EAAWa,GAGvC,IAFA,IAAIC,EAAK,MAAQd,EAEVF,GAAS,CACf,IAAIO,EAAYP,EAAQO,UACxB,GAAIA,EAAUU,SAASf,GACtB,OAAO,EAER,GAAIK,EAAUU,SAASD,GACtB,OAAO,EAERhB,EAAUA,EAAQG,aACnB,CACA,QAASY,CACV,GAUDG,UAAW,CAIVC,MAAOxC,EACPyC,UAAWzC,EACX0C,KAAM1C,EACN2C,IAAK3C,EA8BL4C,OAAQ,SAAU3B,EAAI4B,GACrB,IAAI/C,EAAOG,EAAEG,KAAKU,MAAMb,EAAEsC,UAAUtB,IAEpC,IAAK,IAAI1L,KAAOsN,EACf/C,EAAKvK,GAAOsN,EAAMtN,GAGnB,OAAOuK,CACR,EA6EAjG,aAAc,SAAUiJ,EAAQC,EAAQC,EAAQ9R,GAE/C,IAAI+R,GADJ/R,EAAOA,GAA4B+O,EAAW,WAC3B6C,GAEfI,EAAM,CAAC,EAEX,IAAK,IAAIvP,KAASsP,EACjB,GAAIA,EAAQ/B,eAAevN,GAAQ,CAElC,GAAIA,GAASoP,EACZ,IAAK,IAAII,KAAYH,EAChBA,EAAO9B,eAAeiC,KACzBD,EAAIC,GAAYH,EAAOG,IAMrBH,EAAO9B,eAAevN,KAC1BuP,EAAIvP,GAASsP,EAAQtP,GAEvB,CAGD,IAAIoL,EAAM7N,EAAK4R,GAUf,OATA5R,EAAK4R,GAAUI,EAGfjD,EAAEsC,UAAUa,IAAInD,EAAEsC,WAAW,SAAUhN,EAAKyE,GACvCA,IAAU+E,GAAOxJ,GAAOuN,IAC3BtR,KAAK+D,GAAO2N,EAEd,IAEOA,CACR,EAGAE,IAAK,SAASA,EAAI9I,EAAGmF,EAAUpK,EAAM2L,GACpCA,EAAUA,GAAW,CAAC,EAEtB,IAAIJ,EAAQX,EAAEG,KAAKQ,MAEnB,IAAK,IAAInM,KAAK6F,EACb,GAAIA,EAAE4G,eAAezM,GAAI,CACxBgL,EAAS9J,KAAK2E,EAAG7F,EAAG6F,EAAE7F,GAAIY,GAAQZ,GAElC,IAAI4O,EAAW/I,EAAE7F,GACb6O,EAAerD,EAAEG,KAAK/K,KAAKgO,GAEV,WAAjBC,GAA8BtC,EAAQJ,EAAMyC,IAGpB,UAAjBC,GAA6BtC,EAAQJ,EAAMyC,MACrDrC,EAAQJ,EAAMyC,KAAa,EAC3BD,EAAIC,EAAU5D,EAAUhL,EAAGuM,KAJ3BA,EAAQJ,EAAMyC,KAAa,EAC3BD,EAAIC,EAAU5D,EAAU,KAAMuB,GAKhC,CAEF,GAGDuC,QAAS,CAAC,EAcVC,aAAc,SAAUC,EAAOhE,GAC9BQ,EAAEyD,kBAAkBvG,SAAUsG,EAAOhE,EACtC,EAiBAiE,kBAAmB,SAAUC,EAAWF,EAAOhE,GAC9C,IAAImE,EAAM,CACTnE,SAAUA,EACVkE,UAAWA,EACXE,SAAU,oGAGX5D,EAAE6D,MAAMC,IAAI,sBAAuBH,GAEnCA,EAAII,SAAWjL,MAAMhH,UAAUqC,MAAM6P,MAAML,EAAID,UAAUO,iBAAiBN,EAAIC,WAE9E5D,EAAE6D,MAAMC,IAAI,gCAAiCH,GAE7C,IAAK,IAAWvC,EAAP5M,EAAI,EAAa4M,EAAUuC,EAAII,SAASvP,MAChDwL,EAAEkE,iBAAiB9C,GAAmB,IAAVoC,EAAgBG,EAAInE,SAElD,EA8BA0E,iBAAkB,SAAU9C,EAASoC,EAAOhE,GAE3C,IAAIiC,EAAWzB,EAAEG,KAAKgB,YAAYC,GAC9B4B,EAAUhD,EAAEsC,UAAUb,GAG1BzB,EAAEG,KAAKqB,YAAYJ,EAASK,GAG5B,IAAI0C,EAAS/C,EAAQG,cACjB4C,GAA4C,QAAlCA,EAAOC,SAAS7J,eAC7ByF,EAAEG,KAAKqB,YAAY2C,EAAQ1C,GAG5B,IAEIkC,EAAM,CACTvC,QAASA,EACTK,SAAUA,EACVuB,QAASA,EACT5P,KANUgO,EAAQiD,aASnB,SAASC,EAAsBC,GAC9BZ,EAAIY,gBAAkBA,EAEtBvE,EAAE6D,MAAMC,IAAI,gBAAiBH,GAE7BA,EAAIvC,QAAQ1D,UAAYiG,EAAIY,gBAE5BvE,EAAE6D,MAAMC,IAAI,kBAAmBH,GAC/B3D,EAAE6D,MAAMC,IAAI,WAAYH,GACxBnE,GAAYA,EAAS9J,KAAKiO,EAAIvC,QAC/B,CAUA,GARApB,EAAE6D,MAAMC,IAAI,sBAAuBH,IAGnCQ,EAASR,EAAIvC,QAAQG,gBAC2B,QAAlC4C,EAAOC,SAAS7J,gBAA4B4J,EAAOK,aAAa,aAC7EL,EAAOtJ,aAAa,WAAY,MAG5B8I,EAAIvQ,KAGR,OAFA4M,EAAE6D,MAAMC,IAAI,WAAYH,QACxBnE,GAAYA,EAAS9J,KAAKiO,EAAIvC,UAM/B,GAFApB,EAAE6D,MAAMC,IAAI,mBAAoBH,GAE3BA,EAAIX,QAKT,GAAIQ,GAAS5D,EAAM6E,OAAQ,CAC1B,IAAIC,EAAS,IAAID,OAAOzE,EAAE2E,UAE1BD,EAAOE,UAAY,SAAUC,GAC5BP,EAAsBO,EAAIvH,KAC3B,EAEAoH,EAAOI,YAAYhR,KAAKiR,UAAU,CACjCtD,SAAUkC,EAAIlC,SACdrO,KAAMuQ,EAAIvQ,KACV4R,gBAAgB,IAElB,MACCV,EAAsBtE,EAAEiF,UAAUtB,EAAIvQ,KAAMuQ,EAAIX,QAASW,EAAIlC,gBAjB7D6C,EAAsBtE,EAAEG,KAAKC,OAAOuD,EAAIvQ,MAmB1C,EAsBA6R,UAAW,SAAUxC,EAAMO,EAASvB,GACnC,IAAIkC,EAAM,CACTvQ,KAAMqP,EACNO,QAASA,EACTvB,SAAUA,GAGX,GADAzB,EAAE6D,MAAMC,IAAI,kBAAmBH,IAC1BA,EAAIX,QACR,MAAM,IAAIjR,MAAM,iBAAmB4R,EAAIlC,SAAW,qBAInD,OAFAkC,EAAItD,OAASL,EAAEkF,SAASvB,EAAIvQ,KAAMuQ,EAAIX,SACtChD,EAAE6D,MAAMC,IAAI,iBAAkBH,GACvBrD,EAAMyE,UAAU/E,EAAEG,KAAKC,OAAOuD,EAAItD,QAASsD,EAAIlC,SACvD,EA0BAyD,SAAU,SAAUzC,EAAMO,GACzB,IAAImC,EAAOnC,EAAQmC,KACnB,GAAIA,EAAM,CACT,IAAK,IAAIzR,KAASyR,EACjBnC,EAAQtP,GAASyR,EAAKzR,UAGhBsP,EAAQmC,IAChB,CAEA,IAAIC,EAAY,IAAIC,EAKpB,OAJAC,EAASF,EAAWA,EAAUG,KAAM9C,GAEpC+C,EAAa/C,EAAM2C,EAAWpC,EAASoC,EAAUG,KAAM,GAyazD,SAAiBE,GAGhB,IAFA,IAAIC,EAAQ,GACR1Q,EAAOyQ,EAAKF,KAAKI,KACd3Q,IAASyQ,EAAKG,MACpBF,EAAM5O,KAAK9B,EAAK+E,OAChB/E,EAAOA,EAAK2Q,KAEb,OAAOD,CACR,CA/aSG,CAAQT,EAChB,EAOAvB,MAAO,CACNiC,IAAK,CAAC,EAcNlE,IAAK,SAAU5P,EAAMwN,GACpB,IAAIqE,EAAQ7D,EAAE6D,MAAMiC,IAEpBjC,EAAM7R,GAAQ6R,EAAM7R,IAAS,GAE7B6R,EAAM7R,GAAM8E,KAAK0I,EAClB,EAWAsE,IAAK,SAAU9R,EAAM2R,GACpB,IAAIoC,EAAY/F,EAAE6D,MAAMiC,IAAI9T,GAE5B,GAAK+T,GAAcA,EAAUvT,OAI7B,IAAK,IAAWgN,EAAPhL,EAAI,EAAcgL,EAAWuG,EAAUvR,MAC/CgL,EAASmE,EAEX,GAGDrD,MAAOA,GAqBR,SAASA,EAAMlL,EAAMmL,EAASC,EAAOwF,GAUpCzU,KAAK6D,KAAOA,EASZ7D,KAAKgP,QAAUA,EAQfhP,KAAKiP,MAAQA,EAEbjP,KAAKiB,OAAqC,GAA3BwT,GAAc,IAAIxT,MAClC,CA6EA,SAASyT,EAAaC,EAAStS,EAAK6O,EAAM0D,GACzCD,EAAQE,UAAYxS,EACpB,IAAIyS,EAAQH,EAAQ7E,KAAKoB,GACzB,GAAI4D,GAASF,GAAcE,EAAM,GAAI,CAEpC,IAAIC,EAAmBD,EAAM,GAAG7T,OAChC6T,EAAME,OAASD,EACfD,EAAM,GAAKA,EAAM,GAAGlS,MAAMmS,EAC3B,CACA,OAAOD,CACR,CAgBA,SAASb,EAAa/C,EAAM2C,EAAWpC,EAASwD,EAAWC,EAAUC,GACpE,IAAK,IAAIhT,KAASsP,EACjB,GAAKA,EAAQ/B,eAAevN,IAAWsP,EAAQtP,GAA/C,CAIA,IAAIiT,EAAW3D,EAAQtP,GACvBiT,EAAW7N,MAAMC,QAAQ4N,GAAYA,EAAW,CAACA,GAEjD,IAAK,IAAIpO,EAAI,EAAGA,EAAIoO,EAASnU,SAAU+F,EAAG,CACzC,GAAImO,GAAWA,EAAQE,OAASlT,EAAQ,IAAM6E,EAC7C,OAGD,IAAIsO,EAAaF,EAASpO,GACtBsK,EAASgE,EAAWhE,OACpBsD,IAAeU,EAAWV,WAC1BW,IAAWD,EAAWC,OACtBtG,EAAQqG,EAAWrG,MAEvB,GAAIsG,IAAWD,EAAWX,QAAQa,OAAQ,CAEzC,IAAIC,EAAQH,EAAWX,QAAQ5S,WAAW+S,MAAM,aAAa,GAC7DQ,EAAWX,QAAUxE,OAAOmF,EAAWX,QAAQe,OAAQD,EAAQ,IAChE,CAKA,IAFA,IAAId,EAAUW,EAAWX,SAAWW,EAG/BK,EAAcV,EAAUb,KAAM/R,EAAM6S,EACxCS,IAAgB9B,EAAUQ,QAItBc,GAAW9S,GAAO8S,EAAQS,OAH9BvT,GAAOsT,EAAYnN,MAAMvH,OAAQ0U,EAAcA,EAAYvB,KAC1D,CAMD,IAAItT,EAAM6U,EAAYnN,MAEtB,GAAIqL,EAAU5S,OAASiQ,EAAKjQ,OAE3B,OAGD,KAAIH,aAAeiO,GAAnB,CAIA,IACI+F,EADAe,EAAc,EAGlB,GAAIN,EAAQ,CAEX,KADAT,EAAQJ,EAAaC,EAAStS,EAAK6O,EAAM0D,KAC3BE,EAAME,OAAS9D,EAAKjQ,OACjC,MAGD,IAAI6U,EAAOhB,EAAME,MACbe,EAAKjB,EAAME,MAAQF,EAAM,GAAG7T,OAC5BW,EAAIS,EAIR,IADAT,GAAK+T,EAAYnN,MAAMvH,OAChB6U,GAAQlU,GAEdA,IADA+T,EAAcA,EAAYvB,MACT5L,MAAMvH,OAOxB,GAHAoB,EADAT,GAAK+T,EAAYnN,MAAMvH,OAInB0U,EAAYnN,iBAAiBuG,EAChC,SAID,IACC,IAAIiH,EAAIL,EACRK,IAAMnC,EAAUQ,OAASzS,EAAImU,GAAyB,iBAAZC,EAAExN,OAC5CwN,EAAIA,EAAE5B,KAENyB,IACAjU,GAAKoU,EAAExN,MAAMvH,OAEd4U,IAGA/U,EAAMoQ,EAAKtO,MAAMP,EAAKT,GACtBkT,EAAME,OAAS3S,CAChB,MAEC,KADAyS,EAAQJ,EAAaC,EAAS,EAAG7T,EAAK8T,IAErC,SAKEkB,EAAOhB,EAAME,MAAjB,IACIiB,EAAWnB,EAAM,GACjBvD,EAASzQ,EAAI8B,MAAM,EAAGkT,GACtBI,EAAQpV,EAAI8B,MAAMkT,EAAOG,EAAShV,QAElC2U,EAAQvT,EAAMvB,EAAIG,OAClBkU,GAAWS,EAAQT,EAAQS,QAC9BT,EAAQS,MAAQA,GAGjB,IAAIO,EAAaR,EAAYS,KAgB7B,GAdI7E,IACH4E,EAAapC,EAASF,EAAWsC,EAAY5E,GAC7ClP,GAAOkP,EAAOtQ,QAGfoV,EAAYxC,EAAWsC,EAAYN,GAGnCF,EAAc5B,EAASF,EAAWsC,EADpB,IAAIpH,EAAM5M,EAAOmP,EAAS7C,EAAEkF,SAASsC,EAAU3E,GAAU2E,EAAUhH,EAAOgH,IAGpFC,GACHnC,EAASF,EAAW8B,EAAaO,GAG9BL,EAAc,EAAG,CAKpB,IAAIS,EAAgB,CACnBjB,MAAOlT,EAAQ,IAAM6E,EACrB4O,MAAOA,GAER3B,EAAa/C,EAAM2C,EAAWpC,EAASkE,EAAYS,KAAM/T,EAAKiU,GAG1DnB,GAAWmB,EAAcV,MAAQT,EAAQS,QAC5CT,EAAQS,MAAQU,EAAcV,MAEhC,CA7FA,CA8FD,CACD,CA3IA,CA6IF,CAeA,SAAS9B,IAER,IAAIE,EAAO,CAAExL,MAAO,KAAM4N,KAAM,KAAMhC,KAAM,MAExCC,EAAO,CAAE7L,MAAO,KAAM4N,KAAMpC,EAAMI,KAAM,MAC5CJ,EAAKI,KAAOC,EAGZrU,KAAKgU,KAAOA,EAEZhU,KAAKqU,KAAOA,EACZrU,KAAKiB,OAAS,CACf,CAWA,SAAS8S,EAASG,EAAMzQ,EAAM+E,GAE7B,IAAI4L,EAAO3Q,EAAK2Q,KAEZmC,EAAU,CAAE/N,MAAOA,EAAO4N,KAAM3S,EAAM2Q,KAAMA,GAKhD,OAJA3Q,EAAK2Q,KAAOmC,EACZnC,EAAKgC,KAAOG,EACZrC,EAAKjT,SAEEsV,CACR,CASA,SAASF,EAAYnC,EAAMzQ,EAAM0G,GAEhC,IADA,IAAIiK,EAAO3Q,EAAK2Q,KACPnR,EAAI,EAAGA,EAAIkH,GAASiK,IAASF,EAAKG,KAAMpR,IAChDmR,EAAOA,EAAKA,KAEb3Q,EAAK2Q,KAAOA,EACZA,EAAKgC,KAAO3S,EACZyQ,EAAKjT,QAAUgC,CAChB,CAiBA,GA3XAoL,EAAMD,MAAQK,EA+EdM,EAAMyE,UAAY,SAASA,EAAU1K,EAAGoH,GACvC,GAAgB,iBAALpH,EACV,OAAOA,EAER,GAAIvB,MAAMC,QAAQsB,GAAI,CACrB,IAAIoF,EAAI,GAIR,OAHApF,EAAEiC,SAAQ,SAAUpI,GACnBuL,GAAKsF,EAAU7Q,EAAGuN,EACnB,IACOhC,CACR,CAEA,IAAIkE,EAAM,CACTvO,KAAMiF,EAAEjF,KACRmL,QAASwE,EAAU1K,EAAEkG,QAASkB,GAC9BsG,IAAK,OACLC,QAAS,CAAC,QAAS3N,EAAEjF,MACrBqI,WAAY,CAAC,EACbgE,SAAUA,GAGPwG,EAAU5N,EAAEmG,MACZyH,IACCnP,MAAMC,QAAQkP,GACjBnP,MAAMhH,UAAUgF,KAAKkN,MAAML,EAAIqE,QAASC,GAExCtE,EAAIqE,QAAQlR,KAAKmR,IAInBjI,EAAE6D,MAAMC,IAAI,OAAQH,GAEpB,IAAIlG,EAAa,GACjB,IAAK,IAAIzL,KAAQ2R,EAAIlG,WACpBA,GAAc,IAAMzL,EAAO,MAAQ2R,EAAIlG,WAAWzL,IAAS,IAAIO,QAAQ,KAAM,UAAY,IAG1F,MAAO,IAAMoR,EAAIoE,IAAM,WAAapE,EAAIqE,QAAQE,KAAK,KAAO,IAAMzK,EAAa,IAAMkG,EAAIpD,QAAU,KAAOoD,EAAIoE,IAAM,GACrH,GAsQKnI,EAAM1C,SACV,OAAK0C,EAAMnF,kBAKNuF,EAAEE,6BAENN,EAAMnF,iBAAiB,WAAW,SAAUoK,GAC3C,IAAIhT,EAAUiC,KAAKC,MAAM8Q,EAAIvH,MACzBuC,EAAOhO,EAAQ4P,SACfrO,EAAOvB,EAAQuB,KACf4R,EAAiBnT,EAAQmT,eAE7BpF,EAAMkF,YAAY9E,EAAEiF,UAAU7R,EAAM4M,EAAEsC,UAAUzC,GAAOA,IACnDmF,GACHpF,EAAMuI,OAER,IAAG,GAGGnI,GAlBCA,EAsBT,IAAIoI,EAASpI,EAAEG,KAAK0B,gBAUpB,SAASwG,IACHrI,EAAEC,QACND,EAAEuD,cAEJ,CAEA,GAdI6E,IACHpI,EAAE2E,SAAWyD,EAAOtG,IAEhBsG,EAAO5D,aAAa,iBACvBxE,EAAEC,QAAS,KAURD,EAAEC,OAAQ,CAOd,IAAIqI,EAAapL,SAASoL,WACP,YAAfA,GAA2C,gBAAfA,GAAgCF,GAAUA,EAAOG,MAChFrL,SAASzC,iBAAiB,mBAAoB4N,GAE1CpW,OAAOuW,sBACVvW,OAAOuW,sBAAsBH,GAE7BpW,OAAOgF,WAAWoR,EAAgC,GAGrD,CAEA,OAAOrI,CAER,CAlqCY,CAhBmB,oBAAX/N,OACjBA,OAE6B,oBAAtBwW,mBAAqCC,gBAAgBD,kBAC1DC,KACA,CAAC,GA+qC+BtX,EAAOD,UAC3CC,EAAOD,QAAUwO,QAII,IAAX,EAAAgJ,IACV,EAAAA,EAAOhJ,MAAQA,GAyDhBA,EAAM2C,UAAUsG,OAAS,CACxB,QAAW,CACV1C,QAAS,8BACTY,QAAQ,GAET,OAAU,CACTZ,QAAS,iBACTY,QAAQ,GAET,QAAW,CAEVZ,QAAS,uHACTY,QAAQ,EACRjE,OAAQ,CACP,kBAAmB,CAClBqD,QAAS,6BACTC,YAAY,EACZW,QAAQ,EACRjE,OAAQ,MAET,OAAU,CACTqD,QAAS,kBACTY,QAAQ,GAET,YAAe,eACf,cAAe,YACf,KAAQ,eAGV,MAAS,CACRZ,QAAS,4BACTY,QAAQ,GAET,IAAO,CACNZ,QAAS,uHACTY,QAAQ,EACRjE,OAAQ,CACP,IAAO,CACNqD,QAAS,iBACTrD,OAAQ,CACP,YAAe,QACf,UAAa,iBAGf,eAAgB,GAChB,aAAc,CACbqD,QAAS,qCACTrD,OAAQ,CACP,YAAe,CACd,CACCqD,QAAS,KACT1F,MAAO,eAER,CACC0F,QAAS,mBACTC,YAAY,MAKhB,YAAe,OACf,YAAa,CACZD,QAAS,YACTrD,OAAQ,CACP,UAAa,mBAMjB,OAAU,CACT,CACCqD,QAAS,kBACT1F,MAAO,gBAER,uBAIFb,EAAM2C,UAAUsG,OAAY,IAAE/F,OAAO,cAAcA,OAAe,OACjElD,EAAM2C,UAAUsG,OAAe,OAChCjJ,EAAM2C,UAAUsG,OAAgB,QAAE/F,OAAO,mBAAmBA,OAASlD,EAAM2C,UAAUsG,OAGrFjJ,EAAMkE,MAAMjC,IAAI,QAAQ,SAAU+B,GAEhB,WAAbA,EAAIvO,OACPuO,EAAIlG,WAAkB,MAAIkG,EAAIpD,QAAQhO,QAAQ,QAAS,KAEzD,IAEAmO,OAAOE,eAAejB,EAAM2C,UAAUsG,OAAOb,IAAK,aAAc,CAY/DhO,MAAO,SAAoB8O,EAAShJ,GACnC,IAAIiJ,EAAsB,CAAC,EAC3BA,EAAoB,YAAcjJ,GAAQ,CACzCqG,QAAS,oCACTC,YAAY,EACZtD,OAAQlD,EAAM2C,UAAUzC,IAEzBiJ,EAA2B,MAAI,uBAE/B,IAAIjG,EAAS,CACZ,iBAAkB,CACjBqD,QAAS,4BACTrD,OAAQiG,IAGVjG,EAAO,YAAchD,GAAQ,CAC5BqG,QAAS,UACTrD,OAAQlD,EAAM2C,UAAUzC,IAGzB,IAAIkJ,EAAM,CAAC,EACXA,EAAIF,GAAW,CACd3C,QAASxE,OAAO,wFAAwFuF,OAAO1U,QAAQ,OAAO,WAAc,OAAOsW,CAAS,IAAI,KAChK1C,YAAY,EACZW,QAAQ,EACRjE,OAAQA,GAGTlD,EAAM2C,UAAU1I,aAAa,SAAU,QAASmP,EACjD,IAEDrI,OAAOE,eAAejB,EAAM2C,UAAUsG,OAAOb,IAAK,eAAgB,CAYjEhO,MAAO,SAAUiP,EAAUnJ,GAC1BF,EAAM2C,UAAUsG,OAAOb,IAAIlF,OAAO,gBAAgB/L,KAAK,CACtDoP,QAASxE,OACR,aAAauF,OAAS,MAAQ+B,EAAW,IAAM,iDAAiD/B,OAChG,KAEDd,YAAY,EACZtD,OAAQ,CACP,YAAa,WACb,aAAc,CACbqD,QAAS,WACTrD,OAAQ,CACP,MAAS,CACRqD,QAAS,yCACTC,YAAY,EACZ3F,MAAO,CAACX,EAAM,YAAcA,GAC5BgD,OAAQlD,EAAM2C,UAAUzC,IAEzB,YAAe,CACd,CACCqG,QAAS,KACT1F,MAAO,eAER,WAMN,IAGDb,EAAM2C,UAAU2G,KAAOtJ,EAAM2C,UAAUsG,OACvCjJ,EAAM2C,UAAU4G,OAASvJ,EAAM2C,UAAUsG,OACzCjJ,EAAM2C,UAAU6G,IAAMxJ,EAAM2C,UAAUsG,OAEtCjJ,EAAM2C,UAAU8G,IAAMzJ,EAAM2C,UAAUK,OAAO,SAAU,CAAC,GACxDhD,EAAM2C,UAAU+G,KAAO1J,EAAM2C,UAAU8G,IACvCzJ,EAAM2C,UAAUgH,KAAO3J,EAAM2C,UAAU8G,IACvCzJ,EAAM2C,UAAUiH,IAAM5J,EAAM2C,UAAU8G,IAOrC,SAAUzJ,GAEV,IAAI6J,EAAS,8EAEb7J,EAAM2C,UAAUmH,IAAM,CACrB,QAAW,mBACX,OAAU,CACTvD,QAASxE,OAAO,aAAe,sBAAsBuF,OAAS,IAAMuC,EAAOvC,OAAS,MAAQ,kBAAkBA,QAC9GpE,OAAQ,CACP,KAAQ,WACR,6BAA8B,CAC7BqD,QAAS,4FACTC,YAAY,EACZ3F,MAAO,YAER,QAAW,CACV0F,QAAS,yCACTC,YAAY,KAKf,IAAO,CAEND,QAASxE,OAAO,eAAiB8H,EAAOvC,OAAS,IAAM,8BAA8BA,OAAS,OAAQ,KACtGH,QAAQ,EACRjE,OAAQ,CACP,SAAY,QACZ,YAAe,UACf,OAAU,CACTqD,QAASxE,OAAO,IAAM8H,EAAOvC,OAAS,KACtCzG,MAAO,SAIV,SAAY,CACX0F,QAASxE,OAAO,qDAAuD8H,EAAOvC,OAAS,iBACvFd,YAAY,GAEb,OAAU,CACTD,QAASsD,EACT1C,QAAQ,GAET,SAAY,CACXZ,QAAS,oFACTC,YAAY,GAEb,UAAa,gBACb,SAAY,CACXD,QAAS,kCACTC,YAAY,GAEb,YAAe,aAGhBxG,EAAM2C,UAAUmH,IAAY,OAAE5G,OAAOsC,KAAOxF,EAAM2C,UAAUmH,IAE5D,IAAIb,EAASjJ,EAAM2C,UAAUsG,OACzBA,IACHA,EAAOb,IAAI2B,WAAW,QAAS,OAC/Bd,EAAOb,IAAI4B,aAAa,QAAS,OAGnC,CA/DA,CA+DEhK,GAOFA,EAAM2C,UAAUsH,MAAQ,CACvB,QAAW,CACV,CACC1D,QAAS,kCACTC,YAAY,EACZW,QAAQ,GAET,CACCZ,QAAS,mBACTC,YAAY,EACZW,QAAQ,IAGV,OAAU,CACTZ,QAAS,iDACTY,QAAQ,GAET,aAAc,CACbZ,QAAS,2FACTC,YAAY,EACZtD,OAAQ,CACP,YAAe,UAGjB,QAAW,6GACX,QAAW,qBACX,SAAY,cACZ,OAAU,4DACV,SAAY,+CACZ,YAAe,iBAQhBlD,EAAM2C,UAAUuH,WAAalK,EAAM2C,UAAUK,OAAO,QAAS,CAC5D,aAAc,CACbhD,EAAM2C,UAAUsH,MAAM,cACtB,CACC1D,QAAS,0GACTC,YAAY,IAGd,QAAW,CACV,CACCD,QAAS,uBACTC,YAAY,GAEb,CACCD,QAAS,mdACTC,YAAY,IAId,SAAY,oGACZ,OAAU,CACTD,QAASxE,OACR,aAAauF,OACb,MAGC,eAAeA,OACf,IAEA,0BAA0BA,OAC1B,IAEA,4BAA4BA,OAC5B,IAEA,sCAAsCA,OACtC,IAEA,gBAAgBA,OAChB,IAEA,oFAAoFA,OAErF,IACA,YAAYA,QAEbd,YAAY,GAEb,SAAY,8FAGbxG,EAAM2C,UAAUuH,WAAW,cAAc,GAAG3D,QAAU,uEAEtDvG,EAAM2C,UAAU1I,aAAa,aAAc,UAAW,CACrD,MAAS,CACRsM,QAASxE,OAGR,0DAA0DuF,OAK1D,KAAKA,OACL,MACA,iEAAiEA,OACjE,IAEA,qIAAqIA,OACrI,IAEA,kEAAkEA,QAEnEd,YAAY,EACZW,QAAQ,EACRjE,OAAQ,CACP,eAAgB,CACfqD,QAAS,4BACTC,YAAY,EACZ3F,MAAO,iBACPqC,OAAQlD,EAAM2C,UAAUwH,OAEzB,kBAAmB,UACnB,cAAe,aAIjB,oBAAqB,CACpB5D,QAAS,gMACT1F,MAAO,YAER,UAAa,CACZ,CACC0F,QAAS,sIACTC,YAAY,EACZtD,OAAQlD,EAAM2C,UAAUuH,YAEzB,CACC3D,QAAS,qFACTC,YAAY,EACZtD,OAAQlD,EAAM2C,UAAUuH,YAEzB,CACC3D,QAAS,kEACTC,YAAY,EACZtD,OAAQlD,EAAM2C,UAAUuH,YAEzB,CACC3D,QAAS,8eACTC,YAAY,EACZtD,OAAQlD,EAAM2C,UAAUuH,aAG1B,SAAY,8BAGblK,EAAM2C,UAAU1I,aAAa,aAAc,SAAU,CACpD,SAAY,CACXsM,QAAS,QACTY,QAAQ,EACRtG,MAAO,WAER,kBAAmB,CAClB0F,QAAS,2EACTY,QAAQ,EACRjE,OAAQ,CACP,uBAAwB,CACvBqD,QAAS,QACT1F,MAAO,UAER,cAAiB,CAChB0F,QAAS,mEACTC,YAAY,EACZtD,OAAQ,CACP,4BAA6B,CAC5BqD,QAAS,YACT1F,MAAO,eAER2E,KAAMxF,EAAM2C,UAAUuH,aAGxB,OAAU,YAGZ,kBAAmB,CAClB3D,QAAS,4EACTC,YAAY,EACZW,QAAQ,EACRtG,MAAO,cAITb,EAAM2C,UAAU1I,aAAa,aAAc,WAAY,CACtD,mBAAoB,CACnBsM,QAAS,oFACTC,YAAY,EACZ3F,MAAO,cAILb,EAAM2C,UAAUsG,SACnBjJ,EAAM2C,UAAUsG,OAAOb,IAAI2B,WAAW,SAAU,cAIhD/J,EAAM2C,UAAUsG,OAAOb,IAAI4B,aAC1B,yNAAyN1C,OACzN,eAIFtH,EAAM2C,UAAUyH,GAAKpK,EAAM2C,UAAUuH,WAOpC,WAEA,QAAqB,IAAVlK,GAA6C,oBAAbzC,SAA3C,CAKK8M,QAAQlY,UAAUmY,UACtBD,QAAQlY,UAAUmY,QAAUD,QAAQlY,UAAUoY,mBAAqBF,QAAQlY,UAAUqY,uBAGtF,IAMIC,EAAa,CAChB,GAAM,aACN,GAAM,SACN,GAAM,OACN,IAAO,aACP,KAAQ,aACR,GAAM,OACN,IAAO,QACP,EAAK,IACL,IAAO,SAGJC,EAAc,kBAEdC,EAAgB,SAGhBC,EAAW,iFAuDf5K,EAAMkE,MAAMjC,IAAI,uBAAuB,SAAU+B,GAChDA,EAAIC,UAAY,KAAO2G,CACxB,IAEA5K,EAAMkE,MAAMjC,IAAI,uBAAuB,SAAU+B,GAChD,IAAI6G,EAAqC7G,EAAW,QACpD,GAAI6G,EAAIP,QAAQM,GAAW,CAC1B5G,EAAIvQ,KAAO,GAEXoX,EAAI3P,aAAawP,EApEE,WAuEnB,IAAIjX,EAAOoX,EAAI9Q,YAAYwD,SAAS/H,cAAc,SAClD/B,EAAKiR,YA3Fe,WA6FpB,IAAIvC,EAAM0I,EAAIC,aAAa,YAEvBhJ,EAAWkC,EAAIlC,SACnB,GAAiB,SAAbA,EAAqB,CAGxB,IAAIiJ,GAAa,WAAWrJ,KAAKS,IAAQ,CAAC,CAAE,SAAS,GACrDL,EAAW2I,EAAWM,IAAcA,CACrC,CAGA/K,EAAMQ,KAAKqB,YAAYpO,EAAMqO,GAC7B9B,EAAMQ,KAAKqB,YAAYgJ,EAAK/I,GAG5B,IAAIkJ,EAAahL,EAAM2D,QAAQqH,WAC3BA,GACHA,EAAWC,cAAcnJ,GA7E5B,SAAkBK,EAAK+I,EAAS7L,GAC/B,IAAI8L,EAAM,IAAIC,eACdD,EAAIE,KAAK,MAAOlJ,GAAK,GACrBgJ,EAAIG,mBAAqB,WACF,GAAlBH,EAAIxC,aACHwC,EAAII,OAAS,KAAOJ,EAAIK,aA8E5B,SAAU1I,GAET+H,EAAI3P,aAAawP,EAAaC,GAG9B,IAAIc,EA7DR,SAAoBA,GACnB,IAAIlY,EAAI,wCAAwCmO,KAAK+J,GAAS,IAC9D,GAAIlY,EAAG,CACN,IAAImY,EAAQC,OAAOpY,EAAE,IACjBqY,EAAQrY,EAAE,GACVsY,EAAMtY,EAAE,GAEZ,OAAKqY,EAGAC,EAGE,CAACH,EAAOC,OAAOE,IAFd,CAACH,OAAOtV,GAHR,CAACsV,EAAOA,EAMjB,CAED,CA6CgBI,CAAWjB,EAAIC,aAAa,eACxC,GAAIW,EAAO,CACV,IAAIM,EAAQjJ,EAAKxO,MAAM,aAGnBoX,EAAQD,EAAM,GACdI,EAAkB,MAAZJ,EAAM,GAAaM,EAAMlZ,OAAS4Y,EAAM,GAE9CC,EAAQ,IAAKA,GAASK,EAAMlZ,QAChC6Y,EAAQM,KAAKC,IAAI,EAAGD,KAAKE,IAAIR,EAAQ,EAAGK,EAAMlZ,SAC1CgZ,EAAM,IAAKA,GAAOE,EAAMlZ,QAC5BgZ,EAAMG,KAAKC,IAAI,EAAGD,KAAKE,IAAIL,EAAKE,EAAMlZ,SAEtCiQ,EAAOiJ,EAAMvX,MAAMkX,EAAOG,GAAKtD,KAAK,MAG/BsC,EAAIhG,aAAa,eACrBgG,EAAI3P,aAAa,aAAcvI,OAAO+Y,EAAQ,GAEhD,CAGAjY,EAAKiR,YAAc5B,EACnB9C,EAAMuE,iBAAiB9Q,EACxB,CA1GCyX,CAAQC,EAAIK,cAERL,EAAII,QAAU,IACjBlM,EAxCG,WAwCmB8L,EAAII,OAxCD,yBAwCSJ,EAAIgB,YAEtC9M,EAxCuB,4CA4C3B,EACA8L,EAAIiB,KAAK,KACV,CAgEEC,CACClK,EACA,GA8BA,SAAU9C,GAETwL,EAAI3P,aAAawP,EA/HD,UAiIhBjX,EAAKiR,YAAcrF,CACpB,GAEF,CACD,IAEAW,EAAM2D,QAAQ2I,cAAgB,CAQ7BhH,UAAW,SAAmBvB,GAG7B,IAFA,IAEgBtC,EAFZ2C,GAAYL,GAAaxG,UAAU+G,iBAAiBsG,GAE/C/V,EAAI,EAAa4M,EAAU2C,EAASvP,MAC5CmL,EAAMuE,iBAAiB9C,EAEzB,GAGD,IAAI8K,GAAS,EAEbvM,EAAMsM,cAAgB,WAChBC,IACJC,QAAQC,KAAK,2FACbF,GAAS,GAEVvM,EAAM2D,QAAQ2I,cAAchH,UAAUjB,MAAMzS,KAAMkE,UACnD,CA5LA,CA8LD,CAlMA,sKC9mDyB,8EClEQ,0BA6BM,0BA+BJ,8ZA5DjB,iHAUN,YAAU,IACd,UAAQ,GACD,+CAKP,MAAe,KAAK,KAEpB,OADA,UAAa,EACN,mCAGuC,OAAV,EAAN,uLAOpB,iHAYN,YAAS,IACb,UAAQ,GACD,+CAKP,MAAe,KAAK,KAEpB,OADA,UAAa,EACN,mCAGuC,OAAhB,UAAM,2LAO1B,iHAUN,YAAS,IACb,UAAQ,GACD,+CAKP,MAAe,KAAK,KAEpB,OADA,UAAa,EACN,mDAIgC,gBAAK,OAAL,mEAGA,gBAAK,OAAL,8DAIvC,MAAe,UAEf,OADA,oBAAS,EAAT,EACO,8CAMP,OADA,oBAAS,EAAT,EACO,2DAIkC,WAAK,OAAL,cAAF,EAAE,0DAGA,WAAK,OAAL,cAAF,EAAE,0CAMK,OAAhB,UAAM,gMArHqC,qBAHmB,OAAtB,MAAc,GAGhC,CAAO,EAAP,0BAlBkB,qBAHkB,OAArB,MAAa,GAG/B,CAAO,EAAP,0BAMgB,qBAHe,OAAlB,MAAU,GAG5B,CAAO,EAAP,yECpBlB,IAAvB,YAAW,SAClB,YAAW,OAAU,YACjB,OAAY,MAAL,GAA4B,MAAf,EAAC,WAAsB,EAAC,UAAU,YAAe,UAAS,UAAU,iBAFrD,IAAhC,OAAM,UAAU,YACvB,OAAM,eAAgB,OAAM,UAAY,aAAc,OAC3C,cAEH,OADA,EAAW,GAAY,EAChB,KAAI,YAAa,EAAc,KAAc,UAJvC,IAAd,KAAI,OACb,KAAI,KAAQ,cACV,OAAa,WAAJ,IAAuB,MAAJ,IAAmB,MAAJ,IAAmB,EAAJ,GAAU,uMCuC3D,OAZD,SAAmC,KACnC,EAAQ,GAAK,oBACT,QAAc,EAAI,GAAS,EAAQ,SAC/B,WAAmC,OAEnC,QAAkB,cACC,MAAf,IAAqB,OAAgB,EAAS,QAC9C,MAAW,EAAQ,WACf,SAAgC,OAAgB,EAAS,GACzD,OAAgB,OAAgB,EAAM,GAAU,OAN5D,0BAiCoC,OAApC,QAAK,KAAO,MAAK,mBAAe,qBAGZ,OAAxB,EAAU,EAAS,oBAGiC,OAAhD,QAAK,KAAO,GAAoC,KAAJ,wBC05CzC,MAAX,EAAW,CACG,0BAAd,GAAc,KAAT,MAAS,aACS,MAAf,EAAK,GACL,OAAO,QAFf,GAAc,QAMA,0BAAd,GAAc,KAAT,MAAS,aACN,KAAW,EAAK,IAChB,OAAO,QAFf,GAAc,GAMlB,OAAO,4BAgjsBP,iCA9NA,EAAO,EAAO,GACd,MAAY,EACI,0BAAhB,EAAgB,IAAX,MAAW,iBACN,IAAF,EAAE,GAAQ,GAAG,EAAO,EAAO,KAC3B,EAAQ,GAAK,GAAS,GAEnB,QADI,GAAP,EAAqB,EAAS,GAKtC,OAFI,GAAS,GAAK,EAAQ,GAAO,EAAO,EAAO,GAC/C,EAAO,EAAO,GACP,EAoNA,GAAO,KAAiB,EAAW,EAAQ,EAAS,EAAO,EAAW,GAAW,2BA79tBxF,qBA4gCc,0BAAd,GAAc,KAAT,MAAS,aACN,oBAAW,EAAK,KAChB,OAAO,QAFf,GAAc,GAKd,OAAO,EAjhCA,GAAQ,IAAY,4BCy3F3B,iCAtBA,EAAO,EAAO,GACd,MAAY,EACI,uBAAX,MAAW,UACN,IAAF,EAAE,GAAQ,GAAG,EAAO,EAAO,KAC3B,EAAQ,GAAK,GAAS,GAEnB,QADI,GAAP,EAAqB,EAAS,GAKtC,OAFI,GAAS,GAAK,EAAQ,GAAO,EAAO,EAAO,GAC/C,EAAO,EAAO,GACP,EAYA,GAAO,KAAiB,EAAW,EAAQ,EAAS,EAAO,EAAW,GAAW,0CADrF,oBAA4D,MAA5D,aAAwF,IAAxF,aAAoH,IAApH,cAAqI,GAArI,cAAoK,OAApK,cAA8M,MAA9M,sCA3pEC,OACa,yBACT,IAAK,gBACL,IAAK,MAAW,MAAc,IAAI,GAAQ,MAAW,qBACxC,GAAL,GAHZ,SAMJ,OAA4B,yBAOxB,MACY,GAAL,GACJ,KAAa,MATR,CAAL,yBAyBH,OACa,yBACT,IAAK,gBACL,IAAK,MAAU,MAAc,IAAK,GAAQ,MAAW,qBAC7C,0CC3xC8C,4DAAM,CAAsB,EAAiB,GAA7C,GAA9D,WAE2C,CAAK,EAAiB,EAAtB,MDyxCe,oCAHtD,SAMJ,mBEtpCH,OAJqD,YAClD,SAAK,UACL,SAAK,GAAM,MAAW,oBACd,GFupCgC,CAAjC,KAAa,kCA7vChB,MACO,IAAS,uBA8OhB,MAAc,OAAO,EAAK,EAAQ,OACtC,MAAY,EACC,gBAAR,MAAQ,SACT,GAAmB,GACf,KAAW,GACX,OAAO,EACX,QAEJ,OAAO,EArPA,GAAQ,IAAY,uBAigBrB,EACF,IAAW,mBAiBF,yBACT,EAAK,MAAM,GAAwB,uBACnC,IAAK,IAAK,iBACF,MAAM,GAA0B,mCAH5C,SAjB2B,CAAL,GAEd,MAAe,UACV,EAAS,IACV,MAAM,GAAwB,wBAClC,MAAa,EAAS,OAClB,EAAS,IACT,MAAM,GAA0B,yCACpC,OAAO,uBAyrBF,oBAAR,MAAQ,MACT,EAAY,EAAI,GAEpB,OAAO,iBAqCP,OAAO,GAAU,wBA56BX,EACF,IAAW,OAAY,GAAL,GAEd,MAAe,UACV,EAAS,IACV,MAAM,GAAwB,4BAClC,MAAW,EAAS,IACb,EAAS,KACZ,EAAO,EAAS,IACpB,OAAO,oBAaX,MACA,MAAM,GAAwB,kBAClC,OAAO,IAAK,sBA0iGZ,OGx7GmF,qDCqhCnF,OAAW,EAAO,EAAc,EAAkB,mBA6ElD,OAAW,EAAO,EAAc,EAAkB,mBA7elD,OAAsB,QAAgB,EAAM,GAAI,oBCkZhD,OAAO,OAAqB,EAAM,4DCr9Bf,YAEO,6BAaP,YAAqC,gBAGhD,QAAmB,EAAO,UAAkB,KAC5C,QAAa,6EAtEzB,KACoE,+BCyFsB,OAA1C,IAAM,EAAO,aAAmB,GAAF,iCPuD9E,IA2HoB,EA3HpB,MA2HoB,YAAX,MAAW,SOnJ4D,GAYilG,EAZ9kG,KAAO,GPmJ5D,CAAoB,EAAO,WACrD,EAAO,KOpJoF,OAA7B,4EAxHlE,KAkFiC,eAoCS,yFCpEK,8CA9CA,qHAsMtB,OAAb,EAAK,IAAO,EAAC,iBAwExB,OAJuD,YACpD,SAAK,UACL,SAAK,GAAO,IAAK,mBACT,oBA7OuB,YAA0B,6BClB8D,UAA7C,MAAuB,EAAK,IAAU,qECCxB,gBAArB,EAAqB,0BAzB7C,yDAiiBH,yBAjJnB,gCAAf,EAAe,EAAf,KAAK,EAAU,EAAV,KACP,IAAI,EAAK,IAgJO,CAApB,EAA2B,GClZsud,4CRkDrud,UAAT,OAAS,qBAFpB,YAAmC,2BAiYnC,QAA4B,IAAb,OAAiB,cAAuB,YAAqB,GAAR,SACpE,OAA4B,MAAZ,OAAkB,EAAO,6BAL1B,eACE,8BAHY,YAAuC,gCAha7D,OAAS,MACZ,MAAW,OAAS,OAChB,YAAU,KAAS,YAGnB,OAFA,OAAW,EACX,OAAY,EACZ,KAGR,OAAY,6BAbQ,UAAT,OAAS,IACH,aACF,kCARvB,YACA,YACA,qDD5HwC,iCArBG,0OUiFA,gFAgDvC,MAAU,EACV,EAAW,IACJ,OACG,EAAI,KAAJ,oCAAgC,OAAO,EAA7C,EAAM,EACN,0BAKuB,OAA3B,QAAI,EAAQ,MAAQ,oBAxCxB,YACA,6BAhEA,oBAEqC,gBAA8C,EAAQ,KAAgB,EAA1E,2BArCiB,0BC0C6B,yMC1C3D,8CCsEH,MAAb,EAAqB,IAAO,EAAU,IACtC,eAA4B,IAAO,GACnC,gBAAmB,KAAO,EAAP,MACX,IAAe,GAAR,0BCkJf,oBAAQ,IAAO,OAAO,MACrB,EAAY,OAAO,EAExB,MAAqB,GAAL,GAChB,EAAuB,GAAN,GAEjB,QAAO,oBAAa,KAAc,UCpNgB,GCoB4N,GAAqlR,GAA9jR,cDpBvO,IDoN5B,OCpNgB,GCoB4N,GAAknR,GAA3lR,cDpBvO,4BEuyB3D,qBAA8D,mBACd,OAA9C,GAAL,GAAc,GAAa,GAAR,KAAK,GAAU,EAAM,GADrC,gCAmdoB,IAAnB,EAAW,OAAQ,CACnB,MAAgB,EAAW,MA/+B2B,IAAV,GAg/BvC,GACD,yBAyCR,GAAwB,GAExB,MAAoB,EACpB,EAAgB,KAAQ,EAAW,EAAe,OACjC,IAAb,GAA4B,IAAT,EACnB,OAAO,GAAY,GAAL,IAGlB,QAAgB,EAAQ,EACxB,EAAa,GAAsB,EAAiB,GAAN,EAAmB,IAAS,kBAz6B0D,EAAV,GAAlC,GA26BzE,EAAU,EAAe,IAApC,EAAO,EAAI,GACX,EAAgB,EAAY,EAAU,OAAtC,EAEI,GAAa,EAAO,OAAQ,EAAQ,EAAvB,GAA0B,QAC3C,EAAY,KAAQ,EAAW,EAAe,UAC5B,IAAb,GAGT,OAn7BoI,EAAV,GAAlC,GAk7B7E,EAAU,EAAe,QAApC,EAAO,EAAI,GACJ,EA5DQ,GAAM,EAAW,EAAY,WnBsVlC,cKivCV,OIh1FmF,UT+lDzE,yBmBjYN,oBAAoF,GAApF,cAA6G,GAA7G,aAAiI,uBAIrI,OAHA,GAAwB,GAGjB,OAAwB,EAAM,EAAY,iBC1oCjD,OAAO,OFxDy7E,GCgsCh6E,CAAX,KAEmC,gBAAkB,8BAjRrE,GAA8B,IAAhB,EAAQ,IAAR,CACf,QAAqB,GAAR,GAEb,SADiB,wBAwIlB,oBAA+D,OAA/D,cAAgG,qBACnG,OAAW,GAAc,mBACrB,KAAQ,EAAQ,EAAY,EAAG,GAAmB,GE1xB0iiC,EA1HhgiC,YA0HkhiC,EAAQ,GFwxBvniC,UAxIyD,GAAY,EAAQ,GAApB,KAAjC,KAAQ,EAAQ,GAAhB,MACJ,EAAG,KAAU,GADhC,EACyC,GAG7C,MAAmB,EAA+C,GAAW,GAAX,EAAwB,OAAkB,GAAnF,GAAW,GAAX,EAAyB,GAAI,UAElD,oBACc,oCAAd,MAAc,KAAd,GAAc,GAAd,KAAK,QAAS,iBnB1sBF,MAw9BM,EAx9BN,YAAX,MAAW,SmB2sBsC,GAhwBvD,EAgwBqE,EAAG,EAAM,EAhwB9E,EAgwBwF,OAAQ,GnB3sBrE,CAAoB,EAAO,WACrD,EAAO,QmB2sBuB,MADO,EAEzB,OAAO,KAFkB,SADjC,IAAc,QAMA,oCAAd,MAAc,KAAd,GAAc,GAAd,KAAK,QAAS,iBnBhtBF,MA69BuF,EA79BvF,YAAX,MAAW,SmBitBsC,GAtwBvD,EAswByE,EAAG,EAAM,EAtwBlF,EAswB4F,OAAQ,GnBjtBzE,CAAoB,EAAO,WACrD,EAAO,QmBitBuB,MADO,EAEzB,OAAO,KAFkB,SADjC,IAAc,GAOlB,OAAO,KA2PmE,GAAU,EAAgB,EAA2B,GAAmB,GAAQ,aAAhF,EAAgF,KAAM,GAAtF,EAAyF,IAAzF,EAAqG,IAAO,mBAJlL,YnBgYK,GAAkB,EAAlB,EAA2C,EACjD,EADM,IAjGI,KAAa,KAAwB,KAuErC,EAvEN,EAuEM,YAAR,MmBvT2F,OnBuTnF,OACT,EAAY,EAAI,GmBxTpB,OnByTO,yBmB7wBJ,qBAA4D,mBACJ,OAAtD,GAAL,GAAc,GAAqB,GAAhB,KAAK,OAAkB,EAAM,GAD7C,yBAlaiH,OAAV,GAAjD,KAAY,EAAM,KAAO,EAAM,KAAe,EAA9C,yBAuqBzD,OAAW,GAAc,6CAlIrB,sBAAmH,GAAnH,gBAmIA,GAAQ,EAAQ,EAAY,MAAQ,GAApC,ME5vB8o/B,EA7Htj/B,QA6Hok/B,EAAQ,4BF0vBrq/B,oBAA2D,GAA3D,cAAoF,GAApF,qCAhIH,MAAmB,EAGf,GAAW,GAAX,EAAwB,OAA2B,GAAT,EAAuB,IAFjE,GAAW,GAAX,EAAyB,GAAa,GAAT,EAAsB,WAInD,oBAAkB,oBACJ,oCAAd,MAAc,KAAd,GAAc,GAAd,KAAK,MAAS,aACA,GAAN,EAAoB,EAAG,EAAM,EAAa,GAAN,GAAc,GAClD,OAAO,QAFf,IAAc,QAKA,oCAAd,MAAc,KAAd,GAAc,GAAd,KAAK,MAAS,aACA,GAAN,EAAwB,EAAG,EAAM,EAAa,GAAN,GAAc,GACtD,OAAO,QAFf,IAAc,GAKlB,OAAO,iBAlmBgB,OAAV,GAAL,GAAc,EAAC,8BA0blB,EAAc,GAAO,EAAa,GAAO,GAAkB,GAAL,GAAc,EAA3B,IAAuC,GAAoB,GAAN,GAAe,EAA7B,GACjF,OAAO,EAGG,WAAd,EAAsB,KAAjB,MAAS,cACoB,GAAzB,KAAK,EAAa,EAAlB,GAAgC,KAAM,EAAc,EAApB,GAA4B,GAC7D,OAAO,QAFf,EAAsB,GAItB,OAAO,sBA0bC,GAAS,GAxtCG,MAAM,GAGjB,GAqtCc,uCAAqC,sBArFhD,OAAkB,EAClB,OAAY,EACZ,OAAW,mBAEP,YAAQ,GAAO,sBAAF,EAAE,YAAW,oBAAb,QAAsB,OAAwB,GAAN,aACrD,OAAW,UAAyB,GAAN,cAC9B,QAAkB,OAElB,MAAkB,YAAN,YAAmB,WAClB,MAAT,EACA,OAAW,UAAyB,GAAN,cAC9B,QAAkB,OAEI,QAAjB,EAAiB,EAAjB,KAAO,EAAU,EAAV,KACZ,4Bf5RhB,GAAU,SAA2B,SAClC,KAAS,EAAK,EAAd,Ge2RwB,QAAwB,GACnC,OAAoB,EAAQ,EAA5B,EACA,OAAkB,QAAkC,IAAV,EAAa,EAAO,GAA9D,GAGR,OAAY,8BA1BC,aACmB,6BfuDxC,EAAe,EAAc,MAAM,GAA0B,kDAAgD,EAAY,yBAAuB,EAAY,YAC5J,EAAO,EAAqB,EAC5B,EAAO,EAAqB,EACzB,Ee1DqC,CAAX,OAAoB,EAAS,GAAN,SACzB,oBACD,eACP,iCAXvB,YACA,YACA,YACA,wEGjoCoD,wBAE3C,wBA0CJ,OAHK,aACF,GAAc,EAAM,KACZ,gFAyCZ,2BAtFR,KAGI,2BAmGyB,OAAlB,OAAQ,iCChH+B,KAAM,OAAN,GAA9C,YZKqF,CAAM,EAAN,mCaYrF,WACA,4BAegE,OAAhB,OAAK,EAAM,8ICLe,cAAjB,YACzB,YACD,UAAI,UAAO,EAAG,GAAS,EAAU,GAAS,EACjD,UAAI,UAAS,EAAW,4FCoCpD,KAQoB,IAAR,EAAW,MAAa,GAA0B,6BAClD,IAAY,SAAW,MAAa,GAA0B,0EAM9C,YAKD,aAA0B,EAAO,EAAc,GAK/C,gDClCU,gBAAS,EAAG,2DAxBjD,KAAuD,aAAe,EAAO,EAAc,2FCEvF,EAAO,IAAS,GAAS,EAAK,EAAS,EAAM,GAAiB,EAAK,EAAO,GAA7B,YAC7C,EAAO,GACC,MAAa,GAA0B,mBAD/B,GAAS,EAAK,EAAS,EAAM,GAAiB,EAAO,EAAxB,GAA8B,GAA9B,EAEhD,4BA5BG,OAAO,GAAI,GAAI,EAAG,GAAK,GAAI,EAAG,GAAvB,EAA2B,oBAXlC,MAAU,EAAI,EAAd,EACA,OAAW,GAAO,EAAG,EAAS,EAAM,EAApC,uBCsDqB,qBAGA,oBAGE,WAGD,iFCcmC,yB/Bw+S5C,uBAAb,EAAa,IAAR,MAAQ,aACT,EAAY,EAAI,GAEpB,OAAO,EGv/SyD,G4BYf,I5BZ4B,GAAoB,EAAS,8B4BgL7C,OAAZ,iBAzLY,OtB+CxC,OsB/CgC,KtB+CxC,OAAW,KAAiB,GAAU,OAAkB,GAAsB,yBsB0H3F,OAHI,EAAQ,ctBsOoB,MAAM,GAAqB,gCsBrOvD,GAEG,iBA5MP,YAA8C,IZG7C,EYHiC,QZGqB,EACrC,UAGQ,GACpB,0BYAN,ECtB2C,GDuB3C,EAAe,EAAW,IACnB,EAAS,KZM6E,EYLvE,KAAK,EAAS,KACpC,OAAO,gBE/BgF,6BC8GpE,YAEO,YAKD,8BAsBX,YAAqC,gBAG9B,QAAmB,EAAO,UAAyB,KAChE,QAAa,iBAzI4D,cACnD,mFCMQ,YAGb,0BAqB6C,yCAezC,yCA+CE,4BA3FoD,cAwC/C,eA+CS,6BChGmC,iEJM7B,EAAR,GKGb,UAAK,iELHgB,EAAR,GKSO,UAAK,8DNA4B,EAAjB,GAMd,GMDC,UAAc,sDAkIlE,OADgB,QAAkB,EAAO,OzBfgC,iByBnIe,cAAlC,WACrB,+DCQpB,YAAiB,kDA8BwB,WAAvD,WACI,OAAmB,EACnB,OAAgB,EAAY,KAMT,CAAK,4BAAL,gFAUuC,QCoBnC,GAAmB,GAtD1C,MAAM,GAAiC,GDoCN,8BAA4B,SCqBrE,GACQ,GA1DA,MAAM,GAAiC,GDqCX,6BAA2B,2BAsBQ,yCErDR,WAA3D,WACI,gEAAM,CAAgB,EAAiB,gDAGA,GAAK,EAAiB,EAAtB,6DAQD,WAA1C,WACI,OAAW,oCCoDQ,WAAsB,OAAS,GAAY,OAA3C,QAAoD,OAAO,KAA9E,MAAmB,KACf,eASA,OAAa,GAD0B,EAC1B,EAAiB,GAR9B,MAAgC,SAC5B,OAAS,GAAO,EAAM,KAAK,GACpB,EAEA,qCzCyCR,uBAsmCX,EAAgB,IAAX,MAAW,YAtmCL,EAsmCK,EyCtoCW,OAAS,GAmE41/B,EAnE/0/B,KAAK,GzCsoC5B,CAAoB,EAAO,WACrD,EAAO,KyCvoCqD,OAAxD,mBA8DA,MAAmB,OAAW,GAC9B,YAA4B,IAAjB,EAA4B,KAAU,6BA1DjC,aAE2B,UAAb,OAAa,KAAK,QAC7B,aAEa,eACd,aACE,aACqB,8BA9GR,YAEH,oBACT,0CCgBP,YAE4B,eAGA,eAGlC,UAAO,uCApBL,YAA2C,aAAqC,EAAK,GACxD,eACA,8BAQ7B,YAAiB,+BAqGvB,EAAK,OAAS,EAEd,OAAO,MAEH,SAAS,IAET,OAAO,QAEP,GAAJ,aAAc,OACV,GAAJ,aAAc,QAElB,OAAO,KACP,OAAO,0BAeY,kCAAvB,WACI,OAAM,uCAgBoD,GAAM,EAAiB,EAAvB,GAA9D,WACI,OAAM,kDAGiC,GAAK,EAAiB,EAAtB,gFAKA,MAA3C,WACI,OAAM,KACN,EAAK,GAAO,mDArFsB,eAoDJ,gExC/IX,GAAM,KAAN,GAAvB,uIyCbA,+BA+BA,aAAc,GAFd,YACA,iCAcgC,aAAoB,QAClB,yFA1ByB,aAAc,SxBJzB,EAAnB,EAAmB,WAAyB,EAAX,MAAd,EAAc,KAAd,EAAc,WwBKiB,sFCoD3E,gBCrDkG,EAAvC,GAAiB,MA6DwvB,GA7DvuB,QDqDvE,GAAtB,yCAnE0F,ME0T9C,mBF1T8C,IE0TnC,kD3B9T1B,OyBClB,mBAA8D,mBAAQ,sBzBI7E,OyBDU,mBAAiE,SAAS,MAGzE,qBzBEmF,QyBCnF,mBAAmE,uBAAY,6CzBIzD,OyBDzB,mBAA+D,oBAAS,4CzBK/D,OyBFR,mBAAgE,qBAAU,4CzBMhE,OyBHZ,mBAA8D,mBAAQ,4CzBQ/D,OyBLL,mBAAgE,qBAAU,4CzBWvF,OyBRc,mBAAiE,sBAAW,4CzBWA,MyBR7E,mBAAkE,qBAAU,+BzBQiJ,OyBL5N,mBAAiE,sBAAW,4CzBKoS,MyBF7W,mBAAmE,yBAAc,mCzBE8b,MyBC5gB,mBAAsE,4BAAiB,+BzBD0lB,YyBIprB,mBAAyE,yBAAc,+BzBJ+vB,UyBOt1B,mBAAuE,yBAAc,+BzBPm6B,WyBUv/B,mBAAyE,0BAAe,+BzBVikC,WyBa3pC,mBAAuE,wBAAa,+BzBbquC,MyBgBxzC,mBAAmE,yBAAc,+BzBhBq4C,ayBmBr9C,mBAA2E,0BAAe,+BzBnBqiD,ayBsB9nD,mBAA4E,2BAAgB,+EGzDnH,OAAW,MAAY,QAAQ,eAQwD,aAAT,EAAS,aACvF,IAAK,GAAW,EAAS,eACzB,I5BCY,qBAEH,O4BDZ,SAXO,C5BGH,G4BDG,G5BEyC,qB4B6CzC,IAAW,OAAc,O5BfusC,U4BiBpuC,Q5BjB4xC,E4BiB1vC,cAEX,MAAZ,EAAY,UACQ,MAAvB,EAAS,SAAc,CACvB,MAAa,OAAiB,GAC9B,WAAsB,IACtB,SAEA,EAAS,WANY,SASzB,OAAiB,GATrB,8CChDoC,gEAOb,UAAK,0EAEC,eAAgB,IAAZ,EAAuB,EAAa,sB9BqCrE,ECjB40D,GAArtB,GAA4uB,cDkBn2D,OAAW,EAAU,OAAS,EAAG,EAAU,KAAU,kBA6LU,yB+B5O/D,OAAa,IC8BoC,EAAP,GApCT,KDKnB,GACO,IACJ,IAFH,MAEW,IACR,MAHH,KAIE,OACE,OALJ,GAMO,MANP,MAMe,MACR,OAPP,GAQO,OARP,GASO,OATP,GAUO,OAVP,GAWO,QAXP,G/B6O+B,mBiC3KzC,oCACgB,GADc,EACtB,SAAQ,QAA2B,GADb,EACK,SAAQ,qBAGnC,OAAO,WAAQ,2B/BqD1B,SA8BmD,GA9BnD,OAXkB,KAAL,GAAK,UAAnB,KAAK,MAAS,UAAK,EAAL,GAyCgD,EAAM,EAxCjD,KAAK,IAAf,CACD,EAAO,KAAY,EAAG,EAAQ,EAAvB,kBAFI,GAAnB,GAIA,EAAO,GAqCoE,OA9BjC,GAAnB,G+BrD8B,wB/BoCpD,SAqCqD,GArCrD,OAXkB,SAAL,GAAK,OAAnB,GAAc,KAAT,MAAS,SAAK,EAAL,GAgDoD,EAAM,EA/CrD,KAAK,IAAf,CACD,EAAO,KAAY,EAAO,sBAFlC,GAAc,GAId,EAAO,GA4CwE,OArCnC,GAArB,G+BpCe,CAJJ,EAIJ,KAAkB,UAAa,UAAK,IAAY,GAJ5C,EAIoC,KAAiB,OvC8BgD,MuClCrG,EAEtB,KAGC,OAnBgD,IvC6BtD,SuCfH,EAK0C,8BAsPd,qBAAU,wBAAwB,KAC9B,qBAAU,UAAW,KAGf,qBAAU,MAAQ,6DAnRhE,KAUwC,YAEkB,aAAR,GACV,qBAAO,EAAiB,GAAR,EAAiB,OAC1B,eAIO,8BAnDlB,6BARgF,OAA/C,KAAa,GAAa,EAA1B,yBAAwC,OAAH,EAAG,OAAxC,yBAmUjE,YAAiB,EACjB,MAAY,OAAK,UACJ,MAAT,EAAsB,KAGnB,OAFK,KAAM,MAAO,YAAY,EAAzB,GAEL,gDAK6E,yCA+B5C,mFAnCL,YAIa,yBA0BF,8B7BhDN,qC8BhP6B,OAArE,KAAkB,EAAY,EAAO,EAAa,EAAQ,kBC5ErD,0BAWgE,OAAnB,EAAc,EAAK,iBAwCtC,OAAL,iBAyBtB,OlC9CqyF,OAAa,aAAa,wBkCsD5xF,YAMA,gBAKS,gBAKA,gBAKD,gBAKA,gBAKJ,gBAKA,gBAMJ,YAMD,mEAtI1C,KAEqB,sPCRY,YAAkB,2BTOd,MAAM,MAAN,EAAM,QAAN,GAA0B,OAA1B,QAAqB,OAArB,mBUFvB,QAAG,IAAM,OAAO,EAAb,KAAb,GAAU,KAAL,MAAK,UACN,EAAM,GAAK,QADf,IAAU,GAGV,OAAO,uBzDhBF,IAAI,YAAY,GyDuCwG,OCe7H,SAZ6B,YAatB,6BDTK,0BElCR,4BAEA,4BAEA,4BAEA,yCtC4BoT,GAAY,EAAK,KsCSxR,EAClC,GAAJ,IAGX,KAAW,GAAK,EACT,aAtCH,IAsCyB,IAAK,KAAS,MAA3C,sCAhDc,gBAAY,GtCIwD,EAAnC,iBAAa,QsCFrB,EtCKf,iBAAa,MAH6C,EAGQ,eAAW,QsCHlE,EAGnC,KAAW,IAAK,E7CuBhB,E6CtBmB,IAAf,KAAS,GAAS,EAAO,IAFV,IAIC,EAAI,kCCXb,GAAS,GAAT,ORD2D,E/BC1E,EAES,WAAW,W+BOZ,EAAY,KAAZ,UAA8B,EAAY,SAC1C,MAAM,GAA0B,sBAAoB,iBSOW,qBAZwC,O7DhBtG,GAAK,IAAM,G8D4XmC,CAxVlD,GAGH,IAkPoD,MAhQ9C,QVFQ,CAAL,UQTH,KAAE,GAHN,wBA4BgD,uBAAX,iBAlBrC,OAAW,GAAS,GvCLwD,EAG9E,OuCKM,EAAE,wBAON,OAAW,GAAS,GvCPU,EAAc,UAAU,EAAY,GuCU9D,EAAE,GAAY,EAAY,kBG1B+D,SAA/B,OAAM,MAAK,MAAzB,uBAA+B,UAAS,I7DqhvBrF,S6DrhvB6C,O7DqhvB7C,EAA6D,MAA7D,aAAyF,IAAzF,aAAqH,IAArH,cAAsI,GAAtI,cAAqK,OAArK,cAA+M,MAA/M,E6DrhvBuC,E7DqhvBvC,yD8Dx/uBC,EAAI,KAAK,UACT,EAAI,IAAK,UAET,IAAM,YACQ,IAAN,IACA,WAEA,E3CZX,E2CYoC,IACrB,I3CZJ,E2CY2B,EACvB,EACO,EAAK,GACZ,EAEA,aAKZ,GAAM,EACE,GAAM,EAAG,EAAO,GAEhB,EACX,0BA1BA,OAHG,EAAI,GAAK,EACT,EAAI,EAAK,EACD,sBCuBmC,yBAGL,GAArC,CACD,MAAW,GALU,WAKE,KAAW,SAAqB,GACvD,EAAiB,IjE7DrB,OiE8DI,QAAmB,EACnB,cAAwB,EACxB,OAAa,eAAe,EARe,uBAQsB,GAErE,O5CnBiqB,+C4CvCrpB,MAAR,EACe,MAAR,EAEC,MAAR,IAImB,iBAAV,GAA+C,mBAAjB,EAAK,OACpC,EAAK,OAAQ,GAGrB,GAAS,EACF,GAAS,EAGG,iBAAV,GAAwC,iBAAV,EAChC,IAAS,IAAkB,IAAT,G5CJuB,E4CIO,G5CJkB,E4CIO,GAE7E,IAAS,qBAiBL,MAAP,EACA,OAAO,EAEE,oBAAS,OACjB,WAAgB,mBAAuB,EAAI,SAAY,EAAI,WAAiB,GAAkB,aAC9F,aAAa,GAAkB,aAC/B,WAAW,GAAkB,aAC7B,Y5CzBgE,E4CyBtB,EAAO,kBAC1C,GAAkB,OAAa,IAL3C,wBAZH,OAJQ,MAAL,EAAc,mBjBoPwD,QAApC,GAAU,IAAM,EAAkB,GiBnPpE,CAAW,GAAO,Q5CN8B,EAAE,0B4C6ClD,MAAW,EAED,IAAG,EADK,EAAI,OACF,EAAP,KAAb,GAAU,KAAL,MAAK,UACN,M5C1Bo5B,E4C0Bp3B,WAAW,GAC3C,EAAO,IAAO,IAAK,EAAnB,QAFJ,IAAU,GAIV,OAAO,mBAM8B,MAAjC,MAAY,kBACZ,MAAY,kBAAkB,EAAU,G5CpCiuC,E4CsCzwC,OAA+C,IjErFnD,OiEqFmD,yBAenD,MAAY,KAAK,uBAKZ,GAAwB,EAAQ,WAAhC,UAE8B,MAAX,EAAW,UAEX,OAAZ,GAEA,MAAO,MAAP,EAAO,KAAP,EAAO,aAAP,aAAqB,EAArB,cAGA,aAED,EATP,YAWC,GAAwB,EAAQ,WACjC,QAAc,GAElB,OAAa,OAAS,eAAe,GAAO,YAAY,KApBxD,CAAiC,EAAO,EAAS,oBA9DjD,O5CRsC,OAAS,eAElD,GAAG,eAAe,wB6CA6D,OAAxB,MAAL,aAP/C,MAAM,KAOoD,KAAiB,EAAC,gBAX5E,MAAM,0BCDiC,gCAKA,gCAMA,YAMD,qEA1B1C,KAGI,cAFA,WACA,0BCgXI,4BAEA,4BAEA,4BAIA,4BAEA,uCAvSA,KAAW,GACX,OAAO,EAGX,MAAc,MACd,EAAqB,GAAN,GAEf,OACI,IAAY,GAAY,GACvB,GAAW,EAAY,EAER,GAAhB,KAAS,KAAuB,EACxB,wBAOZ,MAAU,SAAU,GAApB,EACA,EAAmB,MAAT,OACV,EAAU,QAAS,GAAnB,EACA,EAAkB,MAAR,MAEV,EAAU,EAAM,OAAU,GAA1B,EACA,EAAyB,MAAf,EAAM,KAChB,EAAU,EAAM,MAAS,GAAzB,EAGA,EAAU,EACV,EAAU,EACV,EAAU,EACV,EAAU,EAYV,OAFA,GAFA,MADA,GAFA,MADA,GAFA,MADA,KAAO,GANiB,MAAd,EAAM,KAMhB,QACgB,GAAhB,OAEO,EAAM,EAAb,QACgB,GAAhB,OAEO,EAAM,EAAb,QACgB,GAAhB,OAEO,EAAM,EAAb,KAEO,QANP,GAAc,QAMO,IATrB,GAAc,QAQd,GAAc,QAC4B,IAH1C,GAAc,yBAM+C,YAAvB,KAAI,EAAM,+BAG5C,MACA,OAAO,QACM,GAAN,GACP,OAAO,QAGP,KAAW,MACX,OAAiB,GAAN,GAAe,KAAe,QAC5B,GAAN,EAAiB,MACxB,OAAW,MAAS,KAAe,QAGnC,MACA,OAAiB,GAAN,GACE,GAAT,MAAwB,GAAN,IAEO,GAAhB,GAAT,MAAkB,OAET,GAAN,GACP,OAAgC,GAAzB,KAAe,GAAN,QAIhB,KAAS,OAAsB,GAAN,EAAe,MACxC,OAAO,GAAW,MAAmB,GAAN,IAMnC,MAAU,SAAU,GAApB,EACA,EAAmB,MAAT,OACV,EAAU,QAAS,GAAnB,EACA,EAAkB,MAAR,MAEV,EAAU,EAAM,OAAU,GAA1B,EACA,EAAyB,MAAf,EAAM,KAChB,EAAU,EAAM,MAAS,GAAzB,EACA,EAAwB,MAAd,EAAM,IAEhB,EAAU,EACV,EAAU,EACV,EAAU,EACV,EAAU,EAqBV,OAnBA,MADA,IAAO,IAAM,GAAb,KACgB,GAAhB,KACA,GAAc,MAKd,GAHA,MADA,IAAO,IAAM,GAAb,KACgB,GAAhB,QAEA,GADA,GAAc,OACP,IAAM,GAAb,KACgB,GAAhB,KACA,GAAc,MAQd,GAHA,GAHA,MADA,IAAO,IAAM,GAAb,KACgB,GAAhB,QAEA,GADA,GAAc,OACP,IAAM,GAAb,KACgB,GAAhB,QAEA,GADA,GAAc,OACP,IAAM,GAAb,KACgB,GAAhB,KACA,GAAc,MACd,OAAO,IAAM,GAAM,IAAM,GAAlB,GAAwB,IAAM,GAA9B,GAAoC,IAAM,GAAjD,KAEO,OAAK,GAAQ,GAAM,GAD1B,GAAc,QACyB,GAAM,4BAInC,GAAN,GACA,MAAM,GAAW,uBACV,MACP,OAAO,QAGP,KAAW,MAAX,IACU,GAAN,EAAiB,OAAc,GAAN,EAAiB,MAC1C,OAAO,QACM,GAAN,EAAiB,MACxB,OAAO,KAGP,IACA,qBAiER,MAC0B,GAAZ,SACC,IAAX,EACO,EAEH,EAAU,GACH,OAAK,OAAQ,EAAU,QAAS,EAAa,SAAU,GAAK,EAAf,GAAvB,GAEtB,OAAK,EAAG,QAAS,EAAU,GAAnB,IAzEkB,oBA+EzC,MAC0B,GAAZ,SACC,IAAX,EACO,EAEH,EAAU,GACH,OAAM,QAAS,EAAV,EAAuB,SAAU,GAAK,EAAf,GAA0B,QAAS,GAE/D,OAAK,SAAU,EAAU,GAApB,GAA6B,QAAQ,EAAG,GAAO,GAxF5C,GAAW,GACJ,GAAI,GAAiB,UAChC,GAAP,EAAkB,MACD,GAAN,GAAoB,KAAS,KAG1B,GAAP,EADG,KAAe,GAAN,EAAe,IACZ,GAAI,OAGrB,GAAN,EAAiB,MACxB,OAAO,QAGP,MACA,OAAiB,GAAN,GACP,MAAS,GAAU,GAAN,IAEO,GAApB,MAAS,GAAI,OAEJ,GAAN,GACP,OAA2B,GAApB,KAAU,GAAN,SAQf,MAAU,KACV,EAAU,EACC,GAAJ,EAAuB,IAAnB,KAGP,MAAuB,GAAJ,GAAuB,GAAN,GACpC,EAAc,KAAO,IAAI,EAAK,KAAO,MAAM,IAI3C,EAAW,KAAO,KAAK,KAAO,IAAI,GAAW,KAAO,KACpD,EAAgB,GAAQ,GAAI,EAAS,KAAO,IAAI,EAAK,EAAO,IAI5D,EAAgB,GAAW,GAC3B,EAA0B,GAAV,EAAmB,GAClB,GAAV,IAAoC,GAAV,EAAsB,IAGnD,EAAsB,GADtB,EAAY,GADZ,GAAW,GAEoB,GAKrB,GAAV,KACA,EAAY,MAGhB,EAAU,GAAJ,EAAQ,GACd,EAAU,GAAJ,EAAa,GAEvB,OAAO,iBA7QiE,YAmWxC,WAnWL,mBAEiE,YAAnD,OAAO,EAAG,MAiWnB,WAjWyD,MAFrC,qBAmE0B,YAAtC,SAAQ,EAAM,MAAQ,QAAO,EAAM,6BA5DvE,EAAQ,GAAK,GAAK,EAClB,MAAM,GAAW,uBAAqB,MAGtC,MACA,MAAQ,OAGR,UACI,KAAW,MAAX,CAGA,MAAgB,GAAQ,GACxB,EAAU,KAAI,GACd,EAAkC,GAApB,GAAJ,EAAa,GAAoB,GAAM,KAEjD,OAAW,GAAJ,EAAiB,G/CKgL,EAAgB,SAAS,G+CHjO,MAAQ,IAAY,GAAT,MAAsB,OAMzC,MACa,IAAT,EAAc,GACd,GAAS,GAAM,EACf,GAAS,GAAM,EACf,GAAS,GAAM,EACP,EAEZ,EAAmB,GAAW,KAAO,IAAI,EAAkB,IAE3D,EAAU,EACV,EAAa,KACN,CACH,MAAa,EAAI,GAAI,GAErB,EADiB,GAAJ,EAAoB,GAAP,EAAgB,IAAe,K/ChBw2B,SAAS,M+CoBl6B,GADR,EAAM,GAEF,OAAO,EAAS,OAET,EAAO,OAAS,GACnB,EAAU,IAAK,EAEnB,EAAS,EAAS,kBA8Q0C,YAArC,OAAK,EAAW,EAAQ,GAAG,EAAQ,kBArQ7B,YAAR,OAAO,iBAFU,YAAb,IAAR,QAAoB,IAAP,qBAIA,YAAD,IAAL,EAAR,sBANa,YAAZ,wBAU+B,YAAlB,KAAQ,GAAS,4BAwQnD,ICrV4C,EDsV5C,OAAO,cACA,IAAS,mBAChB,OAAO,QACA,EAAQ,GAwBa,mBAvB5B,YA+BA,KA9BO,EAAQ,EACf,OAA0B,GAAnB,IAAY,IAEnB,MAa4B,WAZ5B,OAAO,OACH,GAAY,EAAU,EAAW,GACjC,GAAY,EAAQ,EAAU,qBAhRqB,YAAlB,KAAQ,GAAS,mBAES,YAAnB,KAAQ,IAAU,2BAgSnD,GAAQ,KAET,GAAQ,KAEJ,IAAQ,KAEN,QAAK,EAAI,cAET,OAAK,GAAG,cAEN,GAAQ,0BP7XsD,OAAxC,gBAAW,EAAE,iBAgB5D,OAHG,EAAI,WAAc,WAClB,GAAI,YAAe,WACX,GAAY,EAAG,GAf+C,CAAY,oBSFrD,OAA7B,OAAS,EAAO,sBCoChB,WAAY,EACZ,OAAO,GAAU,EAAO,EAAO,EAAO,EAAO,EAAO,gCxBZqC,EAoBjD,CAAiB,MAG3D,MAA6C,MAE3C,MAA6C,MAAkB,SwBVA,4BvBb/D,OAAO,GAAgB,QAAQ,EAAM,EAAY,EAAqB,EAAmB,EAAc,8BAcvG,MAAO,MhDjDK,EgDiDL,WhDjDuB,EgDiDvB,YhDjDmD,cAAT,GAAuB,OAAK,EgDiDtE,WhDjD6F,GAAc,GgDiD3G,oBhDjDoI,EgDiDpI,kBhDjD4K,EgDiD5K,ahDjD6M,EgDiD7M,chDjD0O,EgDiD1O,chDjDmQ,EgDiDnQ,gBhDjD+R,iBAA+B,IAAlB,SAA+C,IAAf,GAAkD,IAAtB,EAAU,QAAnF,uBAA2H,oBgD0Qja,O3B5Ny2M,MAAY,QAAQ,oB2BiJl3M,QAAI,mBAAJ,SACJ,GADI,EACkB,uBAxBzB,IAAS,EACT,OAAO,EAGX,MAAe,EAAK,WAEJ,MAAZ,GAAgD,MAA5B,EAAS,kBAC7B,kBAXE,ahDrKI,EgDqKJ,uBhDrKmC,KgDmLnB,MAAtB,EAAgC,MAAV,EAAU,KAAV,EAAU,mBAEF,MAAnB,GACF,EAAgB,YAAY,GAAuB,GAChC,MAAN,EAAM,WAAN,EAAoB,MAAd,EAAc,KAAd,EAAc,eAApB,QAAmC,OAAO,EAA5D,MAAkB,MAChB,EAAgB,uBAAuB,QAEvB,SAAiB,GAAjB,EAAwB,MAAxB,EAAwB,KAAxB,EAAwB,eAAxB,QAAuC,OAAO,IAChE,GADkB,EACW,GANjC,wBA7CA,MAAe,EAAK,WAEJ,MAAZ,GAAgD,MAA5B,EAAS,kBAC7B,kBA0BE,ahDrKI,EgDqKJ,uBhDrKmC,KgD8InB,IAAtB,EAAgC,MAAV,EAAU,KAAV,EAAU,mBAET,MAAnB,OACkC,IAA9B,EAAgB,WAChB,OAAO,MAGQ,MAAT,EAAS,0BAAnB,EAAU,IAAL,MAAK,SAAS,EAAT,EACU,GAAhB,EAAsC,GACtB,GAAhB,EAAgC,GAAuB,KAInC,WAAiB,GAAO,QAAxB,EAAwB,KAAxB,EAAwB,YAApD,EAAiE,MAAb,EAAa,KlC5C1D,GAmCT,GkCWS,IAAP,OAAwB,MAAjB,IAAiB,MACpB,GADG,EACa,GADb,EAEH,YAAa,IlCVd,GkCQI,QAGF,EAHE,iBA9BK,QAAL,EAAK,WAAc,MAAd,IAAc,MACD,MADb,EACJ,gBADI,EAEJ,cAAqB,GAAL,MAFZ,EAIR,eAJG,QAAP,OAAO,QAKG,GAAL,GALE,mBAJP,2CAnBA,E3BzD4tD,a2B0D1sD,IAAS,YAA3B,EAAkB,SAAwB,EAAxB,KACP,MAAe,IAGT,gBAAb,MAAa,EACb,cAAuB,IACvB,SAJA,EADJ,SAiB4B,CAAL,KAAiC,mBAL7B,MAAO,MAAP,EAAO,KAAP,EAAO,0BAAP,QAAiC,YAA5D,MAA2B,EAC3B,OAAa,OAAO,yBAAwB,kBAJd,kBAA0E,OAA/D,MAAX,EAAW,K3BpEu+D,OAAa,eAA9B,kB2BgO//D,QAAO,GAAU,K3BhOm9M,E2BgOz7M,sBAd3C,cAFyB,OAGpB,aACA,aACA,cACA,kBAAa,iBACN,GAAa,EAAK,wBA+E2C,MAArD,iBAAX,GAAsB,GAAY,MAA2B,kBwB5TtC,GAAvB,EAAuB,iCxBgQ4D,QAA7C,GAAU,IAAsB,iBAAhB,EAAE,sBACW,OAAhC,GAAa,EAAG,0BACkB,OAAjC,GAAa,EAAG,2BAC+C,QAAhE,GAAa,EAAG,cAAsC,cAAhB,EAAE,sBACR,OAAjC,GAAa,EAAG,2BACqB,OAAnC,GAAa,EAAG,6BAEyB,QAA1C,GAAU,IAAsB,cAAhB,EAAE,sBADmB,OAAnC,GAAa,EAAG,qCAjR9D,OAAO,GAAgB,YAAY,EAAM,EAAY,EAAqB,EAAmB,OAAc,4BAW3G,OAAO,GAAgB,SAAS,EAAM,EAAY,EAAqB,EAAmB,EAAc,kByBmDpG,MAAkB,OACC,MAAf,GAAuB,IAAgB,GACP,GAAhC,iBAAmC,GAA+B,GAEtE,0CArE8B,YACZ,YACS,YACC,eACG,eACM,mBAEC,YAAoB,gBAApB,EAAoB,KAApB,EAAoB,KAId,mDCqJ/C,6BAAD,EAA0B,MAAzB,EAAyB,KAAzB,EAAyB,KAAqB,OAA/C,QAA2C,EAA3C,qBAPC,OAcM,qEAAS,gBAlBmB,EAkBnB,IAAc,EAAd,mDAAc,EAAd,IAAc,EAAd,8BhDlK8B,KAAM,OAAN,GAA9C,oLAc8C,GAAM,EAAN,GAA9C,gHAyD8B,kCAA9B,0EAC8C,GAAM,EAAN,GAA9C,2HAzE8B,oBAA9B,WAO8B,IAA9B,qCAC8C,GAAM,EAAN,GAA9C,uDANiE,KAAM,EAAS,GAAhF,WAOiE,CAAM,EAAS,EAAf,GAAjE,+DAa8C,GAAM,EAAN,GAA9C,gHACiE,GAAM,EAAS,EAAf,GAAjE,iFAM8C,GAAM,EAAN,GAA9C,gHAW8B,kCAA9B,0EAC8C,GAAM,EAAN,GAA9C,mIAsC8C,GAAM,EAAN,GAA9C,gHAzB8B,kCAA9B,iFA6B8B,kCAA9B,iFAxB8B,kCAA9B,oGAgC8C,GAAM,EAAN,GAA9C,0GiDnF2C,O3EtBtC,EAAW,0BAAJ,EAAS,oB2E4BuC,O3E5BvD,aAAoB,miGG6BC,OA86GR,SAAK,6DKr7GE,OAw0FP,UAAK,4ELt0FX,UAqrDc,SAAW,GAAO,WAC5B,MAtrDJ,KAsrDI,cyE7rDmD,GzE6rDnD,MyE7rDyD,GzE6rD/C,CAAoB,GAAO,UACrD,GAAO,EyE9rD2E,OAArB,6CzEc/D,OAypD4B,MAAW,GAAO,WAC5B,MA1pDlB,EA0pDkB,YAAX,MAAW,UyErqDG,OAoBmwtD,GzEipD3vtD,CAAoB,GAAO,WACtD,GAAO,EyEtqD0B,OAApB,6BAE8B,OAAD,IAAR,2CAIjC,OAFiC,QAAc,KAAM,IAAK,IAAzB,UAA6B,iBAC3D,OAAI,IAAO,EAAO,oBAA2B,GAAH,KADZ,2CAQ+B,OAArB,GAAgB,+EnEuC9C,uCAEoC,OAAZ,UAAQ,6CAGjC,SAAW,MAAM,KACX,gBAAX,OAAW,gBAAJ,YAAI,uJA4BP,EAAQ,GAAK,GAAS,EACtB,MAAM,GAA2B,UAAQ,EAAK,WAAS,qCAKvD,EAAQ,GAAK,EAAQ,EACrB,MAAM,GAA2B,UAAQ,EAAK,WAAS,uCAKvD,EAAY,GAAK,EAAU,EAC3B,MAAM,GAA2B,cAAY,EAAS,cAAY,EAAO,WAAS,MAElF,EAAY,EACZ,MAAM,GAA0B,cAAY,EAAS,eAAa,uCAKlE,EAAa,GAAK,EAAW,EAC7B,MAAM,GAA2B,eAAa,EAAU,eAAa,EAAQ,WAAS,MAEtF,EAAa,EACb,MAAM,GAA0B,eAAa,EAAU,gBAAc,oCAKzE,MAAe,EACL,gBAAL,MAAK,QACK,KAAK,GAAY,EAAG,MAAH,EAAG,QAAH,GAA5B,EAAW,GAAiB,QAAiB,EAAjB,GAA5B,EAEJ,OAAO,oCAIH,EAAE,MAAQ,EAAM,IAAM,OAAO,MAEjC,MAAoB,EAAM,IACb,mBAEL,GAFK,MACO,EAAc,KAE1B,OAAO,EAGf,OAAO,2DAjIsC,OAAd,sDNqUvC,MAAY,EACC,EA5TL,KA4TK,eMpU0D,GNoU1D,MMpUgE,GNqUrE,CACA,EAAO,UACX,QAEJ,GAAO,EMzU+E,OAA9B,8BAMwB,OAAvB,YAAiB,2CA2BlE,IAAU,QACV,qBAEG,QAAc,KAAM,qCAMqB,OAArB,QAAgB,+GC4EsB,EAAN,EAAM,OAAK,MAAL,EAAK,QAAL,aAAmB,EAAnB,EAA2B,EAAjC,EAAiC,OAAO,MAAP,EAAO,QAAP,GAAyB,OAArD,GAA4B,QAAqB,EAArB,gCACV,OAAf,GAAL,EAAO,MAAG,IAAL,GAAL,EAAY,6CAElE,uBACG,KAAE,KAAO,EAAM,OAAO,KAAE,KAAS,EAAM,iEA5HlD,QAA6B,MAAtB,QAAc,0CPS1B,qBA6qDK,OAAsB,MAAW,GAAO,WAC5B,sBOprD8D,GPorD9D,MOprDiE,KAAS,GPorDhE,CAAoB,GAAO,UACrD,GAAO,GOrrD0F,OAAzB,kCAIhE,mBAA2B,OAAO,EACtC,MAAU,EAAM,KAChB,EAAY,EAAM,KAClB,GGgN4C,GA9MlD,KA8MkD,IAAnB,KAAmB,SA9M9C,YHAM,KAAS,IAKG,MAAZ,KG0NwC,GA5NS,KA4NT,IAAnB,KAAmB,SA5NqB,wCHgB7D,IAAU,KAAM,OAAO,KACvB,mBAAqB,OAAO,KAC5B,WAAQ,EAAM,IAAM,OAAO,WPiB/B,MAAN,EAAM,UA+mDA,OAAsB,MAAW,GAAO,WAC5B,oBAAX,MAAW,UO/nDe,QA6FkhmD,GPkiDthmD,CAAoB,GAAO,WACtD,GAAO,GOhoDH,OAAqB,+BAGe,cAAc,GAAW,OAAL,MAApB,EAAoB,KAApB,EAAoB,uCAQX,OAAV,GAAR,qCAEY,OAAD,IAAR,oCACS,OAAZ,SAAQ,sCAgCgD,OAA7C,GAAR,SAAsB,KAAM,IAAK,IAAzB,UAA6B,iBAAE,YAAS,KAAxC,uCAE8D,OAAjD,QAAS,EAAM,MAAQ,IAAK,QAAS,EAAM,4EmEzE1F,MAAe,EACC,gBAAX,MAAW,QACZ,EAAa,EAAS,MAAT,EAAS,QAAT,GAAb,KAAa,QAAuB,EAAvB,GAAb,EAEJ,OAAO,wCAIH,EAAE,MAAQ,EAAM,KlEHtB,EAgP+G,GAhPjG,kEAb2D,QAAnC,qBAAoB,EAAM,sCACtC,OAAD,oCACM,MAAF,gCAEH,OAAD,6BACO,OAAJ,+BACsB,OAAL,oEACkC,OAAlB,EAAS,+EAEpC,MAAM,GAA2B,+CAA6C,EAAK,kCAC3E,OAAF,kEAGY,2CAGzC,IAAT,EAAY,MAAM,GAA2B,UAAQ,GACzD,gFA5BmC,OAAL,6BAIH,MAAM,uEAsCK,OAAX,UAAO,kCACY,OT4qPnC,IA9oPqC,UA8oP7C,oCS3qP8D,qBT2crE,OAAO,IAAQ,IAAY,ES3cyB,CAAP,UAAgB,mIRiCvC,OA6lDI,MAAW,GAAO,WAC5B,MA9lDM,EA8lDN,YAAX,MAAW,UQ9nD4D,QAwZu8rC,GRsuCx/rC,CAAoB,GAAO,WACtD,GAAO,EQ/nDmF,OAApB,4EACd,O8CfV,O9CeP,iFC7CU,OAAV,2ECA0C,QAArC,qBAAsB,EAAM,sCACxC,OAAD,oCACM,MAAF,gCAEH,OAAD,6BACO,OAAJ,+BAEkB,OAAL,qHAEH,OAAJ,uHAC4B,yGPuL5D,OAAO,eAAY,UAAS,gCAI5B,OAAO,UAAS,6DAEvB,OATsC,yFAqY3B,UAAY,GACZ,SAEa,IAAb,UACA,MAAM,WACG,UAAb,QAAa,EAAb,KAGA,OADA,WAAY,EACL,6BAMP,OAFI,UAAY,GACZ,SACgB,IAAb,mEAEd,OA1BsC,uFArZd,IAAb,WACA,SACa,IAAb,UACA,MAAM,KACV,MAAa,UAIb,OAHA,UAAW,KACX,WAAY,EAEZ,MAAO,GAAP,GAAO,KAAP,gCAMA,OAFiB,IAAb,WACA,SACgB,IAAb,mEAEd,OAlCsC,mFA7IU,OAAV,2EDLuC,QAAlC,qBAAmB,EAAM,sCACrC,OAAD,oCACM,MAAF,gCAEH,OAAD,6BACO,OAAJ,+BACsB,OAAL,oEACkC,OAAlB,EAAS,8EAElB,2RUyEG,OAAJ,oCAC0B,OAAP,+BACG,OAAP,+BACN,OAAJ,uCACvB,OAAD,oCACyB,MAArB,2GActC,MAAU,OACH,CACH,QAAI,KAAJ,GAAY,MAAM,MAAlB,EDsCoR,OAAxB,ECrC5P,MAAW,EAAI,UACX,iBAGA,OAAO,KAAK,GAFZ,EAAM,kCAQmC,OAAjD,EAAU,UAAK,GAAK,EAAS,GAAY,2CAG3B,MAAd,aAAQ,GDwBgsB,OAAO,UCvB/sB,MAAc,UAAK,GAAS,GAC5B,OACI,IAAY,UAAQ,KACpB,SAAqC,UAC7B,OAAgB,EAAS,4CA8B0D,OAA/F,OAAS,MAAS,iBAAkC,GAAN,KAAgB,6BAb9D,MAAU,IACH,KACE,KAAS,EAAI,MAAU,OAAO,EACnC,MAAW,EAAI,UACX,iBAGA,OAAO,QAAS,EAAT,IAAS,EAAT,MAFP,EAAM,GAQgE,CAAN,EAAkB,wCAE3B,OAA/B,GAAL,WAA0B,GAAR,WAAkB,oCAKxD,MAFN,IAAK,QAAK,kBACP,OOyHkD,IAAV,GAlGG,GPvBhB,GAAR,GAA0B,EAAG,KAAG,KAClD,6EA1HqD,OAAjB,UAAS,gCAC0B,OAAlC,IAAQ,MAAQ,YAAe,mFAxCX,4QEQ+B,OAAJ,mEASzF,OAAO,kHAIP,MAAe,KAAK,SACf,QAAa,EAAU,EAAU,GAClC,YAEJ,UAAa,EACb,QAAY,EAAU,EAAU,8GKipCX,IAAb,WACA,SACa,IAAb,UACA,MAAM,WACG,UAAb,kBAAa,EAAb,KAIA,OAFA,UAAW,KACX,WAAY,EACL,6BAMP,OAFiB,IAAb,WACA,SACgB,IAAb,mEAEd,OAhD6C,4NG7jCzB,OAAN,+BASyB,OAAzB,GAAc,kEAOmE,OAAhD,iBAAoB,aAAa,EAAM,wCAChC,OAAV,GAAV,6CACwB,MAApB,WAAS,UAAS,qGApCjD,GAAoB,GAAN,GACL,cAAS,GAAK,mDA3EnC,+SE0BW,4CACA,kDAMqD,MAAlB,IAAE,SAAK,KAAG,SAAM,gCAjC9D,soBmDmCyC,OAAT,0ElDOa,OAAP,sCAG9B,MAAY,aACR,IAAS,eACJ,UAAS,MAAa,KAC3B,WAAU,OAGV,oBAAQ,UAAR,EAEJ,OAAO,uHC8E2H,OAA1C,OAAe,EAAY,EAAU,6DAxC1H,6CAKA,4CAOyE,OAAzC,OAAuB,UAAO,UAAM,sCAQM,OAAxC,UAAO,EAAG,UAAQ,UAAU,UAAQ,2CAIR,OADjE,qBAA4B,WAAa,EAAM,MAC/C,YAAS,EAAM,MAAS,YAAQ,EAAM,MAAQ,YAAQ,EAAM,wCAGJ,OAApD,UAAW,EAAS,KAAM,KAAK,WAAQ,UAAnB,GAA2B,UAAK,oCAEuD,OAA7E,UAAO,EAAK,UAAK,KAAG,UAAI,SAAO,UAAa,UAAK,WAAS,UAAI,UAAe,GAAN,6IC5ExE,OAAL,sCACW,OAAJ,qCASO,OAAZ,UAAQ,2CAIK,OAD3C,qBAAsB,WAAa,EAAM,MACzC,YAAS,EAAM,MAAS,YAAQ,EAAM,wCAGI,OAAtC,UAAW,EAAS,KAAK,WAAQ,UAAK,oCAEG,OAAb,UAAK,KAAG,gHiDzCN,MAAX,mE/C0C3B,4CAGA,4CAGM,4CAGA,4cGxDF,cACA,MAAe,SACR,EAAS,QACR,KAAS,IAAU,GAEnB,OADA,EAAS,MACF,EAGf,OAAO,8BAIP,cACA,OAAe,EACC,gBAAX,MAAW,MACR,OAAI,KAAU,GAAW,GAEjC,OAAO,kCAwBiC,OAAd,KAAK,yJCkErB,uCAOoC,OAAZ,UAAQ,6CAGjC,SAAW,MAAM,SACf,YACP,OADO,gBAAP,UAAO,EACA,YAAI,2CKOyX,IAAR,UA9ChY,MAAM,GAA8B,GL2CX,yEAErB,aAAS,WACT,UAAQ,UACR,WAAO,iJA7HL,qFAcN,OAFA,UACA,QAAI,SAAM,IACH,6BAgCwD,OAAd,yCAEoB,OAArB,OAAQ,IAAY,8BAGtD,QAAG,cAAjB,GAAc,KAAT,MAAS,aACN,UAAI,GAAU,GACd,OAAO,QAFf,IAAc,GAKd,OAAO,8BAamF,OAAvB,YAAiB,2CAsBhF,IAAU,QACV,qBAEgB,QAAc,KAAM,qCAMqB,OAArB,QAAgB,gHC5CqB,OAAvB,UAAc,+BACC,OAAxB,UAAc,IAAO,iCACA,OAAtB,UAAc,8DA2CmB,OAAvB,UAAc,+BACG,OAA1B,UAAc,IAAO,iCACA,OAAtB,UAAc,+DAjGf,6CAKP,OAAN,uCAO1B,MAAe,KAAK,KAEpB,OADA,UAAc,EACP,oCAGuC,OAAnB,QAAc,wCACQ,OAAnB,QAAc,uCACoB,OAAxB,QAAY,KAAM,oEAMW,OAAtB,QAAc,gCAEI,OAApB,QAAY,8GAaT,MAAM,GAA+B,+HAKH,OAApB,aAAY,mHAI9D,OAAO,OADa,cAAQ,yCAS5B,YACI,aAAY,KACZ,UAAwB,GAAO,IACxB,oHAK4C,OAA5B,UAAwB,gCAEuB,OAAxC,UAAwB,oGAoBtB,MAAM,GAA+B,iIAGD,OAAtB,aAAc,mHAIhE,OAAO,OADa,cAAQ,gCAQ2B,OAA5B,UAAwB,gCAEuB,OAAxC,UAAwB,mGAjCtE,OAhCa,MAAT,YACA,UAAQ,cA+BA,GAAL,wCAMX,cACqB,MxBeZ,EA+PuE,IAAQ,IwB9QnE,oBAAf,ExBeG,EAkLmD,KwBjMjD,ExBeF,EA+LmD,KwB7MxD,OAAI,EAAK,gCA4BT,OArBe,MAAX,YACA,UAAU,cAoBA,GAAP,wCAIX,cACA,MAAW,SAAQ,IACZ,EAAK,MACR,MAAY,EAAK,OAEb,KADI,EAAM,MACV,CACA,MAAY,EAAM,KAElB,OADA,EAAK,KACE,GAGf,OAAO,wJC/HH,IAAU,QACV,qBACe,QAAU,KAAM,qCAM2B,OAAvB,QAAkB,+GCmBb,OAAV,SAAM,yCAEH,SAAM,QAAW,IAAY,sBAA7B,EAA6B,iCASlE,UlBVwnB,SkBWtmB,KAAK,GACvB,gBACA,OADA,gBACO,iCAIP,UlBjBmyB,SkBkBjxB,qBAoGrB,OADgB,QAAmB,EAAO,OzBdL,EyBrFT,MAAoB,GAAQ,EAAG,GACxD,8DAIA,UACI,EAAS,IAAW,OAAO,EAE/B,ahBPmB,EgBOnB,KhBPmB,IAAkB,EUxCyB,GAmDtE,GVinDI,EF/oD07lE,EE+oDl6lE,OAAO,GgBrnD3B,QACA,gBACA,OADA,gBACO,+BAoBP,UACA,QAAW,GACX,gBACA,OADA,eACW,IAAS,SlBnD6yD,SkBoD3yD,MlBpD41D,SkBsD51D,OAAO,EAAO,GAAG,+BA4B0B,OAAhB,EAAN,SAAc,qCAIf,OAApB,GAAc,sCAkBpC,MAAO,GAAS,MAAM,KAAK,2FAKvB,SAAY,MAAM,4GyCvIqD,OAAhB,KAAU,gCAExB,MAAO,MAAP,EAAO,QAAP,GAAsB,OAAtB,QAAqB,EAArB,wGxCEY,MAAM,GAA+B,qIAKK,OAAnC,UAAa,GAAc,8BAEG,OAAtB,eAAY,yCAG5E,QAAS,KACT,UAAa,GAAO,EAAQ,OACrB,8BAKiC,OAAjB,UAAa,uGAkD4B,OAAzB,UAAY,GAAS,yCrCkBrE,sBAgmDC,OAAsB,MAAW,GAAO,WAC5B,oBAAX,MAAW,SqCjnDyD,UAAS,GA8BqmpD,EA9B3lpD,KAAO,GrCinDzE,CAAoB,GAAO,WACrD,GAAO,GqClnDoG,OAAxC,6BAQ3D,OAHgB,MAAZ,YACA,UAAW,WAEA,GAAR,uCAG2E,OAAV,0CAEb,OAApB,UAAY,GAAI,iCAEY,OAA3B,UAAY,EAAI,EAAK,gCAEL,OAAvB,UAAY,GAAO,8BAEN,OAAhB,UAAY,mGE/FzC,6CA2CL,OAAc,MADJ,UAAI,EAAI,EAAS,kCAYsD,OAAxB,UAAI,GAAY,8BAEvB,OAAb,UAAI,+BAE2B,OAAnB,UAAI,KAAK,iCAEe,QAAJ,MAAvB,UAAI,GAAO,+BAEf,OAAR,UAAI,kGC+E9B,OAFa,IAAT,YACA,yBAnBgB,MAAhB,QAAwB,YACxB,EtB7Fy7G,OsB6F/2G,OACpE,qBAAF,EAAE,SAAY,EACd,OAAO,EAGT,yBAAF,EAAE,SAAW,OAAK,QAClB,OAAe,YAAW,OAAK,eAC/B,IAAU,OAEV,OAFA,sBACA,OAAY,EACL,EAGP,OADA,OAAe,KACR,EAMC,QACI,IAAT,yCAIF,SAAW,MAAM,SACtB,EAAoB,UtBrH2wI,UsBsHtuI,WtBtHm1I,UsB4H54I,OAFA,UAAiB,EACjB,WAAQ,EACD,iCF5CN,MAgBqsE,UAd9sE,MAAM,GAA8B,GAjBV,6BEgElB,UAAyB,GAAgB,GAAT,WAAY,MAC5C,UAAY,KAEZ,0FAzJkC,4CAGrC,+CAIL,MAAe,UAAS,GAAY,GACpC,EAAmB,QAAsB,MACrB,MAAhB,EAEA,UAAW,GAAY,OAAY,EAAK,WAEpC,iBAEA,QAA+B,KAC3B,UAAS,GAAO,EAAM,KAAK,GAC3B,OAAO,EAAM,GAAS,GITmD,EAetC,GAAO,OAAY,EAEvE,IJNiB,UAAW,GAAY,EACvB,gBACA,OADA,gBACO,KAIX,MAAuC,EACvC,EAAkB,GAAN,EAAM,KAAiB,MACtB,MAAT,EACA,OAAO,EAAM,GAAS,GtBPskB,EsBS9kB,KAAK,OAAY,EAAK,IAGhD,gBAEA,OAFA,gBAEO,kCAIP,MAAe,UAAS,GAAY,GACjB,UAAsB,MAAtB,QAAmC,OAAO,KAA7D,MAAmB,KACf,iBACA,MAAgC,KAC5B,UAAS,GAAO,EAAM,KAAK,GAAlB,CACT,GAAiB,UAAY,GAC7B,gBACA,OADA,gBACO,EAAM,KAEb,OAAO,KAGX,MAAuC,EACnB,MAAN,EAAM,cAApB,GAAc,KAAT,MAAS,MAAM,EAAN,EACV,MAAY,EAAM,MACd,UAAS,GAAO,EAAK,EAAM,MAAlB,CACS,IAAd,EAAM,QtBlC0+C,EsBmCh/C,OAA2B,EAE3B,GAAiB,UAAY,ItBrCqtD,EsBwChuD,OAAO,EAAO,GAEpC,gBAEA,OAFA,gBAEO,EAAM,YAbrB,GAAc,GAiBlB,OAAO,kCAQmD,QAAJ,MAAjB,QAAS,iCAEnB,cAAS,GAAW,OAAL,MAAf,EAAe,KAAf,EAAe,gCAsB1C,OAAO,0HCrEC,QAAgB,OAAT,0CAKF,SAAW,MAAM,KAEtB,MAAkB,GAAJ,WACd,UAAO,Q9BYe,EAAR,EAAQ,K8BVtB,O9ByDZ,E8BTJ,IAjDoD,oB9B0DpB,EAAU,K8B1D1B,UAAoB,EACb,iCHkCjB,MADJ,UAJM,MAAM,GAA8B,GAfxB,kBGTJ,UAAc,KAGP,GAAH,GAAJ,WAAO,gBACP,oBAAI,GAAW,GAAJ,WAAO,MAElB,UAAO,yEAxCX,OADA,UAAmB,KACN,qBAAN,KAAe,wGA4C+B,MAAM,GAA+B,qIAKW,OAAzC,UAAmB,GAAc,8BAEV,OAAf,iDAGpE,YACI,QAAS,KACT,UAAmB,GAAO,EAAQ,OAC3B,8BAKuC,OAAvB,UAAmB,gCAEuB,OAAnC,UAAmB,wGAsHU,OAApB,UAAI,GAAY,gCAGlC,2BAAQ,OAAO,EAA5C,MAA6B,QAErB,KAAK,KAAS,GACd,OAAO,EAEX,EAAgB,GAAT,EAAK,YACP,IAAS,WAClB,OAAO,8BAImF,OAAV,0CAEjC,MAAJ,UAAI,GAAI,GAAW,OAAL,MAAV,EAAU,KAAV,EAAU,mCAGzD,UAEA,MAAU,UAAI,GAAI,MACP,MAAP,EAAO,CACP,MAAe,YAAW,EAAK,GAG/B,OAFA,UAAI,EAAI,EAAK,oBHtGkV,MAAR,QAAwB,MAAR,OA9C3W,MAAM,GAA8B,GAfxB,kBGyCZ,MAAY,UACC,MAAT,EACA,OAAO,EACP,OAAO,EACP,OAAO,WHgBwkB,EAAN,EAAM,QAhB1kB,MAfO,EAiBhB,MAAM,GAA8B,GAjBV,6BGkBtB,MHlBY,EGoBZ,OAAO,EACP,OAAO,EAEP,OAAa,EACb,OAAa,GA8GJ,CAAT,EAAS,MACF,KAEP,OAAO,EAAI,GAAS,gCAKxB,UAEA,MAAY,UAAI,GAAO,UACV,MAAT,GACM,GAAN,EAAM,MACC,EAAM,MAEV,gCAGmC,OAAR,UAAI,mCAGlC,UAAY,MAAM,0GxCzNyC,OAApB,UAAI,6TyCxCrC,kDAOV,OAAO,iBAA0B,aAAU,EAAM,wCAItB,kBAAY,MAAZ,EAAY,QAAZ,GAA2B,OAA3B,QAA0B,EAA1B,oCAI3B,MAAQ,SAAO,sFAkBX,mBACS,yBAAN,KAAa,IAAU,YAAmB,EAAM,iCAGH,OAAf,uHAQhC,6CAKG,MAAM,GAA+B,gFAES,OAAd,IAAU,uCAEtB,OAAD,6GAYk5C,MAAM,GAA8B,uEAH35C,OAAd,IAAU,uCAEtB,OAAD,mEA7CtB,0RClBT,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,6CAGA,yDAIW,eAAoB,MAApB,aACH,EAAa,OzB3Bg5D,SyB2Bh1D,WAAS,KACrD,cAAE,MAAkB,mBAAT,GzB5B4/D,EyB4Bv9D,SAAW,KzB5B2/D,KyB6B3jE,GAAS,IACrC,SAJG,EAAP,i2DI3CiC,O7BIhC,U6BJ0B,wC+BKgB,iBAAiB,GAmG5C,GAnG4C,GAmG9B,OAnGuC,MAAM,GAClF,UACI,EAAK,aAAW,UAAM,K/BJ2E,O+BqGrD,KAnGmB,kC/BAsD,O1BEhH,UAwNsF,UAxNrE,EAEzB,gC0BAM,OADA,2BAAU,GACH,iCAKP,OADA,oBAAgB,GAAN,GACH,sCAIU,QAAsC,OAAvD,KAAK,GAAY,QAAU,OAAV,EAAiB,EAAY,gCAuC9C,OADA,oBAAgB,GAAN,GACH,kCAqCP,uBAAe,IACf,OADA,UAAe,QAAU,OAAV,GACR,uCAiP6B,OAAN,2CA8I9B,MAAsB,GAAN,GACH,QAAmB,EAAY,EAAU,EAAU,QAEhE,yBACA,O1BnQuH,EH9MizoB,EG8Mh1oB,UAqF6xR,EAAY,G0B6Kj4R,SAAoB,EACb,gF1B9Kq1F,Y6BZ5vF,OhCvR6yc,EG8Nhzc,QAAQ,EAqEuwF,yCAAkmB,Y6BDx1G,OhClSy4d,EG8Nl6d,QAAQ,EAqEm4G,kE6BzQ99G,6CAEA,mDAkDN,EAAa,GAAK,EAAmB,GAAN,GAC/B,MAAM,GAA2B,8BAA4B,EAAU,mBAAwB,GAAN,IAE7F,OAAqB,GAAd,UAA6B,GAAN,GAAkB,EAAY,8CAJlD,oBAAgD,GAAhD,+CAgBN,EAAa,GAAK,EAAmB,GAAN,GAC/B,MAAM,GAA2B,8BAA4B,EAAU,mBAAwB,GAAN,IAE7F,SAAwB,a/CshB5B,mB+CthB8B,YAAK,EAAO,kBAAgC,OAAN,EAAM,oDAJ5D,oBAAmD,GAAnD,0CAa6D,OAA5C,GAA3B,SAA0C,GAAN,GAAkB,EAAG,0CA4CzD,MAAY,QAAK,EAAL,aACC,MAAT,EAAe,OAAa,GAAN,GAE1B,MAAgB,EAChB,EAAmB,GAAN,GACb,EAAS,QAEL,MAAsB,GAAL,GACjB,EAAG,GAAO,EAAO,EAAW,EAAW,KAAM,MAC7C,EAAG,EAAO,EAAU,IACpB,EAAY,EAAW,KAAM,KAAe,EAA5C,EACA,EAAQ,EAAW,UACd,EAAY,GAAmB,MAAT,GAM/B,OAJI,EAAY,GACZ,EAAG,GAAO,EAAO,EAAW,GAGzB,EAAG,6CAmGmD,OAAxB,UAAc,uEAzT3D,qSAoWuD,OAAZ,UAAM,kCAC4D,OAA3B,GAAb,MAAR,K1C/IjD,KAAG,MAAO,EAAV,Q0C+I0E,iBAAE,WAAK,MAAM,8CACP,OAAtB,O6BnTc,E7DJqwf,U6DW3c,I7B4Sx0e,KAAM,OAApB,8FA6BW,OAAZ,UAAM,yCACoB,OAAlB,O6BjVqB,E7DJg2iB,U6DW3c,I7B0U15hB,GAAhB,gGArC9C,6CAEa,OAAF,GhClTu9e,U6DW3c,gC7B6Uxhe,OANoB,MAAhB,YACA,UAAe,mBAKA,GAAZ,sCAImH,OAAlH,GAAZ,UAAqB,UAAW,UAAM,OAAW,QAAuB,UAAM,MAG5D,GAAN,SAEK,QhCvXgD,EAsBoxjB,OAAkB,WAAW,KgCgW9zjB,GAC3B,OAEJ,QhCzX4C,EAsBy5jB,OAAkB,WAAW,EAAQ,EAAnB,KgCkWh7jB,GAC/B,MACV,EAAQ,EAAf,EAIL,EAAQ,EAAf,GAZ0F,UAAM,KAAe,EAAnG,EAAsG,4dEvT1G,IAAe,qnBC3EF,6CAAkB,8CAE0B,qBQDjB,oBAAS,OAChE,WACmB,iBAAP,EACL,GAAgB,EAAG,GACvB,gBACI,GAAgB,EAAG,EAAE,MAErB,GAAmB,EAAG,aAG7B,aAAU,YAAY,GAAmB,EAAG,iCAO/B,OAAd,EAAE,GAAU,GALJ,CAA2B,EAAG,GACzC,SRZoD,CAAR,UAAkB,EAAM,2GAEV,OAAd,OAAS,oCAES,OSgEf,GThEU,wCAExB,OAAJ,mEC+BkB,QAAnB,YAAS,UAAM,sCACd,YAAS,UAAM,OAA0B,MAAM,MAAyB,WAA7C,gBAAoD,OAApD,gBAAN,UAAM,6DUvBpC,4EAyCwD,OAAd,QAAQ,oGA0BX,OAAV,QAAI,gCAkBY,OAAf,QAAS,gCAekB,OAArB,QNzGjB,GMyGuB,iCAGG,OAAf,QAAS,gCAMoB,OAAlB,UAAa,+BAYb,OAAb,QAAO,+BA0ED,OAAV,sDAgDW,OAA3B,QAAK,UAAW,uCAOH,OAAH,qCAGgB,OAAV,0CASN,OAAV,2CAEqD,OAAlC,iBAAiB,QAAW,qCAE3B,SAAL,UC7QX,EAAE,IAAQ,EAAE,6CD+QsB,OAAxB,GAAL,KAA0B,gGMvRlD,6CAKsD,OAAF,GAAR,uCAKlD,kC3DIwC,uBAAkC,MAAlC,EAAkC,KAAlC,EAAkC,GAAsB,MAAxD,UAAiE,KAAjE,E2DFpB,UAwDM,I3DevB,S2DzEH,EAEuC,sCAGvC,QAAc,QhDSF,aAFsC,KAcjC,gBAZL,mBAaA,WgDrBZ,MhDsBC,EgDrBD,EAA0C,GAAP,KAG5B,K3DYT,IAE6B,MAApB,EAoBJ,EApBoD,KAAc,GAoBlE,EApB6H,KAoB7H,EAnBV,KAmBU,EAjBP,KAAY,OAES,MAed,EAf4B,QAE5B,IAGV,KACiB,YAA2B,EAAgB,EAA4B,EACvF,cAC6F,EAAgB,KAAyB,EOrC/D,EPwCzB,GAIrC,GAFwC,MAE5B,GAAZ,EAAN,WAIO,qBAIc,MAApB,SqECuB,KAAhB,G1DnBY,KA0CmB,EAAzB,GA1CqB,G0DkBkD,EAxBtF,GAAkB,cA0BtB,I1D9BgB,KA2CS,EA3CM,E0D6BuD,EAlClF,GAAkB,GrE2CkB,YAZ5B,EAAU,0H2D2Ba,MAAM,GAA8B,sEhCwCtB,MAAM,GAA8B,0HgCxCT,MAArC,sHC8EV,MAAb,UAAmB,MAAM,gBAC7B,MAnBgB,mBrDvJsB,EAoC8+K,WqDkH3gL,EACoB,UAAU,WACtC,UAAK,GAAmC,UAAU,4GAiBlC,MAAb,UAAmB,MAAM,UAC7B,OAAO,01CUhKX,MpFrBR,OAAM,OAAQ,MoFyBN,OAFA,MAAgB,EAChB,GAAiB,EAAS,OACnB,KCRe,oBrCoFE,0D3BxER,OAAe,WAEtC,oBAAqB,WAAe,GAAY,EAAG,KAE9C,EAAoB,UACH,oBAAqB,YAC/B,oBAEF,iBA1BuC,EA4BjD,SADsB,cACpB,EAAY,kCAEK,KAEX,qBACkB,KAGf,qBAA+B,KAAmC,qBAA+B,KAAoC,qBAAgC,KAAkC,qBAA8B,KAAmC,qBAA+B,KAAoC,qBAAgC,KAAqC,qBAAiC,0BAAgD,KAAkC,eAAyD,MAAkB,OAAa,eAAe,GAAG,cAA+D,IAAgB,OAAiC,UAAiC,IAAgB,MAAgC,UAA+I,GAAxC,O4BWp4B,O5B7BpB,kEiCoIK,qBAA6E,yB9BNlE,aAAa,QAAO,GAAe,EAAa,MACrE,MAAY,UAAwB,G8BMmF,OjCnH45I,EG8Nl7I,QAAQ,EAAS,G8B5GxG,yChCmnCP,qBAAwE,GAAxE,aAA4F,GAA5F,2IgE1wCoC,GAAM,EAAN,GAAvC,8FACmD,GAAM,EAAS,EAAf,GAAnD,8DjC0D6C,UAAK,EAAS,mF3B3DM,KAAM,EAAS,GAAhF,qaOsLa,QAAkB,EAAY,EAAU,EAAO,QAC5D,MAAgB,EAAW,EAA3B,KACa,QAAkB,EAAmB,EAAoB,EAAzD,EAAoE,EAAY,QAEzF,EAAkB,IAAgB,EAAkB,GAAlB,KAClC,EZtJ02J,EYsJx0J,SAAS,EAAY,GZtJ62J,EYuJ54J,IAAI,EAAU,WAElC,IAAW,GAAe,GAAqB,GACjC,WAAd,EAAsB,KAAjB,MAAS,UACV,EAAY,EAAoB,EAAhC,GAAyC,EAAO,EAAa,EAApB,SAD7C,EAAsB,QAIR,QAAY,EAAZ,KAAqB,GAAnC,KAAK,MAAS,WACV,EAAY,EAAoB,EAAhC,GAAyC,EAAO,EAAa,EAApB,SADV,GAAnC,gEQ9D42f,ItC4hBp3f,OsC5hBo3f,GAAK,GA1Gr3f,MAAM,GAAiC,GtCooBxB,2BAAyB,EAAC,2BACpC,IAAL,EAAQ,OAAO,YAEf,OACA,MAAiB,MAAO,EAAxB,KACI,GAAc,EACd,OAAO,QACO,IAAd,EACA,OAAO,GAAO,UAClB,EAAO,GAAa,MAChB,aACI,OACc,QAAQ,WAAtB,EAAc,KAAT,MAAS,UACV,EAAK,EAAI,IAAK,UADlB,EAAc,gBAGD,EoF9oBktlB,IAAa,GpF8oB/tlB,QAAR,MAAQ,MACT,EAAK,EAAI,GAEjB,OAAO,QAIX,EAAO,SAEX,MAAY,EACC,gBAAR,MAAQ,MACL,GAAS,EAAG,EAAK,EAAI,GAAa,IAAF,EAAE,EAE1C,OAAY,GAAL,iDA7aP,OAAW,MAAW,KAAU,IAAK,4BApEjC,MACA,MAAM,GAAwB,kBAClC,OAAO,IAAK,2BD6rCZ,OAAW,GAAS,GAAK,eAk+MT,OAAR,SAAO,EAAC,EAl+MkB,IAAW,EAAI,GAAY,mDSzyCoC,OAA5E,IAAjB,EAAS,OAAW,KAAiB,GAAU,OAAkB,GAAsB,gCGmD8gmB,KAAc,GD0f9kmB,OA1kBD,EA0kBZ,GAAO,GCpkB5B,gCXgnGH,OACA,MAAa,GAAa,EAAK,IAAO,EAAS,IAAlC,GAGb,OAFA,EAAO,EAAO,GACd,EAAO,EAAO,GACP,EAEP,MAAa,GAAa,GAE1B,2BqFzlGE,EACF,IAAiB,OAAO,IAAO,OAE3B,OAAsB,EACT,gBAAR,MAAQ,MACL,IAAI,KAAO,GAAS,IrFmlGzB,CAAP,EAAc,GACP,2BqF78FqC,MAAW,MAAM,GAAwB,kBAAyC,OAAnB,KAAS,2D3EmSpH,OACa,yBACT,IAAK,gBACL,OAAe,MAAc,IAAK,GAAQ,MAAW,SoBxbA,KnBS9B,OAAhC,uB0BxC4C,GAAK,EAAiB,EAAtB,uD3BwUtB,uBAArB,EAAqB,uBAAf,MAAe,EAAf,KAAK,EAAU,EAAV,KACP,IAAI,EAAK,IA9SqG,CA3B1E,EA2BiF,KCrBlH,kBDkdS,KAAM,GAAgC,QAHlD,iBC7aL,IDmbC,mBAuOwD,QACxD,IADwD,MACnD,KAEG,EACX,SA3OuC,CAA7B,KAAM,6BA2DqE,OAAnB,GAAc,mCV8wF7E,EAXO,EAWK,IACZ,EAZW,EAYQ,IsF57F+2zG,KAAvkB,EAA+lB,IAAW,KAAtmB,EAA8nB,ItF67F77zG,EAAW,GsF/mGJ,KAAO,IAAI,EAAG,ItFgnGd,EAAM,KAAa,EAAO,YAdH,KAeP,EAAM,IAAQ,EAAO,KAAxC,EAAK,EAAI,GAfb,OAiBO,mGuFj0GC,0BAEW,EAAI,GAAS,KAAK,MAAd,OAAoB,EAAI,GAAQ,0BAAZ,cAA6B,KAAhE,SAGJ,OAAW,OAA4B,KAAK,mBAAe,kCAOvD,gBACW,EAAI,GAAS,KAAK,OAA6B,MAArB,EAAI,GAAQ,MAAjD,KAA2F,KAEpF,OAA4B,EAAvC,KAAuE,qKP2DxB,KAAnD,KAA6B,EAAU,I1D/E3B,KA2CS,EAAb,K0DhDR,KAAkB,qClBRgE,OAAvC,OAAa,UAAU,SAAS,KAAK,6FMvBhF,YAHA,MAAa,EACb,MAAa,EACb,eAAsB,IlDE6D,yBkDanF,YAsBI,GAtBgD,GAA0B,MAAV,EAAgB,EAAO,GAc3F,OAZ6B,IAAzB,EAAM,WAAW,SlDKF,EAAM,WkDJQ,KAAK,GAEL,MAAzB,EAAM,gBACN,kBvBoIF,ahDrKI,EgDqKJ,uBhDrKmC,IuEmCZ,GAArB,EAAM,iBAAN,YAAqC,EAGjB,GAAH,GAArB,EAAM,iBAAwC,IAG3C,ElD3BoF,CAErF,EAAY,EACpB,QkDIE,aAAmB,EACnB,cAAkB,EACX,wGVJsE,OAA/B,gBAAW,EAAO,GAAW,gDwBFlE,sCM0TL,EAAI,IAAO,EACJ,KAAW,MAAM,IAvBuC,EAAnB,KAAW,MAyBzC,IACC,GAAK,EADZ,EArCmC,KAAW,KAsCb,0EpFi5BzC,KAAe,GAAf,EAA6B,MAAM,GAA0B,kDAA1B,GAA0E,GAAY,yBAAtF,GAA6G,GAAY,YAC5J,KAAO,GAAP,EAA4B,EAC5B,KAAO,GAAP,EAA4B,EACzB,oECpvBP,OAAO,OAAkB,GAAM,EAAO,GAY/B,gBAAY,OAAM,MAAN,KAAnB,gBAAO,EAAP,2BArVA,MAAe,aACV,EAAS,IAEP,EAAS,IADL,uCA+nBX,OAA4B,eAS5B,yBA9Ba,oBAAR,MAAQ,MACT,EAAY,EAAI,GAEpB,OAAO,EA2BA,GAAa,MATR,CAAL,mC8C1uBmD,IAAV,yBnDuBlD,kBmBgSuB,OAAb,KAAG,MAAS,EAAZ,GnBhSV,UAqmDM,OAAsB,MAAW,GAAO,OAC5B,yBAAhB,GAAgB,KAAX,MAAW,cmD7nDsE,GAAT,KAuHytiD,InDsgD3wiD,CAAoB,GAAO,iBAAtD,IAAgB,GAChB,GAAO,KmD9nDgE,EAA+B,wDhCixBnG,qBAAwE,0BACtE,GAAc,oBAAkB,mBAG1B,KAAkB,EAAG,EAAQ,EAAU,GAAP,GAAe,uBgC/zBhD,qBAA4D,0BACjE,EAGM,KAAc,EAAG,EAAQ,EAAG,EAAO,OAAQ,GjCCrD,EG6MwF,WA1MnF,EAAQ,G8BRJ,QhC6zBM,CAAL,EAAgB,GAAX,KAFb,QAnPC,GAAW,GAAX,UEzQstT,KAAP,GF0Q/sT,OD7iB4wqB,EG2MnsqB,UAAU,GFoWvF,OAAO,mI4C/kB4C,MAAM,2BANzD,MAAM,GAAsC,qBAAmB,EAAI,gF0BG5D,mBACH,cAAsB,GAAV,idCuNR,OACA,OAAQ,EAAI,cAEX,gCAAwB,MAAxB,GAAwB,EAAxB,EAAiC,4CArO9C,oBACqB,IADrB,cAE4B,GAF5B,aAG6B,MAH7B,cAIwB,GAJxB,eAKiC,uBACwD,OAAzE,MAAe,EAAQ,EAAc,EAAQ,EAAU,GANvE,kCA+PI,YACA,YACA,YACA,YACA,kBlF1K+D,EAAX,IkF4K7B,YAGK,uBlF/KmC,EAAX,IkFiL3B,YAOY,qBlFxL0B,EAAX,IkFmM/B,kBlFnM0C,EAAX,IkFoM1B,8BvE7RR,IAAgB,cwEI9B,MAAC,ItEJ2C,EAAG,KAgNW,esE3M7D,WALG,GxEwvBE,GAxvBI,EAwvBU,2BwExvBK,EAAO,0BCGhC,YACA,YAEqC,iDCFtB,gBAAiB,QACjB,gBAAiB,QACd,gBAAiB,WACjB,gBAAiB,WACf,gBAAiB,aACb,gBAAiB,kBACrB,gBAAiB,cAChB,gBAAiB,eACjB,gBAAiB,eACjB,gBAAiB,eACjB,gBAAiB,4CAZe,YAAS,GAAvC,4BA+CvB,YAAoB,IAAU,GAjDT,IAiD6B,EAAP,GAAoB,GADtC,YAAoB,2DCzCzB,0BCPG,kBvFyFwC,EAAX,IuFxFjC,6BCyKsB,YAAH,EAAG,GA5KrC,IA4KkC,0EAAG,8BAAH,EAAG,GA5KrC,IA4KkC,4FAsBM,YAAH,EAAG,GAlMxC,IAkMqC,6EAAG,8BAAH,EAAG,GAlMxC,IAkMqC,+FAWJ,YAAH,EAAG,GA7MjC,IA6M8B,6EAAG,8BAAH,EAAG,GA7MjC,IA6M8B,+FAsCM,YAAH,EAAG,GAnPpC,IAmPiC,yEAAG,8BAAH,EAAG,GAnPpC,IAmPiC,4IA/LjC,aAAuD,MAAvD,kEAAqB,2BA1Cb,mCrFmJskb,MsFqDlkb,EvF3MD,EA6WqE,IAAQ,IuFlK5E,QAAX,MAAW,MDvMwB,EtFwLzC,EAoGiE,KsF5RrB,EtFwL5C,EAiHiE,KsF/N1B,EAzE1B,GAAY,EAAF,GAAc,KAAxB,EAA4B,GAAE,OrFNlB,MA6EjB,EuFoUqC,WFzY/B,OA8EmD,IrFMzD,SqFxFK,EAIa,uBANsB,cACb,sCA4DG,WACF,WACD,WACP,mBAAc,iBACH,WACkB,WACf,WACI,WACI,WACV,WACQ,WACE,WACT,WACE,WAEM,WACZ,WACwB,WACZ,WACR,WACA,WACY,WACR,WACQ,WACZ,WAER,WACG,WACE,WACC,WACF,WAEY,WACA,WAED,WACO,WACC,WACE,WACC,WAEhB,WACG,WACE,WACC,WACF,WAEA,WACG,WACE,WACC,WACF,WAEd,WACG,WACE,WACC,WACF,WAEC,WACd,mBAAc,iBACH,WAER,WACA,WACc,WACV,WACK,WACP,WAEM,WACJ,WAEF,WACM,WACQ,WACZ,WACE,WACA,WACN,WACM,WACO,WACH,WAEF,WAEE,WAEF,WACY,WACN,WACA,WACJ,WACM,WACI,WAChB,WACM,WACI,WACA,WACU,WACI,WACN,aAEX,WACP,WAEH,WACO,WAEU,WACJ,WAEL,WACS,WACR,WACM,WAEd,WACY,WACE,WACC,WACF,WACF,WACA,WACC,aACA,WAEN,WACE,WACP,WACC,WACG,WACW,WACD,WACX,WACC,aACA,WACO,WACY,WAEvB,WACY,WACE,WACC,WACF,WACA,WACV,WAEJ,WACQ,WACC,WAEO,WACnB,WAEa,WACJ,WACU,WACJ,WACE,WACR,WACX,mBAAc,iBACb,mBAAc,iBACH,WACG,WACE,WACM,WAEV,WAEM,WACN,WAEA,aACA,WACF,WACQ,WACV,WAEP,iCGlMd,+CAFA,YAAsB,2BChCtB,+CAFA,YAAsB,2BCAtB,+CAFA,YAAsB,0BCLtB,+CAFC,YAAuB,8hBZwP9B,4CACA,4CACA,4CAIA,4CAGA,4CAEA,sD/E/Gykb,M+EoHjlb,OAnN0B,EAiNvB,GAAO,WACP,QAlNuB,EAkNZ,W/E7LR,EuFoUqC,4CRlIjC,sC1FmrFX,EAAiB,EACD,EA7nFlB,UA6nFkB,WACZ,IADY,M0FnrFa,W1ForFzB,YAEG,EAJP,EAAiB,EACD,EA7nFc,UA6nFd,WACZ,IADY,M0FnrFkD,W1ForF9D,EW7yF8yJ,SX+yF3yJ,EW/yF2yJ,GAAqE,UAAa,WAAlF,E+E0HlxJ,UA7MhC,I/EwBO,S+EmLI,EAAP,kDE3PyrS,OAAqB,KALrs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IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEAC,GAAY,CACZ,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,ICvgBJ,SAASC,GAAMC,EAAWC,EAASC,EAASC,EAAOC,GAC/C,IAAIC,EAAYH,EAAUD,EAASK,EAAUF,EAAQD,EACrD,OAAkB,IAAdE,EACOF,EAAQG,EAAU,EAEb,IAAZA,EACOH,EAGDG,IADCN,EAAYC,GAAW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","sources":["webpack://addons/webpack/universalModuleDefinition","webpack://addons/webpack/runtime/create fake namespace object","webpack://addons/webpack/runtime/load script","webpack://addons/../../node_modules/jwt-decode/lib/atob.js","webpack://addons/../../node_modules/jwt-decode/lib/base64_url_decode.js","webpack://addons/../../node_modules/jwt-decode/lib/index.js","webpack://addons/../../node_modules/preact/src/constants.js","webpack://addons/../../node_modules/preact/src/util.js","webpack://addons/../../node_modules/preact/src/options.js","webpack://addons/../../node_modules/preact/src/create-element.js","webpack://addons/../../node_modules/preact/src/component.js","webpack://addons/../../node_modules/preact/src/create-context.js","webpack://addons/../../node_modules/preact/src/diff/children.js","webpack://addons/../../node_modules/preact/src/diff/props.js","webpack://addons/../../node_modules/preact/src/diff/index.js","webpack://addons/../../node_modules/preact/src/render.js","webpack://addons/../../node_modules/preact/src/clone-element.js","webpack://addons/../../node_modules/preact/src/diff/catch-error.js","webpack://addons/../../node_modules/prismjs/prism.js","webpack://addons/../../../../../Trace.common.kt","webpack://addons/../../../../../AtomicFU.kt","webpack://addons/../../../../../<js-code>","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/CoroutineContext.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Arrays.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Collections.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashSet.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sets.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sequences.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Ranges.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Sequences.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractList.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Collections.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Iterables.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Maps.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Standard.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/CoroutineContextImpl.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/intrinsics/Intrinsics.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/properties/ObservableProperty.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Appendable.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Char.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/char.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/dynamic.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Strings.kt","webpack://addons/../../../../../src/generated/_ArraysJs.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/string.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Result.kt","webpack://addons/../../../../../src/kotlin/exceptions.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Tuples.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/ProgressionIterators.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Progressions.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Ranges.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/internal/progressionUtil.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/runtime/primitiveCompanionObjects.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections.kt","webpack://addons/../../../../../runtime/kotlinHacks.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableCollection.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableList.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableSet.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/ArrayList.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Preconditions.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashSet.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalHashCodeMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/KClassImpl.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/primitives.kt","webpack://addons/../../../../../builtins/Library.kt","webpack://addons/../../../../../runtime/typeCheckUtils.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/reflection.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/StringBuilderJs.kt","webpack://addons/../../../../../src/generated/_WhitespaceChars.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/CharCode.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/regex.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/stringsCode.kt","webpack://addons/../../../../../builtins/Char.kt","webpack://addons/../../../../../builtins/Enum.kt","webpack://addons/../../../../../runtime/arrays.kt","webpack://addons/../../../../../runtime/noPackageHacks.kt","webpack://addons/../../../../../runtime/bitUtils.kt","webpack://addons/../../../../../runtime/charSequence.kt","webpack://addons/../../../../../runtime/numberConversion.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/unsigned/src/kotlin/UShort.kt","webpack://addons/../../../../../runtime/collectionsHacks.kt","webpack://addons/../../../../../runtime/compareTo.kt","webpack://addons/../../../../../runtime/coreRuntime.kt","webpack://addons/../../../../../runtime/hacks.kt","webpack://addons/../../../../../runtime/long.kt","webpack://addons/../../../../../runtime/longjs.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/numbers.kt","webpack://addons/../../../../../runtime/rangeTo.kt","webpack://addons/../../../../../runtime/reflectRuntime.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/JsClass.kt","webpack://addons/../../../../../src/kotlin/coroutines_13/CoroutineImpl.kt","webpack://addons/../../../../../src/kotlin/coroutines_13/IntrinsicsJs.kt","webpack://addons/../../../../../src/kotlin/jsOperators.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractCollection.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractSet.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Iterators.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Unit.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/EqualityComparator.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Strings.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/regexp.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/Continuation.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/kotlin/MathH.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/coroutines/cancellation/CancellationException.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Iterators.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/MutableCollections.kt","webpack://addons/../../../../../src/generated/_ComparisonsJs.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/ContinuationInterceptor.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/math.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlinx/dom/Mutations.kt","webpack://addons/../../../../../CssBuilder.kt","webpack://addons/../../../../../Extensions.kt","webpack://addons/../../../../../Rule.kt","webpack://addons/../../../../../StyleDimensions.kt","webpack://addons/../../../../../StyleEnums.kt","webpack://addons/../../../../../StyleList.kt","webpack://addons/../../../../../StyledElement.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Maps.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/StringBuilder.kt","webpack://addons/../../../../../Animation.kt","webpack://addons/../../../../../BoxShadow.kt","webpack://addons/../../../../../Transform.kt","webpack://addons/../../../../../Transition.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/HashCode.kt","webpack://addons/../../../../../RuleContainer.kt","webpack://addons/../../../../../api.kt","webpack://addons/../../../../../attributes.kt","webpack://addons/../../../../../delegating-map.kt","webpack://addons/../../../../../gen-attributes.kt","webpack://addons/../../../../../gen-enums.kt","webpack://addons/../../../../../gen-tags-a.kt","webpack://addons/../../../../../gen-tags-c.kt","webpack://addons/../../../../../gen-tags-d.kt","webpack://addons/../../../../../gen-tags-h.kt","webpack://addons/../../../../../gen-tags-i.kt","webpack://addons/../../../../../gen-tags-l.kt","webpack://addons/../../../../../gen-tags-p.kt","webpack://addons/../../../../../gen-tags-t.kt","webpack://addons/../../../../../htmltag.kt","webpack://addons/../../../../../gen-event-attrs-js.kt","webpack://addons/../../../../../gen-attr-traits.kt","webpack://addons/../../../../../Job.kt","webpack://addons/../../../../../AbstractCoroutine.kt","webpack://addons/../../../../../Builders.common.kt","webpack://addons/../../../../../CoroutineContext.kt","webpack://addons/../../../../../DispatchedTask.kt","webpack://addons/../../../../../CancellableContinuationImpl.kt","webpack://addons/../../../../../CompletionHandler.kt","webpack://addons/../../../../../AtomicFU.common.kt","webpack://addons/../../../../../CompletionState.kt","webpack://addons/../../../../../CoroutineDispatcher.kt","webpack://addons/../../../../../CoroutineExceptionHandler.kt","webpack://addons/../../../../../EventLoop.common.kt","webpack://addons/../../../../../Exceptions.common.kt","webpack://addons/../../../../../JobSupport.kt","webpack://addons/../../../../../Concurrent.kt","webpack://addons/../../../../../LinkedList.kt","webpack://addons/../../../../../Synchronized.kt","webpack://addons/../../../../../MainCoroutineDispatcher.kt","webpack://addons/../../../../../Supervisor.kt","webpack://addons/../../../../../Unconfined.kt","webpack://addons/../../../../../ArrayQueue.kt","webpack://addons/../../../../../DispatchedContinuation.kt","webpack://addons/../../../../../ThreadContext.kt","webpack://addons/../../../../../Scopes.kt","webpack://addons/../../../../../Symbol.kt","webpack://addons/../../../../../Cancellable.kt","webpack://addons/../../../../../Window.kt","webpack://addons/../../../../../CoroutineExceptionHandlerImpl.kt","webpack://addons/../../../../../Debug.kt","webpack://addons/../../../../../Dispatchers.kt","webpack://addons/../../../../../EventLoop.kt","webpack://addons/../../../../../Exceptions.kt","webpack://addons/../../../../../JSDispatcher.kt","webpack://addons/../../../../../StackTraceRecovery.kt","webpack://addons/../../../../../ThreadLocal.kt","webpack://addons/../../../../../CoroutineStart.kt","webpack://addons/../../../../../Undispatched.kt","webpack://addons/../../../../../ProbesSupport.kt","webpack://addons/../../../../../CompletionHandler.common.kt","webpack://addons/../../../../../SchedulerTask.kt","webpack://addons/../../../../../Delay.kt","webpack://addons/../../../../../CancellableContinuation.kt","webpack://addons/../../../../../CoroutineScope.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/helpers.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/AddonExamplesApp.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/HomePage.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/chartjs/ChartJsExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/index.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/routes.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/jwtdecode/JwtDecodeExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/konva/KonvaExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/marked/MarkedExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/prismjs/PrismJsExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/konva/KonvaExampleStage.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/Prism.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/ChartJsComponent.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/chartjs_builder.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/chartjs_utils.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/FieldOptionsBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/routes.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/GenericFormField.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/dom_events.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/events.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/ActiveRoute.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/MountedRoute.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/Router.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/RouterBuilder.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/RouterComponent.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/distinct.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/middleware.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/regex/RegexExtensions.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/field_textarea.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/form_helpers.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/settings.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/styling/inline_style.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/Component.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/Ctx.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/PureComponent.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/state/ComponentStateProperty.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/MessageBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/MessagesHandler.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/messages.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamMapper.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamSourceImpl.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamWrapper.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamWrapperBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/map.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/ticker.kt","webpack://addons/../../../../core/src/jsMain/kotlin/utils/async.kt","webpack://addons/../../../../core/src/jsMain/kotlin/utils/jsHelpers.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/VDom.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/VDomEngine.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactElements.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactLLC.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactTagConsumer.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactVDomEngine.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/SemanticTag.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/streams.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/FormField.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/routing.kt","webpack://addons/../../../../core/src/jsMain/kotlin/jsbridges/jwt_decode_helpers.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/PrismJsInternals.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/PrismPlugin.kt","webpack://addons/../../../../../gen-tag-groups.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/org.w3c/org.w3c.dom.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/internals.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/index.kt","webpack://addons/../../../../../RunSync.kt","webpack://addons/../../node_modules/marked/lib/marked.cjs","webpack://addons/../../node_modules/chart.js/dist/chunks/helpers.segment.mjs","webpack://addons/../../node_modules/chart.js/dist/chart.mjs","webpack://addons/../../node_modules/konva/lib/Global.js","webpack://addons/../../node_modules/konva/lib/Util.js","webpack://addons/../../node_modules/konva/lib/Validators.js","webpack://addons/../../node_modules/konva/lib/Factory.js","webpack://addons/../../node_modules/konva/lib/Context.js","webpack://addons/../../node_modules/konva/lib/Canvas.js","webpack://addons/../../node_modules/konva/lib/DragAndDrop.js","webpack://addons/../../node_modules/konva/lib/Node.js","webpack://addons/../../node_modules/konva/lib/Container.js","webpack://addons/../../node_modules/konva/lib/PointerEvents.js","webpack://addons/../../node_modules/konva/lib/Stage.js","webpack://addons/../../node_modules/konva/lib/Shape.js","webpack://addons/../../node_modules/konva/lib/Layer.js","webpack://addons/../../node_modules/konva/lib/FastLayer.js","webpack://addons/../../node_modules/konva/lib/Group.js","webpack://addons/../../node_modules/konva/lib/Animation.js","webpack://addons/../../node_modules/konva/lib/Tween.js","webpack://addons/../../node_modules/konva/lib/_CoreInternals.js","webpack://addons/../../node_modules/konva/lib/shapes/Arc.js","webpack://addons/../../node_modules/konva/lib/shapes/Line.js","webpack://addons/../../node_modules/konva/lib/shapes/Path.js","webpack://addons/../../node_modules/konva/lib/shapes/Arrow.js","webpack://addons/../../node_modules/konva/lib/shapes/Circle.js","webpack://addons/../../node_modules/konva/lib/shapes/Ellipse.js","webpack://addons/../../node_modules/konva/lib/shapes/Image.js","webpack://addons/../../node_modules/konva/lib/shapes/Label.js","webpack://addons/../../node_modules/konva/lib/shapes/Rect.js","webpack://addons/../../node_modules/konva/lib/shapes/RegularPolygon.js","webpack://addons/../../node_modules/konva/lib/shapes/Ring.js","webpack://addons/../../node_modules/konva/lib/shapes/Sprite.js","webpack://addons/../../node_modules/konva/lib/shapes/Star.js","webpack://addons/../../node_modules/konva/lib/shapes/Text.js","webpack://addons/../../node_modules/konva/lib/shapes/TextPath.js","webpack://addons/../../node_modules/konva/lib/shapes/Transformer.js","webpack://addons/../../node_modules/konva/lib/shapes/Wedge.js","webpack://addons/../../node_modules/konva/lib/filters/Blur.js","webpack://addons/../../node_modules/konva/lib/filters/Enhance.js","webpack://addons/../../node_modules/konva/lib/filters/Mask.js","webpack://addons/../../node_modules/konva/lib/filters/Brighten.js","webpack://addons/../../node_modules/konva/lib/filters/Contrast.js","webpack://addons/../../node_modules/konva/lib/filters/Emboss.js","webpack://addons/../../node_modules/konva/lib/filters/HSL.js","webpack://addons/../../node_modules/konva/lib/filters/HSV.js","webpack://addons/../../node_modules/konva/lib/filters/Kaleidoscope.js","webpack://addons/../../node_modules/konva/lib/filters/Noise.js","webpack://addons/../../node_modules/konva/lib/filters/Pixelate.js","webpack://addons/../../node_modules/konva/lib/filters/Posterize.js","webpack://addons/../../node_modules/konva/lib/filters/RGB.js","webpack://addons/../../node_modules/konva/lib/filters/RGBA.js","webpack://addons/../../node_modules/konva/lib/filters/Threshold.js","webpack://addons/../../node_modules/konva/lib/_FullInternals.js","webpack://addons/../../node_modules/konva/lib/index.js","webpack://addons/../../node_modules/konva/lib/filters/Grayscale.js","webpack://addons/../../node_modules/konva/lib/filters/Invert.js","webpack://addons/../../node_modules/konva/lib/filters/Sepia.js","webpack://addons/../../node_modules/konva/lib/filters/Solarize.js","webpack://addons/webpack/bootstrap","webpack://addons/webpack/runtime/define property getters","webpack://addons/webpack/runtime/ensure chunk","webpack://addons/webpack/runtime/get javascript chunk filename","webpack://addons/webpack/runtime/global","webpack://addons/webpack/runtime/hasOwnProperty shorthand","webpack://addons/webpack/runtime/make namespace object","webpack://addons/webpack/runtime/publicPath","webpack://addons/webpack/runtime/jsonp chunk loading","webpack://addons/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"addons\"] = factory();\n\telse\n\t\troot[\"addons\"] = factory();\n})(this, () => {\nreturn ","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"addons:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || setTimeout)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.KraftDsl\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.Tag\n\n/**\n * Markup Element key\n */\n@KraftDsl\nvar CommonAttributeGroupFacade.key: String\n    get() = attributes[\"key\"] ?: \"\"\n    set(value) {\n        attributes[\"key\"] = value\n    }\n\n/**\n * Gets the \"debug-id\" attribute\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.debugId(): String? = attributes[\"debug-id\"]\n\n/**\n * Sets the \"debug-id\" attribute to [id]\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.debugId(id: String) {\n    (consumer as? VDomTagConsumer)\n        ?.takeIf { it.isDebugMode }\n        ?.let { attributes[\"debug-id\"] = id }\n}\n\n/**\n * Gets the \"data-[id]\" attribute\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.data(id: String): String? = attributes[\"data-$id\"]\n\n/**\n * Sets the \"data-[id]\" attribute to [value]\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.data(id: String, value: String) {\n    attributes[\"data-$id\"] = value\n}\n\n/**\n * Adds a child component to the current tag\n */\n@KraftDsl\ninline fun <P, reified C : Component<P>> Tag.comp(props: P, noinline component: (Ctx<P>) -> C): ComponentRef<C> {\n    return (this.consumer as VDomTagConsumer).onComponent(props, component, C::class)\n}\n\n/**\n * Adds a parameterless child component to the current tag\n */\n@KraftDsl\ninline fun <reified C : Component<Any?>> Tag.comp(noinline component: (NoProps) -> C): ComponentRef<C> {\n    return comp(null, component)\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.RouterComponent\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\n\n@Suppress(\"FunctionName\")\nfun Tag.AddonExamplesApp() = comp {\n    AddonExamplesApp(it)\n}\n\nclass AddonExamplesApp(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @Suppress(\"unused\")\n    private val activeRoute by subscribingTo(router.current)\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.container {\n\n            ui.basic.segment {\n                ui.header H1 { +\"KRAFT addon examples\" }\n            }\n\n            ui.basic.segment {\n                RouterComponent(router = router)\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.noui\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.px\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\n\n@Suppress(\"FunctionName\")\nfun Tag.HomePage() = comp {\n    HomePage(it)\n}\n\nclass HomePage(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.four.link.cards {\n\n            noui.card A {\n                href = routes.chartJs()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://www.chartjs.org/img/chartjs-logo.svg\",\n                        alt = \"ChartJS Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"ChartJS\"\n                }\n            }\n\n            noui.card A {\n                href = routes.jwtDecode()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://user-images.githubusercontent.com/83319/31722733-de95bbde-b3ea-11e7-96bf-4f4e8f915588.png\",\n                        alt = \"JWT Decode Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"JWT Decode\"\n                }\n            }\n\n            noui.card A {\n                href = routes.konva()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://camo.githubusercontent.com/8ee88dda37d12638ee55035971e01ce818f0564584264cd9a688188846ce7e34/68747470733a2f2f6b6f6e76616a732e6f72672f616e64726f69642d6368726f6d652d313932783139322e706e67\",\n                        alt = \"Konva Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"Konva\"\n                }\n            }\n\n            noui.card A {\n                href = routes.marked()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://marked.js.org/img/logo-black.svg\",\n                        alt = \"Marked Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"Marked\"\n                }\n            }\n\n            noui.card A {\n                href = routes.prismjs()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://pbs.twimg.com/profile_images/2451426554/Screen_Shot_2012-07-31_at_21.57.03__400x400.png\",\n                        alt = \"PrismJs Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"PrismJs\"\n                }\n            }\n        }\n    }\n\n    private fun FlowContent.renderLogo(src: String, alt: String) {\n        ui.image Img {\n            css {\n                height = 100.px\n            }\n            this.src = src\n            this.alt = alt\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.chartjs\n\nimport de.peekandpoke.kraft.addons.chartjs.ChartJs\nimport de.peekandpoke.kraft.addons.chartjs.chartJsData\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.streams.addons.map\nimport de.peekandpoke.kraft.streams.addons.ticker\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.vh\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlin.math.PI\nimport kotlin.math.pow\nimport kotlin.math.sin\n\n@Suppress(\"FunctionName\")\nfun Tag.ChartJsExample() = comp {\n    ChartJsExample(it)\n}\n\nclass ChartJsExample(ctx: NoProps) : PureComponent(ctx) {\n\n    ////  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private val factor by subscribingTo(ticker(1000).map { 1.0 + sin(it * 10 * PI / 180.0) })\n\n    ////  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n\n            ui.header H2 { +\"Chart.js demos\" }\n\n            ui.two.cards {\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleBarChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Bar Chart\" }\n                        ui.meta {\n                            a(\n                                href = \"https://www.chartjs.org/docs/latest/samples/bar/vertical.html\",\n                                target = \"_blank\"\n                            ) {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleLineChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Line Chart\" }\n                        ui.meta {\n                            a(href = \"https://www.chartjs.org/docs/latest/samples/line/line.html\", target = \"_blank\") {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleDoughnutChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Doughnut Chart\" }\n                        ui.meta {\n                            a(\n                                href = \"https://www.chartjs.org/docs/latest/samples/other-charts/doughnut.html\",\n                                target = \"_blank\"\n                            ) {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private fun FlowContent.simpleBarChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"bar\"\n                data = jsObject {\n                    labels = arrayOf(\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\")\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"# of votes\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3).map { it * factor }.toTypedArray()\n                            color = value(\"#444\")\n                            backgroundColor = value(\n                                \"rgba(255, 99, 132, 0.2)\",\n                                \"rgba(54, 162, 235, 0.2)\",\n                                \"rgba(255, 206, 86, 0.2)\",\n                                \"rgba(75, 192, 192, 0.2)\",\n                                \"rgba(153, 102, 255, 0.2)\",\n                                \"rgba(255, 159, 64, 0.2)\",\n                            )\n                            borderColor = value(\n                                \"rgba(255, 99, 132, 1)\",\n                                \"rgba(54, 162, 235, 1)\",\n                                \"rgba(255, 206, 86, 1)\",\n                                \"rgba(75, 192, 192, 1)\",\n                                \"rgba(153, 102, 255, 1)\",\n                                \"rgba(255, 159, 64, 1)\",\n                            )\n                            borderWidth = value(1)\n                        }\n                    )\n                }\n\n                options = jsObject {\n                    scales = jsObject {\n                        yAxes = jsObject {\n                            ticks = jsObject {\n                                suggestedMin = 0\n                                suggestedMax = 40\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n\n    private fun FlowContent.simpleLineChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"line\"\n                data = jsObject {\n                    labels = numberLabels(6)\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"# of votes\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3).map { it * factor }.toTypedArray()\n                            color = value(\"#444\")\n                            backgroundColor = value(\"rgba(255, 99, 132, 0.2)\")\n                            borderColor = value(\"rgba(255, 99, 132, 1)\")\n                            borderWidth = value(3)\n                        }\n                    )\n                }\n\n                options = jsObject {\n                    scales = jsObject {\n                        yAxes = jsObject {\n                            ticks = jsObject {\n                                suggestedMin = 0\n                                suggestedMax = 40\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n\n    private fun FlowContent.simpleDoughnutChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"doughnut\"\n                data = jsObject {\n                    labels = numberLabels(6)\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"Dataset #1\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3)\n                                .mapIndexed { index, it -> it * (index + 1).toDouble().pow(factor) }\n                                .toTypedArray()\n                            backgroundColor = value(\n                                \"rgba(255, 99, 132, 0.2)\",\n                                \"rgba(54, 162, 235, 0.2)\",\n                                \"rgba(255, 206, 86, 0.2)\",\n                                \"rgba(75, 192, 192, 0.2)\",\n                                \"rgba(153, 102, 255, 0.2)\",\n                                \"rgba(255, 159, 64, 0.2)\",\n                            )\n                        }\n                    )\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.Router\nimport de.peekandpoke.kraft.addons.routing.router\nimport de.peekandpoke.kraft.vdom.preact.PreactVDomEngine\nimport kotlinx.browser.document\nimport org.w3c.dom.HTMLElement\n\nval routes = Routes()\n\nval router: Router = router {\n    mount(routes)\n}\n\nfun main() {\n    val mountPoint = document.getElementById(\"spa\") as HTMLElement\n\n    PreactVDomEngine(mountPoint) {\n        AddonExamplesApp()\n    }\n\n    router.resolveCurrentRoute()\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.RouterBuilder\nimport de.peekandpoke.kraft.addons.routing.Static\nimport de.peekandpoke.kraft.examples.jsaddons.chartjs.ChartJsExample\nimport de.peekandpoke.kraft.examples.jsaddons.jwtdecode.JwtDecodeExample\nimport de.peekandpoke.kraft.examples.jsaddons.konva.KonvaExample\nimport de.peekandpoke.kraft.examples.jsaddons.marked.MarkedExample\nimport de.peekandpoke.kraft.examples.jsaddons.prismjs.PrismJsExample\n\nclass Routes {\n\n    val home = Static(\"\")\n    val homeSlash = Static(\"/\")\n\n    val chartJs = Static(\"/example/chart-js\")\n    val jwtDecode = Static(\"/example/jwt-decode\")\n    val konva = Static(\"/example/konva\")\n    val marked = Static(\"/example/marked\")\n    val prismjs = Static(\"/example/prism-js\")\n\n}\n\nfun RouterBuilder.mount(routes: Routes) {\n    mount(routes.home) { HomePage() }\n    mount(routes.homeSlash) { HomePage() }\n\n    mount(routes.chartJs) { ChartJsExample() }\n    mount(routes.jwtDecode) { JwtDecodeExample() }\n    mount(routes.konva) { KonvaExample() }\n    mount(routes.marked) { MarkedExample() }\n    mount(routes.prismjs) { PrismJsExample() }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.jwtdecode\n\nimport de.peekandpoke.kraft.addons.semanticui.forms.UiTextArea\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.jsbridges.decodeJwt\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.pre\n\n@Suppress(\"FunctionName\")\nfun Tag.JwtDecodeExample() = comp {\n    JwtDecodeExample(it)\n}\n\nclass JwtDecodeExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var jwt by value(\n        \" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.cThIIoDvwdueQB468K5xDc5633seEFoqwxjF_xSJyQQ\"\n    )\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"jwt_decode\" }\n\n            ui.two.column.grid {\n                ui.column {\n                    ui.form {\n                        UiTextArea(jwt, { jwt = it }) {\n                            label(\"JWT\")\n                        }\n                    }\n                }\n                ui.column {\n                    pre {\n                        +JSON.stringify(decodeJwt(jwt))\n                    }\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.konva\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.pct\nimport kotlinx.css.vh\nimport kotlinx.css.width\nimport kotlinx.html.Tag\nimport kotlinx.html.div\n\n@Suppress(\"FunctionName\")\nfun Tag.KonvaExample() = comp {\n    KonvaExample(it)\n}\n\nclass KonvaExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.segment {\n            ui.header H2 { +\"Konva\" }\n\n            div {\n                css {\n                    width = 100.pct\n                    height = 50.vh\n                }\n                KonvaExampleStage()\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.marked\n\nimport de.peekandpoke.kraft.addons.marked.marked\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlinx.html.div\nimport kotlinx.html.unsafe\n\n@Suppress(\"FunctionName\")\nfun Tag.MarkedExample() = comp {\n    MarkedExample(it)\n}\n\nclass MarkedExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"Marked JS\" }\n\n            div {\n                a(href = \"https://www.npmjs.com/package/marked\", target = \"_blank\") {\n                    +\"https://www.npmjs.com/package/marked\"\n                }\n            }\n\n            ui.segment {\n                unsafe {\n                    +marked.parse(\n                        \"\"\"\n                            # Header 1                         \n                            ## Header 2                         \n                            ### Header 3                         \n                        \"\"\".trimIndent()\n                    )\n                }\n            }\n\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.prismjs\n\nimport de.peekandpoke.kraft.addons.prismjs.*\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.CopyToClipboard.Companion.copyToClipboard\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.InlineColor.Companion.inlineColor\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.LineNumbers.Companion.lineNumbers\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlinx.html.p\n\n@Suppress(\"FunctionName\")\nfun Tag.PrismJsExample() = comp {\n    PrismJsExample(it)\n}\n\nclass PrismJsExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.segment {\n            ui.header H2 { +\"PrismJs syntax highlighter\" }\n\n            ui.header H3 { +\"Plugin Examples\" }\n            pluginExamples()\n\n            ui.header H3 { +\"Language Examples\" }\n            languageExamples()\n        }\n    }\n\n    private fun FlowContent.pluginExamples() {\n        ui.header { +\"Line numbers\" }\n\n        p {\n            a(href = \"https://prismjs.com/plugins/line-numbers/\") {\n                +\"PrismJs docs\"\n            }\n        }\n\n        p { +\"Usage\" }\n        PrismKotlinScript(\n            \"\"\"\n                PrismKotlin(\"... code ...\") {\n                    lineNumbers(\n                        // line number of the first line, default = 1\n                        start = -5,\n                        // should soft wraps be used, default = false\n                        softWrap = true,\n                    )\n                }            \n            \"\"\".trimIndent()\n        )\n\n        PrismHtml(getPluginExampleHtmlCode()) {\n            lineNumbers(start = -5, softWrap = true)\n        }\n    }\n\n    private fun FlowContent.languageExamples() {\n\n        val configure: PrismOptsBuilder = {\n            inlineColor()\n            lineNumbers()\n            copyToClipboard()\n        }\n\n        ui.header { +\"atom\" }\n        PrismAtom(\n            \"\"\"\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"clike\" }\n        PrismCLike(\n            \"\"\"\n                #include <stdio.h>\n                int main() {\n                    printf(\"Hello, World!\");\n                    return 0;\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"css\" }\n        PrismCss(\n            \"\"\"\n                /* All in red */\n                body {\n                    color: #FF0000;\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"dart\" }\n        PrismDart(\n            \"\"\"\n                /* Hello world from dart */\n                void main() {\n                    print('Hello, World!');\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"html\" }\n        PrismHtml(\n            \"\"\"\n                <!-- Hello world from html -->\n                <div>\n                    Hello, World!\n                </div>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"kotlin\" }\n        PrismKotlin(\n            \"\"\"\n                /** Hello world from kotlin */\n                fun main() {\n                    println(\"Hello, World!\")\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"java\" }\n        PrismJava(\n            \"\"\"\n                /** Hello world from java */\n                class HelloWorld {\n                    public static void main(String[] args) {\n                        System.out.println(\"Hello, World!\"); \n                    }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"javascript\" }\n        PrismJavascript(\n            \"\"\"\n                /** Hello world from javascript */\n                function helloWorld() {\n                    alert( 'Hello, world!' );\n                }\n                \n                helloWorld();\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"json\" }\n        PrismJson(\n            \"\"\"\n                {\n                    \"json\": \"Hello, World!\"                        \n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"json5\" }\n        PrismJson5(\n            \"\"\"\n                {\n                  // comments\n                  unquoted: 'and you can quote me on that',\n                  singleQuotes: 'I can use \"double quotes\" here',\n                  lineBreaks: \"Look, Mom! \\\n                      No \\\\n's!\",\n                  hexadecimal: 0xdecaf,\n                  leadingDecimalPoint: .8675309, andTrailing: 8675309.,\n                  positiveSign: +1,\n                  trailingComma: 'in objects', andIn: ['arrays',],\n                  \"backwardsCompatible\": \"with JSON\",\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"jsonp\" }\n        PrismJsonp(\n            \"\"\"\n                myFunc(\n                    '{ \"name\":\"John\", \"age\":30, \"city\":\"New York\" }'\n                );\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"less\" }\n        PrismLess(\n            \"\"\"\n                @header-color: #FFAA88;\n                \n                #header {\n                  color: @header-color;\n                  .navigation {\n                    font-size: 12px;\n                  }\n                  .logo {\n                    width: 300px;\n                  }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"markup\" }\n        PrismMarkup(\n            \"\"\"\n                <!-- Hello world from markup -->\n                <div>\n                    Hello, World!\n                </div>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"php\" }\n        PrismPhp(\n            \"\"\"\n                <?php\n                    // Hello world from PHP\n                    phpinfo(); \n                \n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"plain\" }\n        PrismPlain(\n            \"\"\"\n                This is just a plain text.\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"regex\" }\n        PrismRegex(\n            \"\"\"\n                [-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"ruby\" }\n        PrismRuby(\n            \"\"\"\n                # Hello world from ruby\n                puts 'Hello, world!'\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"rust\" }\n        PrismRust(\n            \"\"\"\n                // This is the main function\n                fn main() {\n                    // Statements here are executed when the compiled binary is called\n\n                    // Print text to the console\n                    println!(\"Hello World!\");\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"rss\" }\n        PrismRss(\n            \"\"\"\n                <?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n                <rss version=\"2.0\">\n                  <channel>\n                    <title>W3Schools Home Page</title>\n                    <link>https://www.w3schools.com</link>\n                    <description>Free web building tutorials</description>\n                    <item>\n                      <title>RSS Tutorial</title>\n                      <link>https://www.w3schools.com/xml/xml_rss.asp</link>\n                      <description>New RSS tutorial on W3Schools</description>\n                    </item>\n                    <item>\n                      <title>XML Tutorial</title>\n                      <link>https://www.w3schools.com/xml</link>\n                      <description>New XML tutorial on W3Schools</description>\n                    </item>\n                  </channel>\n                </rss>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"sass\" }\n        PrismSass(\n            \"\"\"\n                ${\"$\"}font-stack: Helvetica, sans-serif\n                ${\"$\"}primary-color: #333\n                \n                body                      \n                  div                      \n                    font: 100% ${'$'}font-stack\n                    color: ${'$'}primary-color\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"scss\" }\n        PrismScss(\n            \"\"\"\n                ${\"$\"}font-stack: Helvetica, sans-serif;\n                ${\"$\"}primary-color: #333;\n                \n                body {\n                  div {                      \n                    font: 100% ${'$'}font-stack;\n                    color: ${'$'}primary-color;\n                  }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"ssml\" }\n        PrismSsml(\n            \"\"\"\n                <speak>\n                  Here are <say-as interpret-as=\"characters\">SSML</say-as> samples.\n                  I can pause <break time=\"3s\"/>.\n                  I can play a sound\n                  <audio src=\"https://www.example.com/MY_MP3_FILE.mp3\">didn't get your MP3 audio file</audio>.\n                  I can speak in cardinals. Your number is <say-as interpret-as=\"cardinal\">10</say-as>.\n                  Or I can speak in ordinals. You are <say-as interpret-as=\"ordinal\">10</say-as> in line.\n                  Or I can even speak in digits. The digits for ten are <say-as interpret-as=\"characters\">10</say-as>.\n                  I can also substitute phrases, like the <sub alias=\"World Wide Web Consortium\">W3C</sub>.\n                  Finally, I can speak a paragraph with two sentences.\n                  <p><s>This is sentence one.</s><s>This is sentence two.</s></p>\n                </speak>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"svg\" }\n        PrismSvg(\n            \"\"\"\n                <svg width=\"400\" height=\"180\">\n                  <rect x=\"50\" y=\"20\" rx=\"20\" ry=\"20\" width=\"150\" height=\"150\" style=\"fill:red;stroke:black;stroke-width:5;opacity:0.5\" />\n                  Sorry, your browser does not support inline SVG.\n                </svg>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"text\" }\n        PrismText(\n            \"\"\"\n                This is just a plain text.\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"typescript\" }\n        PrismTypescript(\n            \"\"\"\n                let message: string = 'Hello, World!';\n                // create a new heading 1 element\n                let heading = document.createElement('h1');\n                heading.textContent = message;\n                // add the heading the document\n                document.body.appendChild(heading);\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"xml\" }\n        PrismXml(\n            \"\"\"\n                <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n                <text>\n                  <para>hello world</para>\n                </text>\n            \"\"\".trimIndent(),\n            configure,\n        )\n    }\n\n    private fun getPluginExampleHtmlCode(): String = \"\"\"\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n\n        <meta charset=\"utf-8\" />\n        <link rel=\"icon\" href=\"assets/favicon.png\" />\n        <title>Line Numbers  Prism plugins</title>\n        <base href=\"../..\" />\n        <link rel=\"stylesheet\" href=\"assets/style.css\" />\n        <link rel=\"stylesheet\" href=\"themes/prism.css\" data-noprefix />\n        <link rel=\"stylesheet\" href=\"plugins/line-numbers/prism-line-numbers.css\" data-noprefix />\n        <script src=\"assets/vendor/prefixfree.min.js\"></script>\n\n        <script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>\n        <script src=\"https://www.google-analytics.com/ga.js\" async></script>\n        </head>\n        <body class=\"language-none\">\n\n        <header data-plugin-header=\"line-numbers\"></header>\n\n        <section class=\"language-markup\">\n          <h1>How to use</h1>\n\n          <p>Obviously, this is supposed to work only for code blocks (<code>&lt;pre>&lt;code></code>) and not for inline code.</p>\n          <p>Add the <code>line-numbers</code> class to your desired <code>&lt;pre></code> or any of its ancestors, and the Line Numbers plugin will take care of the rest. To give all code blocks line numbers, add the <code>line-numbers</code> class to the <code>&lt;body></code> of the page. This is part of a general activation mechanism where adding the <code>line-numbers</code> (or <code>no-line-numbers</code>) class to any element will enable (or disable) the Line Numbers plugin for all code blocks in that element. <br> Example:</p>\n\n          <pre><code>&lt;body class=\"line-numbers\"> &lt;!-- enabled for the whole page -->\n\n            &lt;!-- with line numbers -->\n            &lt;pre>&lt;code>...&lt;/code>&lt;/pre>\n            &lt;!-- disabled for a specific element - without line numbers -->\n            &lt;pre class=\"no-line-numbers\">&lt;code>...&lt;/code>&lt;/pre>\n\n            &lt;div class=\"no-line-numbers\"> &lt;!-- disabled for this subtree -->\n\n                &lt;!-- without line numbers -->\n                &lt;pre>&lt;code>...&lt;/code>&lt;/pre>\n                &lt;!-- enabled for a specific element - with line numbers -->\n                &lt;pre class=\"line-numbers\">&lt;code>...&lt;/code>&lt;/pre>\n\n            &lt;/div>\n        &lt;/body></code></pre>\n\n          <p>Optional: You can specify the <code>data-start</code> (Number) attribute on the <code>&lt;pre></code> element. It will shift the line counter.</p>\n          <p>Optional: To support multiline line numbers using soft wrap, apply the CSS <code>white-space: pre-line;</code> or <code>white-space: pre-wrap;</code> to your desired <code>&lt;pre></code>.</p>\n        </section>\n\n        <section class=\"line-numbers\">\n          <h1>Examples</h1>\n\n          <h2>JavaScript</h2>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/prism-line-numbers.js\"></pre>\n\n          <h2>CSS</h2>\n          <p>Please note that this <code class=\"language-markup\">&lt;pre></code> does not have the <code>line-numbers</code> class but its parent does.</p>\n          <pre data-src=\"plugins/line-numbers/prism-line-numbers.css\"></pre>\n\n          <h2>HTML</h2>\n          <p>Please note the <code>data-start=\"-5\"</code> in the code below.</p>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/index.html\" data-start=\"-5\"></pre>\n\n          <h2>Unknown languages</h2>\n          <pre class=\"language-none line-numbers\"><code>This raw text\n        is not highlighted\n        but it still has\n        line numbers</code></pre>\n\n          <h2>Soft wrap support</h2>\n          <p>Please note the <code>style=\"white-space:pre-wrap;\"</code> in the code below.</p>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/index.html\" data-start=\"-5\" style=\"white-space:pre-wrap;\"></pre>\n\n        </section>\n\n        <footer data-src=\"assets/templates/footer.html\" data-type=\"text/html\"></footer>\n\n        <script src=\"prism.js\"></script>\n        <script src=\"plugins/line-numbers/prism-line-numbers.js\"></script>\n        <script src=\"assets/vendor/utopia.js\"></script>\n        <script src=\"components.js\"></script>\n        <script src=\"assets/code.js\"></script>\n\n        </body>\n        </html>\n    \"\"\".trimIndent()\n}\n","package de.peekandpoke.kraft.examples.jsaddons.konva\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.key\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport konva.Circle\nimport konva.Layer\nimport konva.LayerConfig\nimport konva.Stage\nimport kotlinx.css.height\nimport kotlinx.css.pct\nimport kotlinx.css.width\nimport kotlinx.html.Tag\nimport kotlinx.html.div\nimport kotlin.math.max\n\n@Suppress(\"FunctionName\")\nfun Tag.KonvaExampleStage() = comp {\n    KonvaExampleStage(it)\n}\n\nclass KonvaExampleStage(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun onMount() {\n        dom?.let { d ->\n\n            val clientWidth = d.clientWidth\n            val clientHeight = d.clientHeight\n\n            val stage = Stage(\n                jsObject {\n                    container = d\n                    width = clientWidth\n                    height = clientHeight\n                }\n            )\n\n            var viewScale = 1.0\n\n            val layer = Layer(\n                jsObject<LayerConfig> {\n                    listening = true\n                    x = (clientWidth / 2)\n                    y = (clientHeight / 2)\n                }\n            )\n            stage.add(layer)\n\n            layer.add(\n                Circle(\n                    jsObject {\n                        id = \"circle\"\n                        x = 0\n                        y = 0\n                        radius = 200\n                        fill = \"#FFAAAA\"\n                        stroke = \"#888888\"\n                        strokeWidth = 1\n                    }\n                )\n            )\n\n            stage.on(\"wheel\") { event ->\n                viewScale = max(0.1, viewScale + (event.evt.asDynamic().wheelDelta as Double / 2000.0))\n                layer.scaleX(viewScale)\n                layer.scaleY(viewScale)\n            }\n        }\n    }\n\n    override fun VDom.render() {\n        div {\n            key = \"stage\"\n\n            css {\n                width = 100.pct\n                height = 100.pct\n            }\n        }\n    }\n}\n","@file:Suppress(\"FunctionName\", \"NOTHING_TO_INLINE\")\n\npackage de.peekandpoke.kraft.addons.prismjs\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.utils.launch\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.document\nimport kotlinx.dom.clear\nimport kotlinx.html.Tag\nimport kotlinx.html.code\nimport kotlinx.html.div\nimport kotlinx.html.pre\nimport org.intellij.lang.annotations.Language\nimport org.w3c.dom.HTMLElement\nimport org.w3c.dom.HTMLPreElement\n\ntypealias PrismOptsBuilder = Prism.OptionsBuilder.() -> Unit\n\nfun Tag.Prism(language: String, code: String, options: PrismOptsBuilder) = comp(\n    Prism.Props(\n        language = language,\n        code = code,\n        options = Prism.OptionsBuilder().apply(options).build()\n    )\n) { Prism(it) }\n\ninline fun Tag.PrismAtom(@Language(\"atom\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"atom\", code = code, options = options)\n\ninline fun Tag.PrismCLike(@Language(\"c\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"clike\", code = code, options = options)\n\ninline fun Tag.PrismCss(@Language(\"css\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"css\", code = code, options = options)\n\ninline fun Tag.PrismDart(@Language(\"dart\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"dart\", code = code, options = options)\n\ninline fun Tag.PrismHtml(@Language(\"html\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"html\", code = code, options = options)\n\ninline fun Tag.PrismKotlin(@Language(\"kotlin\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"kotlin\", code = code, options = options)\n\ninline fun Tag.PrismKotlinScript(@Language(\"kts\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"kts\", code = code, options = options)\n\ninline fun Tag.PrismJava(@Language(\"java\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"java\", code = code, options = options)\n\ninline fun Tag.PrismJavascript(@Language(\"javascript\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"javascript\", code = code, options = options)\n\ninline fun Tag.PrismJson(@Language(\"json\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"json\", code = code, options = options)\n\ninline fun Tag.PrismJson5(@Language(\"json5\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"json5\", code = code, options = options)\n\ninline fun Tag.PrismJsonp(@Language(\"jsonp\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"jsonp\", code = code, options = options)\n\ninline fun Tag.PrismLess(@Language(\"less\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"less\", code = code, options = options)\n\ninline fun Tag.PrismMarkup(@Language(\"markup\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"markup\", code = code, options = options)\n\ninline fun Tag.PrismPhp(@Language(\"php\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"php\", code = code, options = options)\n\ninline fun Tag.PrismPlain(code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"plain\", code = code, options = options)\n\ninline fun Tag.PrismRegex(@Language(\"regex\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"regex\", code = code, options = options)\n\ninline fun Tag.PrismRuby(@Language(\"ruby\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"ruby\", code = code, options = options)\n\ninline fun Tag.PrismRust(@Language(\"rust\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"rust\", code = code, options = options)\n\ninline fun Tag.PrismRss(@Language(\"rss\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"rss\", code = code, options = options)\n\ninline fun Tag.PrismSass(@Language(\"sass\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"sass\", code = code, options = options)\n\ninline fun Tag.PrismScss(@Language(\"scss\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"scss\", code = code, options = options)\n\ninline fun Tag.PrismSsml(@Language(\"ssml\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"ssml\", code = code, options = options)\n\ninline fun Tag.PrismSvg(@Language(\"svg\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"svg\", code = code, options = options)\n\ninline fun Tag.PrismText(code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"text\", code = code, options = options)\n\ninline fun Tag.PrismTypescript(@Language(\"typescript\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"typescript\", code = code, options = options)\n\ninline fun Tag.PrismXml(@Language(\"xml\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"xml\", code = code, options = options)\n\nclass Prism(ctx: Ctx<Props>) : Component<Prism.Props>(ctx) {\n\n    //  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    data class Props(\n        val language: String,\n        val code: String,\n        val options: Options,\n    )\n\n    data class Options(\n        val plugins: List<PrismPlugin>,\n    )\n\n    class OptionsBuilder internal constructor() {\n        private val plugins = mutableListOf<PrismPlugin>()\n\n        internal fun build() = Options(\n            plugins = plugins,\n        )\n\n        fun usePlugin(plugin: PrismPlugin) {\n            plugins.add(plugin)\n        }\n    }\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    init {\n        launch {\n            prismJsInternals.styles.loadDefaultTheme()\n\n            props.options.plugins.forEach { it.load() }\n\n            prismJsInternals.languages.load(props.language)\n\n            createContent()\n        }\n    }\n\n    private fun createContent() {\n\n        dom?.let { d ->\n            val pre = (document.createElement(\"pre\") as HTMLPreElement).also { pre ->\n\n                pre.className = \"language-${props.language} copy-to-clipboard\"\n\n                props.options.plugins.forEach { it.applyTo(pre) }\n\n                (document.createElement(\"code\") as HTMLElement).also { code ->\n\n                    val text = document.createTextNode(props.code)\n\n                    code.append(text)\n                    pre.append(code)\n                }\n            }\n\n            d.clear()\n            d.append(pre)\n\n            PrismJsDefinition.highlightAllUnder(d)\n        }\n    }\n\n    override fun VDom.render() {\n        // Initially we create a placeholder which is filled by [createContent]\n        div(\"prism\") {\n\n            pre(\"language-${props.language}\") {\n                code {\n                    +props.code\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.canvas\nimport kotlinx.html.style\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.HTMLCanvasElement\n\n@Suppress(\"FunctionName\")\nfun Tag.ChartJs(\n    data: ChartConfig\n) = comp(\n    ChartJsComponent.Props(data = data)\n) {\n    ChartJsComponent(it)\n}\n\nclass ChartJsComponent(ctx: Ctx<Props>) : Component<ChartJsComponent.Props>(ctx) {\n\n    ////  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    data class Props(\n        val data: ChartConfig\n    )\n\n    ////  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var chart: Chart? = null\n\n    ////  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    init {\n        ChartJsUtils.registerAllModules()\n    }\n\n    override fun onMount() {\n        super.onMount()\n\n        val canvas = dom as HTMLCanvasElement\n\n//        console.log(\"chart-data\", props.data)\n\n        chart = Chart(\n            ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D,\n            data = props.data,\n        )\n\n//        console.log(chart)\n    }\n\n    override fun shouldRedraw(nextProps: Props): Boolean {\n\n//        return super.shouldRedraw(nextProps)\n\n        chart?.let { c ->\n\n            try {\n//                console.log(Chart)\n//                console.log(Object.getOwnPropertyNames(Chart))\n\n                // Update the options\n                c.options = nextProps.data.options\n\n                // Merge data sets\n                val currentData = c.data.datasets\n                val nextData = nextProps.data.data.datasets\n\n                nextData.forEachIndexed { sid, dataset ->\n\n                    val current = currentData.getOrNull(sid)\n\n                    if (current != null) {\n                        current.data = dataset.data\n                    } else {\n                        currentData[sid].data = dataset.data\n                    }\n                }\n\n                c.update()\n\n            } catch (e: Throwable) {\n                console.error(\"Updating the chart failed\")\n                console.error(e)\n            }\n        }\n\n        return super.shouldRedraw(nextProps)\n    }\n\n    override fun onUnmount() {\n        chart?.destroy()\n        chart = null\n    }\n\n    override fun VDom.render() {\n\n        canvas {\n            style = \"width: 100%; height: 100%;\"\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nimport kotlinx.css.Color\n\n@Suppress(\"unused\")\ninterface SingleOrArray<T>\n\ntypealias StringOrArray = SingleOrArray<String>\n\ntypealias NumberOrArray = SingleOrArray<Number>\n\nfun chartJsData(builder: ChartJsDataBuilder.() -> ChartConfig): ChartConfig {\n    return ChartJsDataBuilder().builder()\n}\n\nclass ChartJsDataBuilder {\n\n    val colors = arrayOf(\n        \"#4dc9f6\",\n        \"#f67019\",\n        \"#f53794\",\n        \"#537bc4\",\n        \"#acc236\",\n        \"#166a8f\",\n        \"#00a950\",\n        \"#58595b\",\n        \"#8549ba\"\n    )\n\n    private var nextColorIdx = 0\n\n    fun nextColor() = Color(colors[nextColorIdx]).also {\n        nextColorIdx = (nextColorIdx + 1) % colors.size\n    }\n\n    fun <T> value(value: T) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun <T> value(value: Array<T>) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun <T> value(vararg value: T) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun numberLabels(count: Int): Array<String> = ChartJsUtils.numberLabels(count)\n\n    fun numberLabels(range: IntRange): Array<String> = ChartJsUtils.numberLabels(range)\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nobject ChartJsUtils {\n\n    private var alreadyRegistered = false\n\n    fun registerAllModules() {\n        if (!alreadyRegistered) {\n            alreadyRegistered = true\n            console.log(\"Chart.register\", Chart.Companion::register)\n            console.log(\"registerables\", registerables)\n            Chart.register(*registerables)\n        }\n    }\n\n    fun numberLabels(count: Int): Array<String> = numberLabels(1..count)\n\n    fun numberLabels(range: IntRange) = range.map { it.toString() }.toTypedArray()\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.addons.forms.validation.Rule\nimport de.peekandpoke.kraft.semanticui.RenderFunc\nimport de.peekandpoke.ultra.common.MutableTypedAttributes\nimport de.peekandpoke.ultra.common.TypedKey\nimport kotlinx.html.InputType\nimport kotlinx.html.LABEL\n\ntypealias SettingsBuilder<T> = FieldOptions<T>.() -> Unit\n\ninterface FieldOptions<T> {\n    companion object {\n        operator fun <T> invoke(): FieldOptions<T> = Base()\n\n        private val labelKey = TypedKey<RenderFunc<LABEL>>(\"label\")\n        private val placeholderKey = TypedKey<String>(\"placeholder\")\n        private val nameKey = TypedKey<String>(\"name\")\n    }\n\n    open class Base<T> : FieldOptions<T> {\n\n        override val attributes: MutableTypedAttributes = MutableTypedAttributes.empty()\n\n        @KraftFormsSettingDsl\n        override val rules: MutableList<Rule<T>> = mutableListOf()\n\n        /** Adds a validation rule */\n        @KraftFormsSettingDsl\n        override fun accepts(vararg rules: Rule<T>) {\n            this.rules.addAll(rules)\n        }\n\n        @KraftFormsSettingDsl\n        override fun label(label: String) {\n            label { +label }\n        }\n    }\n\n    class Access<T, X>(private val settings: FieldOptions<T>, private val key: TypedKey<X>) {\n\n        @KraftFormsSettingDsl\n        operator fun invoke(value: X) {\n            settings.set(key, value)\n        }\n\n        @KraftFormsSettingDsl\n        operator fun invoke(): X? {\n            return settings.get(key)\n        }\n\n        @KraftFormsSettingDsl\n        fun getOrDefault(default: X): X {\n            return invoke() ?: default\n        }\n\n        @KraftFormsSettingDsl\n        fun getOrPut(produce: () -> X): X {\n            return settings.getOrPut(key, produce)\n        }\n    }\n\n    val attributes: MutableTypedAttributes\n\n    @KraftFormsSettingDsl\n    val rules: List<Rule<T>>\n\n    @KraftFormsSettingDsl\n    val label get() = access(labelKey)\n\n    @KraftFormsSettingDsl\n    val placeholder get() = access(placeholderKey)\n\n    @KraftFormsSettingDsl\n    val name get() = access(nameKey)\n\n    /** Adds a validation rule */\n    @KraftFormsSettingDsl\n    fun accepts(vararg rules: Rule<T>)\n\n    @KraftFormsSettingDsl\n    fun label(label: String)\n\n    private fun <X> set(key: TypedKey<X>, value: X) {\n        attributes[key] = value\n    }\n\n    private fun <X> get(key: TypedKey<X>): X? {\n        return attributes[key]\n    }\n\n    private fun <X> getOrPut(key: TypedKey<X>, produce: () -> X): X {\n        return attributes.getOrPut(key, produce)\n    }\n\n    fun <X> access(key: TypedKey<X>) = Access(this, key)\n}\n\ninterface CheckboxOptions<T> : FieldOptions<T> {\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n}\n\ninterface InputOptions<T> : FieldOptions<T> {\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n        private val stepKey = TypedKey<Number>(\"step\")\n        private val typeKey = TypedKey<InputType>(\"type\")\n        private val formatValueKey = TypedKey<String>(\"format-value\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    val formatValue get() = access(formatValueKey)\n\n    @KraftFormsSettingDsl\n    val step get() = access(stepKey)\n\n    @KraftFormsSettingDsl\n    val type get() = access(typeKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n\n    @KraftFormsSettingDsl\n    fun asDateInput() {\n        type(InputType.date)\n        formatValue(\"yyyy-MM-dd\")\n    }\n\n    @KraftFormsSettingDsl\n    fun asDateTimeInput() {\n        type(InputType.dateTimeLocal)\n        formatValue(\"yyyy-MM-ddTHH:mm:ss\")\n    }\n\n    @KraftFormsSettingDsl\n    fun asTimeInput() {\n        type(InputType.time)\n        formatValue(\"HH:mm:ss\")\n    }\n}\n\ninterface TextAreaOptions<T> : FieldOptions<T> {\n\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n        private val verticalAutoResizeKey = TypedKey<Boolean>(\"verticalAutoResize\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    val verticalAutoResize get() = access(verticalAutoResizeKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.utils.decodeURIComponent\nimport de.peekandpoke.kraft.utils.encodeURIComponent\n\n/**\n * Common Route representation\n */\ninterface Route {\n\n    /**\n     * Represents a route match\n     */\n    data class Match(\n        val route: Route,\n        /** Route params extract from url placeholder */\n        val routeParams: Map<String, String>,\n        /** Query params after like ?p=1&t=2 */\n        val queryParams: Map<String, String>,\n    ) {\n        companion object {\n            val default = Match(route = Route.default, routeParams = emptyMap(), queryParams = emptyMap())\n        }\n\n        /** Shortcut to the pattern of the [route] */\n        val pattern = route.pattern\n\n        /** Combination of route and query params */\n        val allParams = routeParams.plus(queryParams)\n\n        /** Gets the route param with the given [key] / name */\n        operator fun get(key: String) = param(key)\n\n        /** Gets the route param with the given [name] or defaults to [default] */\n        fun param(name: String, default: String = \"\"): String = routeParams[name] ?: default\n\n        /** Returns a new instance with the query params set */\n        fun withQueryParams(params: Map<String, String?>): Match {\n            @Suppress(\"UNCHECKED_CAST\")\n            return copy(\n                queryParams = params.filterValues { v -> v != null } as Map<String, String>\n            )\n        }\n\n        /** Returns a new instance with the query params set */\n        fun withQueryParams(vararg params: Pair<String, String?>): Match = withQueryParams(params.toMap())\n    }\n\n    companion object {\n        /** Basic default route */\n        val default = Static(\"\")\n    }\n\n    /** The pattern of the route */\n    val pattern: String\n\n    /**\n     * Matches the given [uri] against the [pattern] of the route.\n     *\n     * Returns an instance of [Match] or null if the pattern did not match.\n     */\n    fun match(uri: String): Match?\n\n    /**\n     * Internal helper for building uris\n     */\n    fun String.replacePlaceholder(placeholder: String, value: String) =\n        replace(\"{$placeholder}\", encodeURIComponent(value))\n\n    /**\n     * Builds a uri with the given [routeParams]\n     */\n    fun buildUri(vararg routeParams: String): String\n\n    /**\n     * Builds a uri with the given [routeParams] and [queryParams]\n     */\n    fun buildUri(routeParams: Map<String, String>, queryParams: Map<String, String>): String\n}\n\n/**\n * A parameterized route with one route parameter\n */\nabstract class RouteBase(final override val pattern: String, numParams: Int) : Route {\n\n    companion object {\n        @Suppress(\"RegExpRedundantEscape\")\n        val placeholderRegex = \"\\\\{([^}]*)\\\\}\".toRegex()\n        const val extractRegexPattern = \"([^/]*)\"\n    }\n\n    /**\n     * We extract all placeholders from the pattern\n     */\n    private val placeholders = placeholderRegex\n        .findAll(pattern)\n        .map { it.groupValues[1] }\n        .toList()\n\n    /**\n     * We construct a regex for matching the whole pattern with param placeholders\n     */\n    private val matchingRegex =\n        placeholders.fold(pattern) { acc, placeholder ->\n            acc.replace(\"{$placeholder}\", extractRegexPattern)\n        }.replace(\"/\", \"\\\\/\").toRegex()\n\n\n    init {\n        // Sanity check\n        if (numParams != placeholders.size) {\n            error(\"The route '$pattern' has [${placeholders.size}] route-params but should have [$numParams]\")\n        }\n    }\n\n    /**\n     * Tries to match the given [uri] against the [pattern] of the route.\n     */\n    override fun match(uri: String): Route.Match? {\n\n        val (route, query) = when (val queryIdx = uri.indexOf(\"?\")) {\n            -1 -> arrayOf(uri, \"\")\n            else -> arrayOf(uri.substring(0, queryIdx), uri.substring(queryIdx + 1))\n        }\n\n        val match = matchingRegex.matchEntire(route) ?: return null\n\n//        console.log(placeholders)\n//        console.log(match)\n//        console.log(match.groupValues)\n\n        val routeParams = placeholders\n            .zip(match.groupValues.drop(1).map(::decodeURIComponent))\n            .toMap()\n\n        val queryParams = when (query.isEmpty()) {\n            true -> emptyMap()\n            else -> query.split(\"&\").associate {\n                when (val equalsIdx = it.indexOf(\"=\")) {\n                    -1 -> Pair(it, \"\")\n                    else -> Pair(\n                        it.substring(0, equalsIdx),\n                        decodeURIComponent(it.substring(equalsIdx + 1)),\n                    )\n                }\n            }\n        }\n\n        return Route.Match(route = this, routeParams = routeParams, queryParams = queryParams)\n    }\n\n    /**\n     * Builds a uri with the given [routeParams]\n     */\n    override fun buildUri(vararg routeParams: String): String =\n        routeParams.foldIndexed(\"#$pattern\") { idx, pattern, param ->\n            pattern.replacePlaceholder(placeholders[idx], param)\n        }\n\n    /**\n     * Builds a uri with the given [routeParams] and [queryParams]\n     */\n    override fun buildUri(routeParams: Map<String, String>, queryParams: Map<String, String>): String {\n\n        val withoutQuery = routeParams.entries.fold(\"#$pattern\") { pattern, entry ->\n            pattern.replacePlaceholder(entry.key, entry.value)\n        }\n\n        return when (queryParams.isEmpty()) {\n            true -> withoutQuery\n            else -> \"$withoutQuery?\" + queryParams\n                .map { \"${it.key}=${encodeURIComponent(it.value)}\" }.joinToString(\"&\")\n        }\n    }\n}\n\n\n/**\n * A static route is a route that does not have any route parameters\n */\nopen class Static(pattern: String) : RouteBase(pattern, 0) {\n    operator fun invoke() = buildUri()\n}\n\n/**\n * A parameterized route with one route parameter\n */\nopen class Route1(pattern: String) : RouteBase(pattern, 1) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String) = buildUri(p1)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route2(pattern: String) : RouteBase(pattern, 2) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String) = buildUri(p1, p2)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route3(pattern: String) : RouteBase(pattern, 3) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String, p3: String) = buildUri(p1, p2, p3)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route4(pattern: String) : RouteBase(pattern, 4) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String, p3: String, p4: String) = buildUri(p1, p2, p3, p4)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route5(pattern: String) : RouteBase(pattern, 5) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String, p3: String, p4: String, p5: String) = buildUri(p1, p2, p3, p4, p5)\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.onClick\nimport de.peekandpoke.kraft.messages.sendMessage\nimport de.peekandpoke.kraft.semanticui.noui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.*\nimport org.w3c.dom.HTMLElement\nimport org.w3c.dom.events.MouseEvent\n\n@Suppress(\"FunctionName\")\nfun <T> Tag.GenericFormField(\n    value: T,\n    onChange: (T) -> Unit,\n    options: FieldOptions<T>,\n) = comp(\n    GenericFormField.DefaultProps(\n        value = value,\n        onChange = onChange,\n        options = options,\n    )\n) {\n    GenericFormField(it)\n}\n\nopen class GenericFormField<T, O : FieldOptions<T>, P : GenericFormField.Props<T, O>>(ctx: Ctx<P>) :\n    Component<P>(ctx),\n    FormField<T> {\n\n    //  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    interface Props<T, O : FieldOptions<T>> {\n        val value: T\n        val onChange: (T) -> Unit\n        val options: O\n    }\n\n    data class DefaultProps<T, O : FieldOptions<T>>(\n        override val value: T,\n        override val onChange: (T) -> Unit,\n        override val options: O,\n    ) : Props<T, O>\n\n    val options: O get() = props.options\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    class InputValue<T>(val value: T)\n\n    override var touched by value(false)\n\n    override var errors: List<String> by value(emptyList())\n\n    private var inputValue: InputValue<T>? = null\n\n    val currentValue\n        get() = when (val input = inputValue) {\n            null -> props.value\n            else -> input.value\n        }\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun touch() {\n        touched = true\n    }\n\n    override fun untouch() {\n        touched = false\n    }\n\n    override fun validate(): Boolean {\n\n        if (touched) {\n            errors = props.options.rules\n                .filter { !it.check(currentValue) }\n                .map { it.getMessage(currentValue) }\n        }\n\n        return errors.isEmpty()\n    }\n\n    override fun onMount() {\n        sendMessage(FormFieldMountedMessage(this))\n    }\n\n    override fun onUnmount() {\n        sendMessage(FormFieldUnmountedMessage(this))\n    }\n\n    override fun VDom.render() {\n    }\n\n    fun focus(cssSelector: String) {\n        (dom?.querySelector(cssSelector) as? HTMLElement)?.focus()\n    }\n\n    fun setValue(value: T) {\n        touch()\n\n        inputValue = InputValue(value)\n\n        if (validate()) {\n            props.onChange(currentValue)\n        }\n    }\n\n    // Label Helpers\n\n    fun FlowContent.renderLabel(focusCssSelector: String? = null) {\n\n        renderLabel(\n            onClick = focusCssSelector?.let { sel ->\n                { focus(sel) }\n            }\n        )\n    }\n\n    fun FlowContent.renderLabel(onClick: ((evt: MouseEvent) -> Unit)? = null) {\n        options.label()?.let { l ->\n            noui Label {\n                l()\n\n                onClick?.let { on ->\n                    onClick { evt ->\n                        on(evt)\n                    }\n                }\n            }\n        }\n    }\n}\n","@file:Suppress(\"Detekt.TooManyFunctions\", \"unused\", \"UnsafeCastFromDynamic\")\n\npackage de.peekandpoke.kraft.components\n\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.js.*\nimport org.w3c.dom.events.*\n\n/**\n * Adds an onAnimationEnd handler.\n *\n * The event is raised when a css animation ends.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/animationend_event\n */\nfun CommonAttributeGroupFacade.onAnimationEnd(handler: (Event) -> Unit) {\n    consumer.onTagEvent(this, \"onanimationend\", handler.asDynamic())\n}\n\n/**\n * Adds an onBlur handler.\n *\n * This event does NOT bubble while [onFocusOut] does.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/blur_event\n */\nfun CommonAttributeGroupFacade.onBlur(handler: (Event) -> Unit) {\n    onBlurFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onChange handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/change_event\n */\nfun CommonAttributeGroupFacade.onChange(handler: (Event) -> Unit) {\n    onChangeFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onClick handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event\n */\nfun CommonAttributeGroupFacade.onClick(handler: (MouseEvent) -> Unit) {\n    onClickFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onClick handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/error_event\n */\nfun CommonAttributeGroupFacade.onError(handler: (Event) -> Unit) {\n    onErrorFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onFocus handler.\n *\n * This event does NOT bubble while [onFocusIn] does.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focus_event\n */\nfun CommonAttributeGroupFacade.onFocus(handler: (FocusEvent) -> Unit) {\n    onFocusFunction = handler.asDynamic()\n}\n\n/**\n * Add an onFocusIn handler.\n *\n * The event DOES bubble while [onFocus] does not.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focusin_event\n */\nfun CommonAttributeGroupFacade.onFocusIn(handler: (FocusEvent) -> Unit) {\n    onFocusInFunction = handler.asDynamic()\n}\n\n/**\n * Add an onFocusOut handler.\n *\n * This event DOES bubble while [onBlur] does not.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focusout_event\n */\nfun CommonAttributeGroupFacade.onFocusOut(handler: (FocusEvent) -> Unit) {\n    onFocusOutFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onInput handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event\n */\nfun CommonAttributeGroupFacade.onInput(handler: (InputEvent) -> Unit) {\n    onInputFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event\n */\nfun CommonAttributeGroupFacade.onKeyDown(handler: (KeyboardEvent) -> Unit) {\n    onKeyDownFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyPress handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keypress_event\n */\n@Deprecated(\"Use onKeyDown instead\", ReplaceWith(\"onKeyDown\"))\nfun CommonAttributeGroupFacade.onKeyPress(handler: (KeyboardEvent) -> Unit) {\n    onKeyPressFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyUp handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keyup_event\n */\nfun CommonAttributeGroupFacade.onKeyUp(handler: (KeyboardEvent) -> Unit) {\n    onKeyUpFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mousedown_event\n */\nfun CommonAttributeGroupFacade.onMouseDown(handler: (MouseEvent) -> Unit) {\n    onMouseDownFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event\n */\nfun CommonAttributeGroupFacade.onMouseEnter(handler: (MouseEvent) -> Unit) {\n    consumer.onTagEvent(this, \"onmouseenter\", handler.asDynamic())\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseleave_event\n */\nfun CommonAttributeGroupFacade.onMouseLeave(handler: (MouseEvent) -> Unit) {\n    consumer.onTagEvent(this, \"onmouseleave\", handler.asDynamic())\n}\n\n/**\n * Adds an onMouseMove handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mousemove_event\n */\nfun CommonAttributeGroupFacade.onMouseMove(handler: (MouseEvent) -> Unit) {\n    onMouseMoveFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseOver handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseover_event\n */\nfun CommonAttributeGroupFacade.onMouseOver(handler: (MouseEvent) -> Unit) {\n    onMouseOverFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseOut handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseout_event\n */\nfun CommonAttributeGroupFacade.onMouseOut(handler: (MouseEvent) -> Unit) {\n    onMouseOutFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseUp handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseup_event\n */\nfun CommonAttributeGroupFacade.onMouseUp(handler: (MouseEvent) -> Unit) {\n    onMouseUpFunction = handler.asDynamic()\n}\n\n/**\n * Add an onSelect handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/select_event\n */\nfun CommonAttributeGroupFacade.onSelect(handler: (InputEvent) -> Unit) {\n    onSelectFunction = handler.asDynamic()\n}\n\n/**\n * onSubmit handler\n */\nfun CommonAttributeGroupFacade.onSubmit(handler: (Event) -> Unit) {\n    onSubmitFunction = {\n        it.preventDefault()\n        handler(it.asDynamic())\n    }\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.messages.MessageBase\n\n\nclass FormFieldInputChanged<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n\nclass FormFieldMountedMessage<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n\nclass FormFieldUnmountedMessage<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Represent the route that is currently selected as active route by a [Router]\n */\ndata class ActiveRoute(\n    val uri: String,\n    val matchedRoute: Route.Match,\n    val mountedRoute: MountedRoute\n) {\n    /** Shortcut for getting the pattern of the route */\n    val pattern: String = matchedRoute.pattern\n\n    /** Shortcut for getting the route definition */\n    val route: Route = matchedRoute.route\n\n    /**\n     * Renders the content which is associated with the [mountedRoute]\n     */\n    fun render(flow: FlowContent) = mountedRoute.view(flow, matchedRoute)\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Represents a [Route] that is mounted by a [Router]\n *\n * The [middlewares] are called in order once this [route] is matched and is about to become the [ActiveRoute].\n *\n * The [view] is the displayable content associated with the [route]\n */\ndata class MountedRoute(\n    val route: Route,\n    val middlewares: List<RouterMiddleware>,\n    val view: FlowContent.(Route.Match) -> Unit\n) {\n    companion object {\n        val default = MountedRoute(Route.default, emptyList()) {}\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\nimport kotlinx.browser.window\nimport org.w3c.dom.events.Event\n\n/**\n * The Router\n */\nclass Router(private val mountedRoutes: List<MountedRoute>, private var enabled: Boolean) {\n\n    data class History(\n        val router: Router,\n        val entries: List<ActiveRoute>\n    ) {\n        val canGoBack: Boolean = entries.size > 1\n\n        fun navBack() {\n            router.navBack()\n        }\n    }\n\n    private val prefix = \"#\"\n\n    /** Writable stream with the current [ActiveRoute] */\n    private val _current = StreamSource(ActiveRoute(\"\", Route.Match.default, MountedRoute.default))\n\n    /** Public readonly stream with the current [ActiveRoute] */\n    val current: Stream<ActiveRoute> = _current\n\n    private val _historyEntries: MutableList<ActiveRoute> = mutableListOf()\n\n    private val _history = StreamSource(History(this, _historyEntries.toList()))\n    val history: Stream<History> = _history\n\n    init {\n        window.addEventListener(\"hashchange\", ::windowListener)\n\n        current.subscribeToStream {\n            _historyEntries.add(it)\n            _history(History(this, _historyEntries.toList()))\n        }\n    }\n\n    fun disable() {\n        enabled = false\n    }\n\n    fun enable() {\n        enabled = true\n    }\n\n    /**\n     * Navigates to the given uri.\n     */\n    fun navToUri(uri: String) {\n        if (window.location.hash != uri) {\n            window.location.hash = uri\n        } else {\n            resolveCurrentRoute()\n        }\n    }\n\n    /**\n     * Navigates to the [route] by filling in the given [routeParams] and [queryParams].\n     */\n    fun navToUri(route: Route, routeParams: Map<String, String>, queryParams: Map<String, String>) {\n        navToUri(\n            route.buildUri(routeParams = routeParams, queryParams = queryParams)\n        )\n    }\n\n    /**\n     * Navigates to the [route].\n     */\n    fun navToUri(route: Route.Match) {\n        navToUri(route = route.route, routeParams = route.routeParams, queryParams = route.queryParams)\n    }\n\n    /**\n     * Replaces the current uri with changing the history\n     */\n    fun replaceUri(uri: String) {\n\n        if (window.location.hash != uri) {\n            window.history.replaceState(\n                null,\n                \"\",\n                window.location.pathname + uri\n            )\n            // Remove the last from the history\n            _historyEntries.removeLast()\n            // Resolve the next route\n            resolveCurrentRoute()\n        }\n    }\n\n    /**\n     * Replaces the current uri without changing the browser history.\n     */\n    fun replaceUri(route: Route, routeParams: Map<String, String>, queryParams: Map<String, String>) {\n        replaceUri(\n            route.buildUri(routeParams = routeParams, queryParams = queryParams)\n        )\n    }\n\n    /**\n     * Replaces the current uri without changing the browser history.\n     */\n    fun replaceUri(route: Route.Match) {\n        replaceUri(\n            route.route, routeParams = route.routeParams, queryParams = route.queryParams\n        )\n    }\n\n    /**\n     * Navigates to the given uri while clearing the navigation history.\n     */\n    fun clearHistoryAndNavTo(uri: String) {\n        _historyEntries.clear()\n        navToUri(uri)\n    }\n\n    /**\n     * Navigates to the previous route, when this is possible.\n     */\n    fun navBack() {\n        if (history().canGoBack) {\n            // remove the current active route\n            _historyEntries.removeLast()\n            // remove the previous active route and go back to it\n            navToUri(_historyEntries.removeLast().uri)\n        }\n    }\n\n    /**\n     * Tries to resolve the next [ActiveRoute] by looking at the browser current location.\n     *\n     * If a route is resolved then the [current] stream will be updated.\n     */\n    fun resolveCurrentRoute() {\n        // get the location from the browser\n        val location = window.location.hash.removePrefix(prefix)\n\n        // Go through all routes and try to find the first one that matches the current location\n        val resolved = mountedRoutes.asSequence()\n            // Find matches\n            .map { mounted -> mounted.route.match(location)?.let { mounted to it } }\n            // Skip all that did not match\n            .filterNotNull()\n            // Get the first match, if there is any\n            .firstOrNull()\n\n        if (resolved == null) {\n            console.error(\"Could not resolve route: $location\")\n        }\n\n        resolved?.let { (mounted, match) ->\n            // Create a context for the router middlewares\n            val ctx = RouterMiddlewareContext(this, match.route)\n            // Call all the middlewares\n            mounted.middlewares.forEach { it(ctx) }\n\n            // Do we have a redirect ?\n            when (val redirect = ctx.redirectToUri) {\n                null -> {\n                    // Notify all subscribers that the active route has changed\n                    _current(ActiveRoute(location, match, mounted))\n                }\n                else -> {\n                    // Yes so let's go to the redirect\n                    navToUri(redirect)\n                }\n            }\n        }\n    }\n\n    /**\n     * Private listener for the \"hashchange\" event\n     */\n    private fun windowListener(event: Event) {\n        if (enabled) {\n            event.preventDefault()\n\n            resolveCurrentRoute()\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Helper class for building a [Router]\n */\nclass RouterBuilder {\n\n    private var enabled = true\n\n    private val mounted = mutableListOf<MountedRoute>()\n\n    private val middlewares = mutableListOf<RouterMiddleware>()\n\n    fun build() = Router(mounted.toList(), enabled)\n\n    /**\n     * Creates a router that is enabled from the beginning\n     */\n    fun enable() {\n        enabled = true\n    }\n\n    /**\n     * Creates a router that is disabled from the beginning\n     */\n    fun disabled() {\n        enabled = false\n    }\n\n    /**\n     * Mounts a [route] and associates it with the given [view].\n     *\n     * The route is mounted with all [middlewares] that are defined in the current scope.\n     */\n    fun mount(route: Route, view: FlowContent.(Route.Match) -> Unit) {\n        mounted.add(\n            MountedRoute(route, middlewares.toList(), view)\n        )\n    }\n\n    /**\n     * Uses one or multiple [RouterMiddleware]s.\n     *\n     * All routes the are mounted inside of the [scope] will be using the given [wares].\n     *\n     * The [using] function can be nested\n     */\n    fun using(vararg wares: RouterMiddleware, scope: RouterBuilder.() -> Unit) {\n        // add them all to the scope\n        middlewares.addAll(wares)\n        // run the scope\n        scope()\n        // remove all middlewares from the scope\n        repeat(wares.size) { middlewares.removeLast() }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.key\nimport de.peekandpoke.kraft.streams.addons.distinct\nimport de.peekandpoke.kraft.streams.addons.map\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.window\nimport kotlinx.html.Tag\nimport kotlinx.html.div\n\n/**\n * The router component displays the view that is associated with the [ActiveRoute] of the given [Router]\n */\n@Suppress(\"FunctionName\")\nfun Tag.RouterComponent(router: Router) = comp(RouterComponent.Props(router)) {\n    RouterComponent(it)\n}\n\nclass RouterComponent internal constructor(ctx: Ctx<Props>) : Component<RouterComponent.Props>(ctx) {\n\n    data class Props(\n        val router: Router\n    )\n\n    ////  STATE  ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private val current: ActiveRoute by subscribingTo(props.router.current)\n\n    private val currentUri: String by subscribingTo(\n        props.router.current\n            .map { it.uri.split(\"?\").firstOrNull() ?: \"\" }\n            .distinct()\n    ) {\n        scrollUp()\n    }\n\n    ////  IMPL  ////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private fun scrollUp() {\n        dom?.let {\n            window.scrollTo(0.0, 0.0)\n        }\n    }\n\n    override fun VDom.render() {\n        div(classes = \"router\") {\n            // We define a key, so that the VDomEngine does a full redraw of the content, when the matched route changes\n            key = currentUri\n\n            current.render(this)\n        }\n    }\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamWrapper\n\n/**\n * Ignores duplicate values and thus only publishes when the value has changed.\n *\n * By default, the comparison between the previous and current value is not strict ==.\n * You can set [strict] to true to use strict === comparison\n */\nfun <T> Stream<T>.distinct(strict: Boolean = false): Stream<T> =\n    StreamDistinctOperator(wrapped = this, strict = strict)\n\n/**\n * Ignores duplicate values and thus only publishes when the value has changed.\n *\n * The comparison between the previous and current value is NOT strict, using ==.\n */\nfun <T> Stream<T>.distinct(): Stream<T> =\n    StreamDistinctOperator(wrapped = this, strict = false)\n\n/**\n * Ignores duplicate values and thus only publishes when the value has changed.\n *\n * The comparison between the previous and current value IS strict, using ===.\n */\nfun <T> Stream<T>.distinctStrict(): Stream<T> =\n    StreamDistinctOperator(wrapped = this, strict = true)\n\n/**\n * Operator impl\n */\nprivate class StreamDistinctOperator<T>(\n    wrapped: Stream<T>,\n    private val strict: Boolean,\n) : StreamWrapper<T>(wrapped = wrapped) {\n\n    private var latest: T = wrapped()\n\n    override fun invoke(): T = latest\n\n    override fun handleIncoming(value: T) {\n\n        val accept = when (strict) {\n            true -> value !== latest\n            else -> value != latest\n        }\n\n        latest = value\n\n        if (accept) {\n            super.handleIncoming(value)\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\n/**\n * A [RouterMiddleware] is just a function with [RouterMiddlewareContext] as the receiver\n */\ntypealias RouterMiddleware = RouterMiddlewareContext.() -> Unit\n\n/**\n * Helper for defining a router middleware\n */\nfun routerMiddleware(func: RouterMiddleware): RouterMiddleware = func\n\n/**\n * The context for all middle wares\n */\nclass RouterMiddlewareContext(\n    val router: Router,\n    val route: Route,\n) {\n    var redirectToUri: String? = null\n        private set\n\n    fun redirectTo(uri: String) {\n        redirectToUri = uri\n    }\n}\n",null,"package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.FieldOptions\nimport de.peekandpoke.kraft.addons.forms.GenericFormField\nimport de.peekandpoke.kraft.addons.forms.KraftFormsDsl\nimport de.peekandpoke.kraft.addons.forms.TextAreaOptions\nimport de.peekandpoke.kraft.addons.semanticui.forms.UiTextAreaComponent.Options\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.onInput\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.window\nimport kotlinx.css.Overflow\nimport kotlinx.css.maxHeight\nimport kotlinx.css.overflowY\nimport kotlinx.css.vh\nimport kotlinx.html.TEXTAREA\nimport kotlinx.html.Tag\nimport kotlinx.html.textArea\nimport org.w3c.dom.HTMLTextAreaElement\n\n@Suppress(\"FunctionName\")\n@KraftFormsDsl\nfun Tag.UiTextArea(\n    value: String,\n    onChange: (String) -> Unit,\n    builder: Options.() -> Unit = {},\n) = comp(\n    UiTextAreaComponent.Props(\n        value = value,\n        onChange = onChange,\n        options = Options().apply(builder),\n    )\n) {\n    UiTextAreaComponent(it)\n}\n\nclass UiTextAreaComponent(ctx: Ctx<Props>) :\n    GenericFormField<String, Options, UiTextAreaComponent.Props>(ctx) {\n\n    class Options : FieldOptions.Base<String>(), TextAreaOptions<String>, SemanticOptions<String>\n\n    data class Props(\n        override val value: String,\n        override val onChange: (String) -> Unit,\n        override val options: Options,\n    ) : GenericFormField.Props<String, Options>\n\n    override fun onMount() {\n        super.onMount()\n\n        options.autofocusValue()?.takeIf { it }?.let {\n            focus(\"textarea\")\n        }\n    }\n\n    private val isVerticalAutoResize get() = options.verticalAutoResize.getOrDefault(true)\n\n    override fun VDom.render() {\n        ui.with(options.appear.getOrDefault { this }).given(hasErrors) { error }.field {\n\n            renderLabel(\"textarea\")\n\n            textArea {\n                css {\n                    maxHeight = 50.vh\n                    overflowY = Overflow.auto\n                }\n\n                applyAll()\n\n                +currentValue\n            }\n\n            renderErrors(this)\n        }\n\n        // Apply automatic vertical resize\n        if (isVerticalAutoResize) {\n            window.requestAnimationFrame {\n                val textarea = dom?.querySelector(\"textarea\") as? HTMLTextAreaElement\n\n                textarea?.let { t ->\n                    t.style.height = \"auto\"\n                    t.style.height = \"${t.scrollHeight + 2}px\"\n                }\n            }\n        }\n    }\n\n    fun TEXTAREA.applyAll() {\n        track()\n\n        applyName()\n        applyPlaceholder()\n    }\n\n    fun TEXTAREA.track() {\n        onInput {\n            val target = it.target as HTMLTextAreaElement\n\n//            if (options.verticalAutoResize() == true) {\n//                target.style.height = \"auto\"\n//                target.style.height = \"${target.scrollHeight + 6}px\"\n//            }\n\n            setValue(target.value)\n        }\n    }\n\n    private fun TEXTAREA.applyName() {\n        options.placeholder()?.let { name = it }\n    }\n\n    private fun TEXTAREA.applyPlaceholder() {\n        options.placeholder()?.takeIf { it.isNotBlank() }?.let {\n            placeholder = it\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.FormField\nimport de.peekandpoke.kraft.semanticui.ui\nimport kotlinx.html.FlowContent\n\nfun <P> FormField<P>.renderErrors(flow: FlowContent) {\n    renderErrors(this, flow)\n}\n\nfun <P> renderErrors(field: FormField<P>, flow: FlowContent) {\n    flow.apply {\n        if (field.touched) {\n            field.errors.filter { it.isNotBlank() }.forEach { error ->\n                ui.basic.red.pointing.label { +error }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.CheckboxOptions\nimport de.peekandpoke.kraft.addons.forms.FieldOptions\nimport de.peekandpoke.kraft.addons.forms.InputOptions\nimport de.peekandpoke.kraft.addons.forms.KraftFormsSettingDsl\nimport de.peekandpoke.kraft.components.onClick\nimport de.peekandpoke.kraft.semanticui.*\nimport de.peekandpoke.ultra.common.TypedKey\nimport kotlinx.html.DIV\nimport kotlinx.html.InputType\n\ninterface SemanticOptions<T> : FieldOptions<T> {\n\n    companion object {\n        val appearKey = TypedKey<SemanticFn>(\"appear\")\n    }\n\n    interface Checkbox<T> : CheckboxOptions<T> {\n\n        companion object {\n            val styleKey = TypedKey<SemanticFn>(\"style\")\n        }\n\n        @KraftFormsSettingDsl\n        val style get() = access(styleKey)\n\n        @KraftFormsSettingDsl\n        fun toggle() {\n            style { toggle }\n        }\n\n        @KraftFormsSettingDsl\n        fun slider() {\n            style { slider }\n        }\n    }\n\n    interface Input<T> : InputOptions<T> {\n        companion object {\n            val wrapFieldWithKey = TypedKey<SemanticFn>(\"wrap-field-with\")\n            val beforeFieldKey = TypedKey<DIV.(UiInputFieldComponent<*, *>) -> Unit>(\"before-field\")\n            val afterFieldKey = TypedKey<DIV.(UiInputFieldComponent<*, *>) -> Unit>(\"after-field\")\n        }\n\n        @JsName(\"rightIcon\")\n        @KraftFormsSettingDsl\n        fun rightIcon(iconFn: SemanticIconFn) {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = { icon.iconFn().invoke() }\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"clearingRightIcon\")\n        @KraftFormsSettingDsl\n        fun rightClearingIcon(iconFn: SemanticIconFn = { grey.times }) {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = {\n                icon.link.iconFn().invoke {\n                    onClick { _ ->\n                        it.setInput(\"\")\n                        it.focus(\"input\")\n                    }\n                }\n            }\n\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"revealRevealPasswordIcon\")\n        @KraftFormsSettingDsl\n        fun revealRevealPasswordIcon() {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = {\n\n                val type = it.effectiveType ?: InputType.password\n\n                val iconFn = when (type) {\n                    InputType.password -> semanticIcon { eye_outline }\n                    else -> semanticIcon { eye_slash_outline }\n                }\n\n                icon.link.iconFn().invoke {\n                    onClick { _ ->\n                        it.typeOverride = when (type) {\n                            InputType.password -> InputType.text\n                            else -> InputType.password\n                        }\n                    }\n                }\n            }\n\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"leftIcon\")\n        @KraftFormsSettingDsl\n        fun leftIcon(iconFn: SemanticIconFn) {\n            attributes[wrapFieldWithKey] = semantic { left.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = { icon.iconFn().invoke() }\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"rightLabel\")\n        @KraftFormsSettingDsl\n        fun rightLabel(labelFn: DIV.(UiInputFieldComponent<T, *>) -> Unit) {\n            attributes[wrapFieldWithKey] = semantic { right.labeled.input }\n\n            @Suppress(\"UNCHECKED_CAST\")\n            attributes[afterFieldKey] = labelFn as DIV.(UiInputFieldComponent<*, *>) -> Unit\n        }\n\n        @JsName(\"leftLabel\")\n        @KraftFormsSettingDsl\n        fun leftLabel(labelFn: DIV.(UiInputFieldComponent<T, *>) -> Unit) {\n            attributes[wrapFieldWithKey] = semantic { left.labeled.input }\n\n            @Suppress(\"UNCHECKED_CAST\")\n            attributes[beforeFieldKey] = labelFn as DIV.(UiInputFieldComponent<*, *>) -> Unit\n        }\n\n        @KraftFormsSettingDsl\n        fun wrapFieldWith(): (SemanticTag.() -> SemanticTag)? = attributes[wrapFieldWithKey]\n\n        @KraftFormsSettingDsl\n        fun renderBeforeField(): (DIV.(UiInputFieldComponent<*, *>) -> Unit)? = attributes[beforeFieldKey]\n\n        @KraftFormsSettingDsl\n        fun renderAfterField(): (DIV.(UiInputFieldComponent<*, *>) -> Unit)? = attributes[afterFieldKey]\n    }\n\n    @KraftFormsSettingDsl\n    val appear get() = access(appearKey)\n}\n\n","package de.peekandpoke.kraft.addons.styling\n\nimport kotlinx.css.CssBuilder\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.style\n\ndata class InlineStyle(val css: String)\n\nfun inlineStyle(block: CssBuilder.() -> Unit): InlineStyle = InlineStyle(CssBuilder().apply(block).toString())\n\nfun CommonAttributeGroupFacade.css(block: CssBuilder.() -> Unit) = css(CssBuilder().apply(block))\n\nfun CommonAttributeGroupFacade.css(builder: CssBuilder) {\n    style = builder.toString()\n}\n\nfun CommonAttributeGroupFacade.css(css: InlineStyle) {\n    style = css.css\n}\n\n","package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.components.state.ComponentStateProperty\nimport de.peekandpoke.kraft.components.state.ComponentStreamProperty\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\nimport de.peekandpoke.kraft.streams.Unsubscribe\nimport de.peekandpoke.kraft.utils.launch\nimport de.peekandpoke.kraft.vdom.VDom\nimport de.peekandpoke.kraft.vdom.VDomEngine\nimport de.peekandpoke.ultra.common.MutableTypedAttributes\nimport kotlinx.coroutines.delay\nimport org.w3c.dom.HTMLElement\nimport kotlin.properties.ReadOnlyProperty\n\n/**\n * Base class of all Components\n */\n@Suppress(\"FunctionName\", \"Detekt.TooManyFunctions\")\nabstract class Component<PROPS>(val ctx: Ctx<PROPS>) {\n\n    /** The attributes of the component */\n    val attributes: MutableTypedAttributes = MutableTypedAttributes.empty()\n\n    /** Accessor for the parent component */\n    val parent: Component<*>? get() = _parent\n\n    /** Public getter for the Props */\n    val props: PROPS get() = _props\n\n    /** The Dom node to which the component is rendered */\n    val dom: HTMLElement? get() = _dom\n\n    /** Pointer to the low level bridge Component for example for Preact */\n    internal var lowLevelBridgeComponent: Any? = null\n\n    /** Backing field for the [parent] */\n    private var _parent: Component<*>? = ctx.parent\n\n    /** Backing field for the [props] */\n    private var _props: PROPS = ctx.props\n\n    /** Backing field for the [dom] */\n    private var _dom: HTMLElement? = null\n\n    /** Flag indicating if the component needs to be redrawn */\n    private var needsRedraw = true\n\n    /** Render cache with the last render result */\n    private var renderCache: dynamic = null\n\n    /** A list of stream unsubscribe functions. Will be called when the component is removed */\n    private val unSubscribers = mutableListOf<Unsubscribe>()\n\n    /** Map of state values of any kind */\n    internal val internalData = mutableMapOf<String, Any?>()\n\n    /**\n     * Every component needs to implement this method\n     */\n    abstract fun VDom.render()\n\n    //  Life-cycle hooks  /////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Called when the component is mounted\n     */\n    open fun onMount() {\n    }\n\n    /**\n     * Called when the dom was updated. This is called after the render cycle.\n     */\n    open fun onUpdate() {\n    }\n\n    /**\n     * Called when the component was removed from the dom\n     */\n    open fun onUnmount() {\n    }\n\n    /**\n     * Called when the component is about to receive new props.\n     *\n     * This function is only called when shouldRedraw(nextProps) returns true.\n     *\n     * @param newProps      The new props the component just received\n     * @param previousProps The previous props the component had\n     */\n    open fun onNextProps(newProps: PROPS, previousProps: PROPS) {\n        // noop\n    }\n\n    /**\n     * Returns 'true' when the component should redraw.\n     *\n     * By default, returns [props] != [nextProps]\n     */\n    open fun shouldRedraw(nextProps: PROPS): Boolean {\n//        console.log(\"nextProps\", this, nextProps, props, nextProps != props)\n        return props != nextProps\n    }\n\n    /**\n     * Triggers a redraw\n     */\n    fun triggerRedraw() {\n        if (needsRedraw) {\n            return\n        }\n\n        needsRedraw = true\n\n        ctx.engine.triggerRedraw(this)\n    }\n\n    //  Stream Helpers  ///////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Subscribes to a [Stream].\n     *\n     * When the components is destroyed, the subscription will be unsubscribed automatically.\n     */\n    operator fun <T> Stream<T>.invoke(handler: (T) -> Unit): () -> Unit {\n\n        return this.subscribeToStream(handler).apply {\n            unSubscribers.add(this)\n        }\n    }\n\n    /**\n     * Subscribes to a [Stream].\n     *\n     * When the components is destroyed, the subscription will be unsubscribed automatically.\n     */\n    internal fun <T> Stream<T>.subscribe(handler: (T) -> Unit): () -> Unit = this(handler)\n\n    //  State Helpers  ///////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a read write property for the components state.\n     *\n     * When the value of the property is changed the component will redraw itself.\n     *\n     * @param initial  The initial value of the property\n     * @param onChange Callback to be called when the value has changed\n     */\n    fun <T> value(initial: T, onChange: ((T) -> Unit)? = null): ComponentStateProperty<T> {\n\n        return ComponentStateProperty(\n            component = this,\n            initialValue = initial,\n            onChange = onChange\n        )\n    }\n\n    /**\n     * Creates a property that is subscribed to a stream.\n     *\n     * The property will always contain the current value of the stream.\n     * When a new value is received from the stream the component redraws itself.\n     *\n     * @param stream The stream to subscribe to.\n     */\n    fun <T> subscribingTo(stream: Stream<T>, onNext: ((T) -> Unit)? = null): ReadOnlyProperty<Any?, T> {\n\n        var first = true\n\n        stream {\n\n            // The first value will be received right away.\n            // This can lead to situations where the [onNext] callback tries to use the property right away.\n            // But the property is not yet initialized and a very cryptic null pointer errors will arise.\n            // To work around this, we hold the first value back, because the property will be initialized properly.\n            if (first) {\n                first = false\n\n                launch {\n                    delay(1)\n                    // notify about the change and trigger redraw\n                    onNext?.invoke(it)\n                    // redraw the component\n                    triggerRedraw()\n                }\n            } else {\n                // notify about the change and trigger redraw\n                onNext?.invoke(it)\n                // redraw the component\n                triggerRedraw()\n            }\n        }\n\n        return ReadOnlyProperty { _, _ -> stream() }\n    }\n\n    /**\n     * Creates a property that is backed by a [StreamSource]\n     *\n     * When ever a value is written to the property it will also by passed into the stream.\n     * The stream will be configured using [config] and will be then be subscribed to.\n     *\n     * This way we can implement e.g. debouncing of input values, for example:\n     *\n     * ```\n     * private var search by stream(\"\", { debounce(300) }) { reload() }\n     * ```\n     *\n     * @param initial The initial value\n     * @param config  Configures the stream before subscribing to it\n     * @param handler Handler for values published by the stream\n     */\n    fun <T> stream(\n        initial: T,\n        config: (Stream<T>.() -> Stream<T>)? = null,\n        handler: (T) -> Unit = {}\n    ): ComponentStreamProperty<T> {\n\n        val stream = StreamSource(initial)\n\n        // Configure the stream, subscribe and invoke the handler with all new values\n        val configured = when (config) {\n            null -> stream\n            else -> stream.config()\n        }\n\n        // Subscribe to the configured stream.\n        // NOTICE: little hack here with \"launch\", to prevent the value being published twice.\n        launch {\n            delay(1)\n            configured { handler(it) }\n        }\n\n        return ComponentStreamProperty(component = this, stream = stream)\n    }\n\n    //  Ref Helpers  /////////////////////////////////////////////////////////////////////////////////////////////////\n\n    fun <C : Component<*>> createRef() = ComponentRef.Tracker<C>()\n\n    //  Internal functions  //////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Internal function for setting the [dom] element of the component\n     */\n    private fun _setDom(dom: HTMLElement?) {\n        this._dom = dom\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component is about to be rendered.\n     *\n     * Return 'true' when the component needs a re-draw.\n     *\n     * The [newCtx] contains the next set of [PROPS]. These are passed to [shouldRedraw].\n     */\n    internal fun _internalShouldComponentUpdate(newCtx: Ctx<PROPS>): Boolean {\n\n        if (shouldRedraw(newCtx.props)) {\n            needsRedraw = true\n        }\n\n        val previousProps = _props\n\n        _props = newCtx.props\n        _parent = newCtx.parent\n\n        onNextProps(_props, previousProps)\n\n        return needsRedraw\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component was mounted.\n     */\n    internal fun _internalOnMount(dom: HTMLElement?) {\n        _setDom(dom)\n        onMount()\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component was updated.\n     */\n    internal fun _internalOnUpdate(dom: HTMLElement?) {\n        _setDom(dom)\n        onUpdate()\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component is removed from the DOM.\n     *\n     * Unsubscribes all async listeners.\n     * Calls [onUnmount] on the component.\n     * Clears the [dom] reference.\n     */\n    internal fun _internalOnUnmount() {\n        // unsubscribe from all stream subscriptions\n        unSubscribers.forEach { it() }\n\n        onUnmount()\n\n        _setDom(null)\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] to render the component.\n     *\n     * This method checks for [needsRedraw].\n     * When 'true' then [render] method of the component is called and the result is put into the [renderCache].\n     * When 'false' the [render] method is not called and the [renderCache] is returned.\n     */\n    internal fun _internalRender(): dynamic {\n        if (!needsRedraw) {\n            return renderCache\n        }\n\n        needsRedraw = false\n\n//        console.log(\"rendering component\", this)\n\n        renderCache = ctx.engine.render(this) { render() }\n\n        return renderCache\n    }\n}\n","package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.vdom.VDomEngine\n\ntypealias NoProps = Ctx<Any?>\n\ndata class Ctx<out PROPS>(\n    val engine: VDomEngine,\n    val parent: Component<*>?,\n    val props: PROPS\n) {\n    companion object {\n        fun of(engine: VDomEngine) = Ctx(engine, null, null)\n    }\n}\n","package de.peekandpoke.kraft.components\n\n/**\n * Base component that has no props and no state\n */\nabstract class PureComponent(ctx: NoProps) : Component<Any?>(ctx)\n","package de.peekandpoke.kraft.components.state\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.utils.launch\nimport kotlin.properties.ObservableProperty\nimport kotlin.reflect.KProperty\n\nclass ComponentStateProperty<T>(\n    private val component: Component<*>,\n    private val initialValue: T,\n    private val onChange: ((T) -> Unit)? = null,\n) : ObservableProperty<T>(initialValue) {\n\n    override fun afterChange(property: KProperty<*>, oldValue: T, newValue: T) {\n        if (oldValue != newValue) {\n            // notify about the change and trigger redraw\n            onChange?.invoke(newValue)\n            // force the component to redraw\n            component.triggerRedraw()\n        }\n    }\n\n    infix fun setupBy(block: suspend () -> Unit): ComponentStateProperty<T> = apply {\n        launch { block() }\n    }\n\n    infix fun onChange(onChange: (T) -> Unit): ComponentStateProperty<T> =\n        ComponentStateProperty(component = component, initialValue = initialValue, onChange = onChange)\n}\n","package de.peekandpoke.kraft.messages\n\n/**\n * Base impl for [Message].\n */\nabstract class MessageBase<S>(override val sender: S) : Message<S> {\n    /** Property indicating if the propagation of the message was stopped */\n    override val isStopped get() = _isStopped\n\n    /** Backing field for isStopped */\n    private var _isStopped = false\n\n    /** Stops the event from propagation */\n    fun stop() {\n        _isStopped = true\n    }\n}\n\n","package de.peekandpoke.kraft.messages\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\n\nclass MessagesHandler {\n    private val _stream = StreamSource<Message<*>?>(null)\n\n    val stream: Stream<Message<*>?> = _stream\n\n    fun send(message: Message<*>) {\n        _stream(message)\n    }\n}\n","package de.peekandpoke.kraft.messages\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.ultra.common.TypedKey\n\n/**\n * The key used to store the [MessagesHandler] on the components properties\n */\nprivate val MessagesKey = TypedKey<MessagesHandler>(\"messages\")\n\n/**\n * Get the [MessagesHandler] for the [Component]\n */\nval Component<*>.messages: MessagesHandler\n    get() = attributes.getOrPut(MessagesKey) {\n        MessagesHandler()\n    }\n\n/**\n * Listens for a [Message] of the given type [M].\n */\ninline fun <reified M : Message<*>> Component<*>.onMessage(noinline handler: (M) -> Unit) {\n    messages.stream { next ->\n        next?.let {\n            (next as? M)?.let {\n                handler(it)\n            }\n        }\n    }\n}\n\n/**\n * Send the given [message].\n */\nfun <M : Message<*>> Component<*>.sendMessage(message: M) {\n\n    // We do not dispatch the message on the component that sent it\n    if (message.sender != this) {\n        messages.send(message)\n    } else {\n        // but we will trigger a re-draw\n        triggerRedraw()\n    }\n\n    // Continue with the parent if the message was not stopped\n    if (!message.isStopped) {\n        parent?.sendMessage(message)\n    }\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for stream wrappers that map the value type from [WRAPPED] to [RESULT]\n *\n * @param WRAPPED The value type of the wrapped stream\n * @param RESULT  The value type of the resulting stream\n */\nopen class StreamMapper<WRAPPED, RESULT>(\n    /** The wrapped stream */\n    private val wrapped: Stream<WRAPPED>,\n    /** Maps the value of the [wrapped] stream to the result ([WRAPPED] to [RESULT]) */\n    private val mapper: (WRAPPED) -> RESULT,\n    /** Calculates the initial value */\n    private val initial: () -> RESULT = { mapper(wrapped()) }\n) : StreamWrapperBase<WRAPPED, RESULT>(\n    wrapped = wrapped\n) {\n    private var latest: RESULT? = null\n\n    override fun invoke(): RESULT = latest ?: initial().also { latest = it }\n\n    override fun handleIncoming(value: WRAPPED) {\n        mapper(value)?.let {\n            latest = it\n            publish(it)\n        }\n    }\n}\n","package de.peekandpoke.kraft.streams\n\nopen class StreamSourceImpl<T>(initialValue: T) : StreamSource<T> {\n\n    /**\n     * The current value of the stream\n     */\n    protected var current: T = initialValue\n\n    /**\n     * All subscriptions to the stream\n     */\n    override val subscriptions: MutableSet<(T) -> Unit> = mutableSetOf()\n\n    /**\n     * @see StreamSource.invoke\n     */\n    override operator fun invoke(): T = current\n\n    /**\n     * @see StreamSource.invoke\n     */\n    override operator fun invoke(next: T) {\n        current = next\n        subscriptions.forEach { it(current) }\n    }\n\n    /**\n     * @see StreamSource.subscribeToStream\n     */\n    override fun subscribeToStream(sub: StreamHandler<T>): Unsubscribe {\n        this.subscriptions.add(sub)\n\n        onSub()\n\n        sub(current)\n\n        return {\n            subscriptions.remove(sub)\n            onUnSub()\n        }\n    }\n\n    /**\n     * @see StreamSource.removeAllSubscriptions\n     */\n    override fun removeAllSubscriptions() {\n        this.subscriptions.clear()\n    }\n\n    /**\n     * Hook called when a subscription was added\n     */\n    protected open fun onSub() {}\n\n    /**\n     * Hook called when a subscription was unsubscribed\n     */\n    protected open fun onUnSub() {}\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for stream wrappers that keep the value type\n *\n * @param [wrapped] The wrapped stream\n */\nabstract class StreamWrapper<T>(private val wrapped: Stream<T>) : StreamWrapperBase<T, T>(\n    wrapped = wrapped\n) {\n    override fun invoke(): T = wrapped()\n\n    override fun handleIncoming(value: T): Unit = publish(value)\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for all stream wrappers\n */\nabstract class StreamWrapperBase<WRAPPED, RESULT>(\n    /** The wrapped stream */\n    private val wrapped: Stream<WRAPPED>,\n) : Stream<RESULT> {\n\n    /** Unsubscribe function for the subscription on the wrapped stream */\n    private var wrappedUnsubscribe: Unsubscribe? = null\n\n    /** All subscriptions to this stream */\n    private val subscriptions = mutableSetOf<StreamHandler<RESULT>>()\n\n    /**\n     * Handles the next incoming value of the wrapped stream\n     */\n    protected abstract fun handleIncoming(value: WRAPPED)\n\n    /**\n     * Adds a subscription to the stream.\n     *\n     * On subscribing the subscription is immediately called with the current value.\n     *\n     * Returns an unsubscribe function. Calling this function unsubscribes from the stream.\n     *\n     * NOTICE: It is the callers' obligation to unsubscribe from the stream.\n     */\n    override fun subscribeToStream(sub: StreamHandler<RESULT>): Unsubscribe {\n\n        // Subscribe to the wrapped stream if necessary\n        if (wrappedUnsubscribe == null) {\n            // console.log(\"Subscribing to wrapped\")\n\n            wrappedUnsubscribe = wrapped.subscribeToStream {\n                handleIncoming(it)\n            }\n        }\n\n        this.subscriptions.add(sub)\n\n        sub(invoke())\n\n        return {\n            subscriptions.remove(sub)\n\n            // Unsubscribe from the wrapped stream if necessary\n            if (subscriptions.isEmpty()) {\n                // console.log(\"Un-Subscribing from wrapped\")\n\n                wrappedUnsubscribe?.invoke()\n                wrappedUnsubscribe = null\n            }\n        }\n    }\n\n    /**\n     * Publishes the next value\n     */\n    protected fun publish(value: RESULT) {\n        subscriptions.forEach { it(value) }\n    }\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamMapper\n\n/**\n * Maps incoming values from type [IN] to type [OUT].\n */\nfun <IN, OUT> Stream<IN>.map(mapper: (IN) -> OUT): Stream<OUT> {\n    return StreamMapper(this, mapper)\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSourceImpl\nimport kotlinx.browser.window\nimport kotlin.js.Date\nimport kotlin.math.round\n\nfun ticker(intervalMs: Int): Stream<Long> = Ticker(intervalMs)\n\ninternal class Ticker(\n    private val intervalMs: Int = 1000,\n) : StreamSourceImpl<Long>(0) {\n\n    private val start = Date.now()\n\n    private var interval: Int? = null\n\n    override fun onSub() {\n        if (interval == null) {\n            interval = window.setInterval(::handler, intervalMs)\n        }\n    }\n\n    override fun onUnSub() {\n        if (subscriptions.isEmpty() && interval != null) {\n            window.clearInterval(interval!!)\n            interval = null\n        }\n    }\n\n    private fun handler() {\n        val now = Date.now()\n\n        val counter = round((now - start) / intervalMs).toLong()\n\n        this.invoke(counter)\n    }\n}\n","package de.peekandpoke.kraft.utils\n\nimport kotlinx.coroutines.*\n\nprivate val scopeJob = SupervisorJob()\n\nprivate val scope = CoroutineScope(scopeJob)\n\nfun <T : Any?> launch(block: suspend () -> T) {\n    scope.launch {\n        block()\n    }\n}\n\nfun <T : Any?> async(block: suspend () -> T): Deferred<T> {\n    return scope.async {\n        block()\n    }\n}\n","package de.peekandpoke.kraft.utils\n\nimport kotlinx.js.Object\n\nfun jsIsObject(o: dynamic): Boolean = jsTypeOf(o) == \"object\"\n\n@Suppress(\"UNUSED_PARAMETER\")\nfun jsIsArray(o: dynamic): Boolean = js(\"(Array.isArray(o))\") as Boolean\n\nfun jsObject(): dynamic = js(\"({})\")\nfun jsArray(): dynamic = js(\"([])\")\n\nfun <T> jsObject(block: T.() -> Unit): T {\n    @Suppress(\"UNCHECKED_CAST\")\n    val obj = jsObject() as T\n    block(obj)\n    return obj\n}\n\nfun jsObjectOf(vararg pairs: Pair<String, dynamic>): dynamic {\n    val obj = jsObject()\n\n    pairs.forEach { (k, v) -> obj[k] = v }\n\n    return obj\n}\n\nfun jsObjectToMap(obj: dynamic): Map<String, Any?> {\n    return Object.keys(obj as Any)\n        .associateWith { jsToKotlin(obj[it]) }\n}\n\nfun jsArrayToList(arr: dynamic): List<Any?> {\n    val result = mutableListOf<Any?>()\n\n    arr.forEach { item ->\n        result.add(jsToKotlin(item))\n    }\n\n    return result.toList()\n}\n\nfun jsToKotlin(it: dynamic): Any? {\n    if (it == null) {\n        return null\n    }\n\n    if (jsIsArray(it)) {\n        return jsArrayToList(it)\n    }\n\n    if (jsIsObject(it)) {\n        return jsObjectToMap(it)\n    }\n\n    @Suppress(\"UnsafeCastFromDynamic\")\n    return it\n}\n\n/**\n * Converts a map to a raw javascript object\n */\nval <T> Map<String, T>.js\n    get() : dynamic {\n        val obj = jsObject()\n\n        forEach { (k, v) -> obj[k] = v }\n\n        return obj\n    }\n\nval <T> List<T>.js\n    get(): dynamic {\n        val arr = jsArray()\n\n        @Suppress(\"UnsafeCastFromDynamic\")\n        forEach { arr.push(it) }\n\n        return arr\n    }\n\n","package de.peekandpoke.kraft.vdom\n\nimport de.peekandpoke.kraft.components.Component\nimport kotlinx.html.FlowContent\n\nclass VDom(engine: VDomEngine, val component: Component<*>? = null) : FlowContent {\n\n    fun render(builder: VDom.() -> Any?): dynamic {\n        builder()\n        return consumer.finalize().render()\n    }\n\n    override val consumer = engine.createTagConsumer(component)\n\n    override val attributes: MutableMap<String, String>\n        get() = mutableMapOf()\n\n    override val attributesEntries: Collection<Map.Entry<String, String>>\n        get() = emptyList()\n\n    override val emptyTag: Boolean = false\n\n    override val inlineTag: Boolean = false\n\n    override val namespace: String? = null\n\n    override val tagName: String = \"\"\n\n}\n","package de.peekandpoke.kraft.vdom\n\nimport de.peekandpoke.kraft.components.Component\nimport org.w3c.dom.HTMLElement\n\ninterface VDomEngine {\n\n    data class Options(\n        val debugMode: Boolean = false,\n    ) {\n        companion object {\n            val default = Options()\n        }\n    }\n\n    val options: Options\n\n    fun mount(element: HTMLElement, view: VDom.() -> Any?)\n\n    fun createTagConsumer(host: Component<*>?): VDomTagConsumer\n\n    fun triggerRedraw(component: Component<*>)\n\n    fun render(host: Component<*>? = null, builder: VDom.() -> Any?): dynamic {\n        return VDom(this, host).render { builder() }\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.ComponentRef\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.utils.js\nimport de.peekandpoke.kraft.utils.jsArray\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDomElement\nimport kotlinx.html.Tag\nimport kotlinx.html.Unsafe\nimport kotlinx.html.org.w3c.dom.events.Event\nimport preact.h\nimport kotlin.reflect.KClass\n\ninternal interface PreactElements {\n\n    class PreactComponentRef<C : Component<*>> : ComponentRef<C> {\n\n        internal var ll: PreactLLC? = null\n\n        override fun getComponent(): C? {\n            @Suppress(\"UNCHECKED_CAST\")\n            return ll?.getComponent() as? C?\n        }\n    }\n\n    data class RootElement(\n        val children: MutableList<VDomElement> = mutableListOf(),\n    ) : VDomElement {\n        override fun appendChild(child: VDomElement) {\n            children.add(child)\n        }\n\n        override fun render(): dynamic {\n            val result = jsArray()\n\n            for (child in children) {\n                result.push(child.render())\n            }\n\n            return result\n        }\n    }\n\n    data class ComponentElement<P, C : Component<P>>(\n        private val componentCtx: Ctx<P>,\n        private val creatorFn: (Ctx<P>) -> C,\n        private val cls: KClass<C>,\n    ) : VDomElement {\n\n        val ref = PreactComponentRef<C>()\n        val ctor = PreactLLC.getLowLevelComponentCtor(cls)\n\n        override fun render(): dynamic {\n\n            return h(\n                ctor,\n                jsObject<PreactLLCProps> {\n                    this.__ctx = componentCtx\n                    @Suppress(\"UNCHECKED_CAST\")\n                    this.__ctor = creatorFn as (Ctx<*>) -> Component<*>\n                    this.__ref = ref\n                },\n            )\n        }\n    }\n\n    data class ContentElement(\n        val content: CharSequence,\n    ) : VDomElement {\n        override fun render(): dynamic {\n            return content\n        }\n    }\n\n    data class TagElement(\n        val tag: Tag,\n        val children: MutableList<VDomElement> = mutableListOf(),\n        val events: MutableMap<String, (Event) -> Any?> = mutableMapOf(),\n    ) : VDomElement {\n\n        override fun appendChild(child: VDomElement) {\n            children.add(child)\n        }\n\n        override fun addEvent(name: String, callback: (Event) -> Any?) {\n            events[name] = callback\n        }\n\n        override fun render(): dynamic {\n            // Convert attributes to plain js object\n            val attrs = tag.attributes.js\n\n            // Create a low level array for the render results of the children\n            val childArr = jsArray()\n\n            // map the children to a native array\n            for (child in children) {\n                @Suppress(\"UnsafeCastFromDynamic\")\n                childArr.push(child.render())\n            }\n\n            // Merge the events into the attributes\n            events.forEach { (k, v) -> attrs[k] = v }\n\n            // Render with mithril\n            return h(tag.tagName, attrs, childArr)\n        }\n    }\n\n    class UnsafeContentElement : VDomElement, Unsafe {\n\n        private var _content = \"\"\n\n        val content get() = _content\n\n        override fun String.unaryPlus() {\n            _content += this\n        }\n\n        override fun render(): dynamic {\n            return h(\n                \"span\",\n                jsObject {\n                    dangerouslySetInnerHTML = jsObject {\n                        __html = content\n                    }\n                }\n            )\n        }\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.preact.PreactLLC.Companion.getLowLevelComponentCtor\nimport org.w3c.dom.HTMLElement\nimport kotlin.reflect.KClass\nimport de.peekandpoke.kraft.components.Component as KraftComponent\nimport preact.Component as PreactComponent\n\n/**\n * Internal representation of a low level [PreactComponent].\n *\n * Notice that we create a separate subclass of [PreactLLC] for each component class.\n * This is done in [getLowLevelComponentCtor].\n */\ninternal abstract class PreactLLC(\n    val props: PreactLLCProps,\n    context: dynamic,\n) : PreactComponent(props, context) {\n\n    companion object {\n\n        /**\n         * Caches the low level [PreactComponent] constructor for each [KraftComponent].\n         */\n        private val compClass2LLC = mutableMapOf<KClass<out KraftComponent<*>>, dynamic>()\n\n        /**\n         * Creates a subclass of [PreactLLC] for every unique [cls] given.\n         *\n         * The created subclass is reused for the same [cls].\n         *\n         * Why do we do this:\n         *\n         * This helps the Preact VDOM in diffing.\n         * There are some situation, where one component is swapped with another.\n         * This was leading to a lot of weird [ClassCastException] errors.\n         * This approach seems to prevent the problem.\n         */\n        internal fun getLowLevelComponentCtor(cls: KClass<out KraftComponent<*>>): dynamic {\n            return compClass2LLC.getOrPut(cls) {\n\n                // console.log(\"===== component classes: ${compClass2LLC.size} ==\")\n                // console.log(\"++ \", cls.js)\n\n                //\n                // NOTICE: This needs to be exactly here. Only like this we get a unique subclass for every cls.\n                //\n                class Impl(props: PreactLLCProps, context: dynamic) : PreactLLC(props, context)\n\n                // Return the newly created ctor\n                ::Impl.also { ctor ->\n                    // We need to do this to trick, so Preact will see this as a component type:\n                    // see https://github.com/preactjs/preact/blob/10.5.14/src/diff/index.js#L75\n                    ctor.asDynamic().prototype = jsObject {\n                        render = {}\n                    }\n\n                    // console.log(\">> $ctor\")\n                    // console.log(\">> ${ctor.hashCode()}\")\n                }\n            }\n        }\n    }\n\n    /**\n     * The [KraftComponent] which is wrapped by this low level component\n     */\n    @Suppress(\"UNCHECKED_CAST\")\n    internal var component: KraftComponent<Any?>? = (props.__ctor(props.__ctx) as KraftComponent<Any?>).also {\n        // Set this low level instance on the component\n        it.lowLevelBridgeComponent = this@PreactLLC\n        // Set this low level instance on the ref\n        props.__ref.ll = this@PreactLLC\n    }\n\n    /**\n     * Get the [KraftComponent] which is wrapped by this low level component\n     */\n    internal fun getComponent(): KraftComponent<Any?>? {\n        return component\n    }\n\n    /**\n     * Hook, called when the component was mounted into the DOM\n     *\n     * See [PreactComponent.componentDidMount]\n     */\n    override fun componentDidMount() {\n        component?._internalOnMount(getDom())\n    }\n\n    /**\n     * Hook, called when the component is about to be unmounted from the DOM\n     *\n     * See [PreactComponent.componentWillUnmount]\n     */\n    override fun componentWillUnmount() {\n        component?._internalOnUnmount()\n        component = null\n    }\n\n    /**\n     * Callback to determine whether the component should update / re-render itself\n     *\n     * See [PreactComponent.shouldComponentUpdate]\n     */\n    override fun shouldComponentUpdate(nextProps: PreactLLCProps, nextState: dynamic): Boolean {\n        // Update the ref\n        nextProps.__ref.ll = this\n\n        return component?._internalShouldComponentUpdate(nextProps.__ctx) ?: false\n    }\n\n    /**\n     * Hook, called when the component was updated / re-rendered\n     *\n     * See [PreactComponent.componentDidUpdate]\n     */\n    override fun componentDidUpdate(prevProps: dynamic, prevState: dynamic, snapshot: dynamic) {\n        component?._internalOnUpdate(getDom())\n    }\n\n    /**\n     * Renders the contents of the component.\n     *\n     * See [PreactComponent.render]\n     */\n    override fun render(props: PreactLLCProps, state: dynamic, context: dynamic): dynamic {\n        return component?._internalRender()\n    }\n\n    /**\n     * Catches component errors.\n     *\n     * See [PreactComponent.componentDidCatch]\n     */\n    override fun componentDidCatch(error: dynamic) {\n        console.log(\"componentDidCatch\", component)\n        console.error(\"Error\", error)\n\n        super.componentDidCatch(error)\n    }\n\n    /**\n     * Get the root [HTMLElement] of the rendered content of the component\n     *\n     * See [PreactComponent.base]\n     */\n    private fun getDom(): HTMLElement? = this.base as? HTMLElement\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.ComponentRef\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.vdom.VDomElement\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport kotlinx.html.Entities\nimport kotlinx.html.Tag\nimport kotlinx.html.Unsafe\nimport kotlinx.html.org.w3c.dom.events.Event\nimport kotlin.reflect.KClass\n\n/**\n * Implementation of [VDomTagConsumer] for the mithril engine\n *\n * see: https://mithril.js.org\n */\ninternal class PreactTagConsumer(\n    override val engine: PreactVDomEngine,\n    override val host: Component<*>?,\n) : VDomTagConsumer {\n\n    /** Flag whether the debug mode is enabled */\n    override val isDebugMode: Boolean = engine.options.debugMode\n\n    /** The root element */\n    private val root = PreactElements.RootElement()\n\n    /** The stack of elements we are visiting */\n    private val stack = mutableListOf<VDomElement>(root)\n\n    override fun <P, C : Component<P>> onComponent(\n        props: P,\n        creatorFn: (Ctx<P>) -> C,\n        cls: KClass<C>,\n    ): ComponentRef<C> {\n//        console.log(\"onComponent\", params, component)\n\n        val element = PreactElements.ComponentElement(\n            Ctx(engine, host, props),\n            creatorFn,\n            cls,\n        )\n\n        stack.last().appendChild(element)\n\n        return element.ref\n    }\n\n    override fun finalize(): VDomElement {\n//        console.log(\"finalize\")\n\n        return stack.first()\n    }\n\n    override fun onTagAttributeChange(tag: Tag, attribute: String, value: String?) {\n//        console.log(\"onTagAttributeChange\", tag, attribute, value)\n    }\n\n    override fun onTagComment(content: CharSequence) {\n        console.log(\"onTagComment\", content)\n    }\n\n    override fun onTagContent(content: CharSequence) {\n//        console.log(\"onTagContent\", content)\n\n        stack.last().appendChild(\n            PreactElements.ContentElement(content)\n        )\n    }\n\n    override fun onTagContentEntity(entity: Entities) {\n//        console.log(\"onTagContentEntity\", entity)\n    }\n\n    override fun onTagContentUnsafe(block: Unsafe.() -> Unit) {\n        // see https://github.com/preactjs/preact/issues/844\n        stack.last().appendChild(\n            PreactElements.UnsafeContentElement().apply(block)\n        )\n    }\n\n    override fun onTagEnd(tag: Tag) {\n//        console.log(\"onTagEnd\", tag)\n\n        stack.removeLast()\n    }\n\n    override fun onTagEvent(tag: Tag, event: String, value: (Event) -> Unit) {\n//        console.log(\"onTagEvent\", tag, event, value)\n\n        stack.last().addEvent(event, value)\n    }\n\n    override fun onTagStart(tag: Tag) {\n//        console.log(\"onTagStart\", tag)\n\n        val element = PreactElements.TagElement(\n            tag = tag\n        )\n\n        stack.last().appendChild(element)\n\n        stack.add(element)\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport de.peekandpoke.kraft.vdom.VDomEngine\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport org.w3c.dom.HTMLElement\nimport de.peekandpoke.kraft.components.Component as KraftComponent\nimport preact.Component as PreactComponent\n\nclass PreactVDomEngine(override val options: VDomEngine.Options) : VDomEngine {\n\n    companion object {\n        operator fun invoke(\n            element: HTMLElement,\n            options: VDomEngine.Options = VDomEngine.Options.default,\n            view: VDom.() -> Any?,\n        ): PreactVDomEngine {\n            return PreactVDomEngine(options).apply {\n                mount(element, view)\n            }\n        }\n    }\n\n    override fun mount(element: HTMLElement, view: VDom.() -> Any?) {\n\n        val lowLevelRoot = render { view() }\n\n        preact.render(lowLevelRoot, element)\n    }\n\n    override fun createTagConsumer(host: KraftComponent<*>?): VDomTagConsumer {\n        return PreactTagConsumer(this, host)\n    }\n\n    override fun triggerRedraw(component: KraftComponent<*>) {\n        (component.lowLevelBridgeComponent as? PreactComponent)?.setState(jsObject())\n    }\n}\n","@file:Suppress(\n        \"Detekt:TooManyFunctions\",\n        \"Detekt:LargeClass\",\n        \"Detekt:LongMethod\",\n        \"Detekt:VariableNaming\",\n)\n\npackage de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.*\n\n@Suppress(\"FunctionName\", \"PropertyName\", \"unused\", \"Detekt:TooManyFunctions\", \"Detekt:VariableNaming\")\nclass SemanticTag(\n        @PublishedApi internal val parent: Tag,\n        @PublishedApi internal val cssClasses: MutableList<String>,\n) {\n    fun _cssClasses(): String = cssClasses.filter { it.isNotBlank() }.joinToString(\" \")\n\n    fun _renderAsTag(block: Tag.() -> Unit) {\n        block(parent)\n    }\n\n    private fun attrs() = attributesMapOf(\"class\", _cssClasses())\n\n    @SemanticUiCssMarker\n    operator fun invoke(block: DIV.() -> Unit = {}): Unit = Div(block)\n\n    @SemanticUiTagMarker\n    infix fun H1(block: H1.() -> Unit): Unit = H1(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H2(block: H2.() -> Unit): Unit = H2(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H3(block: H3.() -> Unit): Unit = H3(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H4(block: H4.() -> Unit): Unit = H4(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H5(block: H5.() -> Unit): Unit = H5(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H6(block: H6.() -> Unit): Unit = H6(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun A(block: A.() -> Unit): Unit = A(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun B(block: B.() -> Unit): Unit = B(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Button(block: BUTTON.() -> Unit): Unit = BUTTON(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Div(block: DIV.() -> Unit): Unit = DIV(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Form(block: FORM.() -> Unit): Unit = FORM(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun I(block: I.() -> Unit): Unit = I(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Input(block: INPUT.() -> Unit): Unit = INPUT(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Img(block: IMG.() -> Unit): Unit = IMG(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Label(block: LABEL.() -> Unit): Unit = LABEL(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Ol(block: OL.() -> Unit): Unit = OL(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun P(block: P.() -> Unit): Unit = P(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Span(block: SPAN.() -> Unit): Unit = SPAN(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Submit(block: BUTTON.() -> Unit): Unit = BUTTON(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Table(block: TABLE.() -> Unit): Unit = TABLE(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Ul(block: UL.() -> Unit): Unit = UL(attrs(), parent.consumer).visitNoInline(block)\n\n    // Adding Css Classes //////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    operator fun plus(cls: String): SemanticTag = apply { cssClasses.add(cls) }\n\n    @SemanticUiCssMarker\n    operator fun plus(classes: Array<out String>): SemanticTag = apply { cssClasses.addAll(classes) }\n\n    @SemanticUiCssMarker\n    inline fun with(block: SemanticTag.() -> SemanticTag): SemanticTag = this.run(block)\n\n    @SemanticUiCssMarker\n    fun with(vararg cls: String): SemanticTag = this + cls\n\n    @SemanticUiCssMarker\n    fun with(vararg cls: String, flow: DIV.() -> Unit): Unit = (this + cls).invoke(flow)\n\n    // Conditional classes\n\n    @SemanticUiConditionalMarker\n    fun given(\n            condition: Boolean,\n            action: SemanticTag.() -> SemanticTag,\n    ): SemanticTag = when (condition) {\n        false -> this\n        else -> this.action()\n    }\n\n    @SemanticUiConditionalMarker\n    fun givenNot(\n            condition: Boolean,\n            action: SemanticTag.() -> SemanticTag,\n    ): SemanticTag = given(!condition, action)\n\n    @SemanticUiConditionalMarker inline val then: SemanticTag get() = this\n\n    // SemanticUI Numbers //////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    fun number(int: Int): SemanticTag = number(SemanticNumber.of(int))\n\n    @SemanticUiCssMarker\n    fun number(int: Int, flow: DIV.() -> Unit): Unit = number(SemanticNumber.of(int), flow)\n\n    @SemanticUiCssMarker\n    fun number(number: SemanticNumber): SemanticTag = this + number.toString()\n\n    @SemanticUiCssMarker\n    fun number(number: SemanticNumber, flow: DIV.() -> Unit): Unit = with(number.toString(), flow = flow)\n\n    @SemanticUiCssMarker val one: SemanticTag get() = this + \"one\"\n    @SemanticUiCssMarker val two: SemanticTag get() = this + \"two\"\n    @SemanticUiCssMarker val three: SemanticTag get() = this + \"three\"\n    @SemanticUiCssMarker val four: SemanticTag get() = this + \"four\"\n    @SemanticUiCssMarker val five: SemanticTag get() = this + \"five\"\n    @SemanticUiCssMarker val six: SemanticTag get() = this + \"six\"\n    @SemanticUiCssMarker val seven: SemanticTag get() = this + \"seven\"\n    @SemanticUiCssMarker val eight: SemanticTag get() = this + \"eight\"\n    @SemanticUiCssMarker val nine: SemanticTag get() = this + \"nine\"\n    @SemanticUiCssMarker val ten: SemanticTag get() = this + \"ten\"\n    @SemanticUiCssMarker val eleven: SemanticTag get() = this + \"eleven\"\n    @SemanticUiCssMarker val twelve: SemanticTag get() = this + \"twelve\"\n    @SemanticUiCssMarker val thirteen: SemanticTag get() = this + \"thirteen\"\n    @SemanticUiCssMarker val fourteen: SemanticTag get() = this + \"fourteen\"\n    @SemanticUiCssMarker val fifteen: SemanticTag get() = this + \"fifteen\"\n    @SemanticUiCssMarker val sixteen: SemanticTag get() = this + \"sixteen\"\n\n    // SemanticUI Colors ///////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n\n    fun color(color: SemanticColor): SemanticTag = when {\n        color.isSet -> with(color.toString())\n        else -> this\n    }\n\n    @SemanticUiCssMarker\n    fun color(color: SemanticColor, flow: DIV.() -> Unit): Unit = with(color.toString(), flow = flow)\n\n    @SemanticUiCssMarker val color: SemanticTag get() = this + \"color\"\n    @SemanticUiCssMarker val inverted: SemanticTag get() = this + \"inverted\"\n    @SemanticUiCssMarker val red: SemanticTag get() = this + \"red\"\n    @SemanticUiCssMarker val orange: SemanticTag get() = this + \"orange\"\n    @SemanticUiCssMarker val yellow: SemanticTag get() = this + \"yellow\"\n    @SemanticUiCssMarker val olive: SemanticTag get() = this + \"olive\"\n    @SemanticUiCssMarker val green: SemanticTag get() = this + \"green\"\n    @SemanticUiCssMarker val teal: SemanticTag get() = this + \"teal\"\n    @SemanticUiCssMarker val blue: SemanticTag get() = this + \"blue\"\n    @SemanticUiCssMarker val violet: SemanticTag get() = this + \"violet\"\n    @SemanticUiCssMarker val purple: SemanticTag get() = this + \"purple\"\n    @SemanticUiCssMarker val pink: SemanticTag get() = this + \"pink\"\n    @SemanticUiCssMarker val brown: SemanticTag get() = this + \"brown\"\n    @SemanticUiCssMarker val grey: SemanticTag get() = this + \"grey\"\n    @SemanticUiCssMarker val black: SemanticTag get() = this + \"black\"\n    @SemanticUiCssMarker val white: SemanticTag get() = this + \"white\"\n\n    // Sizes ///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker val short: SemanticTag get() = this + \"short\"\n    @SemanticUiCssMarker val long: SemanticTag get() = this + \"long\"\n\n    @SemanticUiCssMarker val full: SemanticTag get() = this + \"full\"\n\n    @SemanticUiCssMarker val tall: SemanticTag get() = this + \"tall\"\n\n    @SemanticUiCssMarker val mini: SemanticTag get() = this + \"mini\"\n    @SemanticUiCssMarker val tiny: SemanticTag get() = this + \"tiny\"\n    @SemanticUiCssMarker val small: SemanticTag get() = this + \"small\"\n    @SemanticUiCssMarker val medium: SemanticTag get() = this + \"medium\"\n    @SemanticUiCssMarker val large: SemanticTag get() = this + \"large\"\n    @SemanticUiCssMarker val big: SemanticTag get() = this + \"big\"\n    @SemanticUiCssMarker val huge: SemanticTag get() = this + \"huge\"\n    @SemanticUiCssMarker val massive: SemanticTag get() = this + \"massive\"\n\n    // SemanticUI Emphasis /////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker val primary: SemanticTag get() = this + \"primary\"\n    @SemanticUiCssMarker val secondary: SemanticTag get() = this + \"secondary\"\n    @SemanticUiCssMarker val tertiary: SemanticTag get() = this + \"tertiary\"\n\n    @SemanticUiCssMarker val positive: SemanticTag get() = this + \"positive\"\n    @SemanticUiCssMarker val negative: SemanticTag get() = this + \"negative\"\n\n    @SemanticUiCssMarker val info: SemanticTag get() = this + \"info\"\n    @SemanticUiCssMarker val warning: SemanticTag get() = this + \"warning\"\n    @SemanticUiCssMarker val error: SemanticTag get() = this + \"error\"\n\n    // SemanticUI Brands\n\n    @SemanticUiCssMarker val facebook: SemanticTag get() = this + \"facebook\"\n    @SemanticUiCssMarker val google_plus: SemanticTag get() = this + \"google plus\"\n    @SemanticUiCssMarker val instagram: SemanticTag get() = this + \"instagram\"\n    @SemanticUiCssMarker val linkedin: SemanticTag get() = this + \"linkedin\"\n    @SemanticUiCssMarker val telegram: SemanticTag get() = this + \"telegram\"\n    @SemanticUiCssMarker val twitter: SemanticTag get() = this + \"twitter\"\n    @SemanticUiCssMarker val vk: SemanticTag get() = this + \"vk\"\n    @SemanticUiCssMarker val whatsapp: SemanticTag get() = this + \"whatsapp\"\n    @SemanticUiCssMarker val youtube: SemanticTag get() = this + \"youtube\"\n\n    // /////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // Semantic UI Words ///////////////////////////////////////////////////////////////////////////////////////////////\n    // /////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker val _in: SemanticTag get() = this + \"in\"\n    @SemanticUiCssMarker val accordion: SemanticTag get() = this + \"accordion\"\n    @SemanticUiCssMarker val actions: SemanticTag get() = this + \"actions\"\n    @SemanticUiCssMarker val active: SemanticTag get() = this + \"active\"\n    @SemanticUiCssMarker val aligned: SemanticTag get() = this + \"aligned\"\n    @SemanticUiCssMarker val animated: SemanticTag get() = this + \"animated\"\n    @SemanticUiCssMarker val animating: SemanticTag get() = this + \"animating\"\n    @SemanticUiCssMarker val attached: SemanticTag get() = this + \"attached\"\n    @SemanticUiCssMarker val author: SemanticTag get() = this + \"author\"\n    @SemanticUiCssMarker val avatar: SemanticTag get() = this + \"avatar\"\n    @SemanticUiCssMarker val bar: SemanticTag get() = this + \"bar\"\n    @SemanticUiCssMarker val basic: SemanticTag get() = this + \"basic\"\n    @SemanticUiCssMarker val below: SemanticTag get() = this + \"below\"\n    @SemanticUiCssMarker val block: SemanticTag get() = this + \"block\"\n    @SemanticUiCssMarker val bordered: SemanticTag get() = this + \"bordered\"\n    @SemanticUiCssMarker val bottom: SemanticTag get() = this + \"bottom\"\n    @SemanticUiCssMarker val bulleted: SemanticTag get() = this + \"bulleted\"\n    @SemanticUiCssMarker val button: SemanticTag get() = this + \"button\"\n    @SemanticUiCssMarker val buttons: SemanticTag get() = this + \"buttons\"\n    @SemanticUiCssMarker val card: SemanticTag get() = this + \"card\"\n    @SemanticUiCssMarker val cards: SemanticTag get() = this + \"cards\"\n    @SemanticUiCssMarker val celled: SemanticTag get() = this + \"celled\"\n    @SemanticUiCssMarker val center: SemanticTag get() = this + \"center\"\n    @SemanticUiCssMarker val centered: SemanticTag get() = this + \"centered\"\n    @SemanticUiCssMarker val checkbox: SemanticTag get() = this + \"checkbox\"\n    @SemanticUiCssMarker val circular: SemanticTag get() = this + \"circular\"\n    @SemanticUiCssMarker val clearing: SemanticTag get() = this + \"clearing\"\n    @SemanticUiCssMarker val collapsing: SemanticTag get() = this + \"collapsing\"\n    @SemanticUiCssMarker val column: SemanticTag get() = this + \"column\"\n    @SemanticUiCssMarker val comment: SemanticTag get() = this + \"comment\"\n    @SemanticUiCssMarker val comments: SemanticTag get() = this + \"comments\"\n    @SemanticUiCssMarker val compact: SemanticTag get() = this + \"compact\"\n    @SemanticUiCssMarker val completed: SemanticTag get() = this + \"completed\"\n    @SemanticUiCssMarker val computer: SemanticTag get() = this + \"computer\"\n    @SemanticUiCssMarker val container: SemanticTag get() = this + \"container\"\n    @SemanticUiCssMarker val content: SemanticTag get() = this + \"content\"\n    @SemanticUiCssMarker val corner: SemanticTag get() = this + \"corner\"\n    @SemanticUiCssMarker val default: SemanticTag get() = this + \"default\"\n    @SemanticUiCssMarker val definition: SemanticTag get() = this + \"definition\"\n    @SemanticUiCssMarker val description: SemanticTag get() = this + \"description\"\n    @SemanticUiCssMarker val detail: SemanticTag get() = this + \"detail\"\n    @SemanticUiCssMarker val dimmer: SemanticTag get() = this + \"dimmer\"\n    @SemanticUiCssMarker val disabled: SemanticTag get() = this + \"disabled\"\n    @SemanticUiCssMarker val divided: SemanticTag get() = this + \"divided\"\n    @SemanticUiCssMarker val divider: SemanticTag get() = this + \"divider\"\n    @SemanticUiCssMarker val dividing: SemanticTag get() = this + \"dividing\"\n    @SemanticUiCssMarker val double: SemanticTag get() = this + \"double\"\n    @SemanticUiCssMarker val doubling: SemanticTag get() = this + \"doubling\"\n    @SemanticUiCssMarker val down: SemanticTag get() = this + \"down\"\n    @SemanticUiCssMarker val dropdown: SemanticTag get() = this + \"dropdown\"\n    @SemanticUiCssMarker val elastic: SemanticTag get() = this + \"elastic\"\n    @SemanticUiCssMarker val empty: SemanticTag get() = this + \"empty\"\n    @SemanticUiCssMarker val equal: SemanticTag get() = this + \"equal\"\n    @SemanticUiCssMarker val extra: SemanticTag get() = this + \"extra\"\n    @SemanticUiCssMarker val fade: SemanticTag get() = this + \"fade\"\n    @SemanticUiCssMarker val fast: SemanticTag get() = this + \"fast\"\n    @SemanticUiCssMarker val field: SemanticTag get() = this + \"field\"\n    @SemanticUiCssMarker val fields: SemanticTag get() = this + \"fields\"\n    @SemanticUiCssMarker val fitted: SemanticTag get() = this + \"fitted\"\n    @SemanticUiCssMarker val fixed: SemanticTag get() = this + \"fixed\"\n    @SemanticUiCssMarker val floated: SemanticTag get() = this + \"floated\"\n    @SemanticUiCssMarker val floating: SemanticTag get() = this + \"floating\"\n    @SemanticUiCssMarker val flowing: SemanticTag get() = this + \"flowing\"\n    @SemanticUiCssMarker val fluid: SemanticTag get() = this + \"fluid\"\n    @SemanticUiCssMarker val form: SemanticTag get() = this + \"form\"\n    @SemanticUiCssMarker val front: SemanticTag get() = this + \"front\"\n    @SemanticUiCssMarker val fullscreen: SemanticTag get() = this + \"fullscreen\"\n    @SemanticUiCssMarker val grid: SemanticTag get() = this + \"grid\"\n    @SemanticUiCssMarker val header: SemanticTag get() = this + \"header\"\n    @SemanticUiCssMarker val hidden: SemanticTag get() = this + \"hidden\"\n    @SemanticUiCssMarker val horizontal: SemanticTag get() = this + \"horizontal\"\n    @SemanticUiCssMarker val horizontally: SemanticTag get() = this + \"horizontally\"\n    @SemanticUiCssMarker val icon: SemanticTag get() = this + \"icon\"\n    @SemanticUiCssMarker val icons: SemanticTag get() = this + \"icons\"\n    @SemanticUiCssMarker val image: SemanticTag get() = this + \"image\"\n    @SemanticUiCssMarker val images: SemanticTag get() = this + \"images\"\n    @SemanticUiCssMarker val indeterminate: SemanticTag get() = this + \"indeterminate\"\n    @SemanticUiCssMarker val inline: SemanticTag get() = this + \"inline\"\n    @SemanticUiCssMarker val input: SemanticTag get() = this + \"input\"\n    @SemanticUiCssMarker val instant: SemanticTag get() = this + \"instant\"\n    @SemanticUiCssMarker val internally: SemanticTag get() = this + \"internally\"\n    @SemanticUiCssMarker val item: SemanticTag get() = this + \"item\"\n    @SemanticUiCssMarker val items: SemanticTag get() = this + \"items\"\n    @SemanticUiCssMarker val justified: SemanticTag get() = this + \"justified\"\n    @SemanticUiCssMarker val label: SemanticTag get() = this + \"label\"\n    @SemanticUiCssMarker val labeled: SemanticTag get() = this + \"labeled\"\n    @SemanticUiCssMarker val labels: SemanticTag get() = this + \"labels\"\n    @SemanticUiCssMarker val left: SemanticTag get() = this + \"left\"\n    @SemanticUiCssMarker val line: SemanticTag get() = this + \"line\"\n    @SemanticUiCssMarker val link: SemanticTag get() = this + \"link\"\n    @SemanticUiCssMarker val list: SemanticTag get() = this + \"list\"\n    @SemanticUiCssMarker val loader: SemanticTag get() = this + \"loader\"\n    @SemanticUiCssMarker val loading: SemanticTag get() = this + \"loading\"\n    @SemanticUiCssMarker val logo: SemanticTag get() = this + \"logo\"\n    @SemanticUiCssMarker val menu: SemanticTag get() = this + \"menu\"\n    @SemanticUiCssMarker val message: SemanticTag get() = this + \"message\"\n    @SemanticUiCssMarker val meta: SemanticTag get() = this + \"meta\"\n    @SemanticUiCssMarker val metadata: SemanticTag get() = this + \"metadata\"\n    @SemanticUiCssMarker val middle: SemanticTag get() = this + \"middle\"\n    @SemanticUiCssMarker val minimal: SemanticTag get() = this + \"minimal\"\n    @SemanticUiCssMarker val mobile: SemanticTag get() = this + \"mobile\"\n    @SemanticUiCssMarker val modal: SemanticTag get() = this + \"modal\"\n    @SemanticUiCssMarker val modals: SemanticTag get() = this + \"modals\"\n    @SemanticUiCssMarker val move: SemanticTag get() = this + \"move\"\n    @SemanticUiCssMarker val only: SemanticTag get() = this + \"only\"\n    @SemanticUiCssMarker val ordered: SemanticTag get() = this + \"ordered\"\n    @SemanticUiCssMarker val out: SemanticTag get() = this + \"out\"\n    @SemanticUiCssMarker val overlay: SemanticTag get() = this + \"overlay\"\n    @SemanticUiCssMarker val padded: SemanticTag get() = this + \"padded\"\n    @SemanticUiCssMarker val page: SemanticTag get() = this + \"page\"\n    @SemanticUiCssMarker val pagination: SemanticTag get() = this + \"pagination\"\n    @SemanticUiCssMarker val paragraph: SemanticTag get() = this + \"paragraph\"\n    @SemanticUiCssMarker val piled: SemanticTag get() = this + \"piled\"\n    @SemanticUiCssMarker val placeholder: SemanticTag get() = this + \"placeholder\"\n    @SemanticUiCssMarker val pointing: SemanticTag get() = this + \"pointing\"\n    @SemanticUiCssMarker val popup: SemanticTag get() = this + \"popup\"\n    @SemanticUiCssMarker val progress: SemanticTag get() = this + \"progress\"\n    @SemanticUiCssMarker val pusher: SemanticTag get() = this + \"pusher\"\n    @SemanticUiCssMarker val raised: SemanticTag get() = this + \"raised\"\n    @SemanticUiCssMarker val rectangular: SemanticTag get() = this + \"rectangular\"\n    @SemanticUiCssMarker val relaxed: SemanticTag get() = this + \"relaxed\"\n    @SemanticUiCssMarker val reply: SemanticTag get() = this + \"reply\"\n    @SemanticUiCssMarker val reveal: SemanticTag get() = this + \"reveal\"\n    @SemanticUiCssMarker val reversed: SemanticTag get() = this + \"reversed\"\n    @SemanticUiCssMarker val ribbon: SemanticTag get() = this + \"ribbon\"\n    @SemanticUiCssMarker val right: SemanticTag get() = this + \"right\"\n    @SemanticUiCssMarker val rotate: SemanticTag get() = this + \"rotate\"\n    @SemanticUiCssMarker val rounded: SemanticTag get() = this + \"rounded\"\n    @SemanticUiCssMarker val row: SemanticTag get() = this + \"row\"\n    @SemanticUiCssMarker val scale: SemanticTag get() = this + \"scale\"\n    @SemanticUiCssMarker val scrolling: SemanticTag get() = this + \"scrolling\"\n    @SemanticUiCssMarker val search: SemanticTag get() = this + \"search\"\n    @SemanticUiCssMarker val section: SemanticTag get() = this + \"section\"\n    @SemanticUiCssMarker val segment: SemanticTag get() = this + \"segment\"\n    @SemanticUiCssMarker val segments: SemanticTag get() = this + \"segments\"\n    @SemanticUiCssMarker val selectable: SemanticTag get() = this + \"selectable\"\n    @SemanticUiCssMarker val selected: SemanticTag get() = this + \"selected\"\n    @SemanticUiCssMarker val selection: SemanticTag get() = this + \"selection\"\n    @SemanticUiCssMarker val shrink: SemanticTag get() = this + \"shrink\"\n    @SemanticUiCssMarker val sidebar: SemanticTag get() = this + \"sidebar\"\n    @SemanticUiCssMarker val slider: SemanticTag get() = this + \"slider\"\n    @SemanticUiCssMarker val slow: SemanticTag get() = this + \"slow\"\n    @SemanticUiCssMarker val sortable: SemanticTag get() = this + \"sortable\"\n    @SemanticUiCssMarker val spaced: SemanticTag get() = this + \"spaced\"\n    @SemanticUiCssMarker val square: SemanticTag get() = this + \"square\"\n    @SemanticUiCssMarker val stackable: SemanticTag get() = this + \"stackable\"\n    @SemanticUiCssMarker val stacked: SemanticTag get() = this + \"stacked\"\n    @SemanticUiCssMarker val statistic: SemanticTag get() = this + \"statistic\"\n    @SemanticUiCssMarker val statistics: SemanticTag get() = this + \"statistics\"\n    @SemanticUiCssMarker val step: SemanticTag get() = this + \"step\"\n    @SemanticUiCssMarker val steps: SemanticTag get() = this + \"steps\"\n    @SemanticUiCssMarker val sticky: SemanticTag get() = this + \"sticky\"\n    @SemanticUiCssMarker val stretched: SemanticTag get() = this + \"stretched\"\n    @SemanticUiCssMarker val striped: SemanticTag get() = this + \"striped\"\n    @SemanticUiCssMarker val styled: SemanticTag get() = this + \"styled\"\n    @SemanticUiCssMarker val sub: SemanticTag get() = this + \"sub\"\n    @SemanticUiCssMarker val success: SemanticTag get() = this + \"success\"\n    @SemanticUiCssMarker val tab: SemanticTag get() = this + \"tab\"\n    @SemanticUiCssMarker val table: SemanticTag get() = this + \"table\"\n    @SemanticUiCssMarker val tablet: SemanticTag get() = this + \"tablet\"\n    @SemanticUiCssMarker val tabular: SemanticTag get() = this + \"tabular\"\n    @SemanticUiCssMarker val tag: SemanticTag get() = this + \"tag\"\n    @SemanticUiCssMarker val text: SemanticTag get() = this + \"text\"\n    @SemanticUiCssMarker val threaded: SemanticTag get() = this + \"threaded\"\n    @SemanticUiCssMarker val title: SemanticTag get() = this + \"title\"\n    @SemanticUiCssMarker val toast: SemanticTag get() = this + \"toast\"\n    @SemanticUiCssMarker val toastBox: SemanticTag get() = this + \"toast-box\"\n    @SemanticUiCssMarker val toastContainer: SemanticTag get() = this + \"toast-container\"\n    @SemanticUiCssMarker val toggle: SemanticTag get() = this + \"toggle\"\n    @SemanticUiCssMarker val top: SemanticTag get() = this + \"top\"\n    @SemanticUiCssMarker val transition: SemanticTag get() = this + \"transition\"\n    @SemanticUiCssMarker val transparent: SemanticTag get() = this + \"transparent\"\n    @SemanticUiCssMarker val unstackable: SemanticTag get() = this + \"unstackable\"\n    @SemanticUiCssMarker val up: SemanticTag get() = this + \"up\"\n    @SemanticUiCssMarker val usual: SemanticTag get() = this + \"usual\"\n    @SemanticUiCssMarker val value: SemanticTag get() = this + \"value\"\n    @SemanticUiCssMarker val vertical: SemanticTag get() = this + \"vertical\"\n    @SemanticUiCssMarker val vertically: SemanticTag get() = this + \"vertically\"\n    @SemanticUiCssMarker val very: SemanticTag get() = this + \"very\"\n    @SemanticUiCssMarker val visible: SemanticTag get() = this + \"visible\"\n    @SemanticUiCssMarker val wide: SemanticTag get() = this + \"wide\"\n    @SemanticUiCssMarker val width: SemanticTag get() = this + \"width\"\n    @SemanticUiCssMarker val wireframe: SemanticTag get() = this + \"wireframe\"\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base interface for all streams\n */\ninterface Stream<T> {\n    /**\n     * Returns the current value of the stream\n     */\n    operator fun invoke(): T\n\n    /**\n     * Adds a subscription to the stream.\n     *\n     * On subscribing the subscription is immediately called with the current value.\n     *\n     * Returns an unsubscribe function. Calling this function unsubscribes from the stream.\n     */\n    fun subscribeToStream(sub: (T) -> Unit): Unsubscribe\n}\n\n/**\n * The [Unsubscribe] function is returned when a subscription is created on a [Stream].\n *\n * Calling this function cancels the subscription.\n */\ntypealias Unsubscribe = () -> Unit\n\n/**\n * Handler-function for the incoming values of a [Stream].\n */\ntypealias StreamHandler<T> = (T) -> Unit\n\n/**\n * Subscribes to the stream permanently\n *\n * NOTICE: there is no way to get rid of the subscription anymore. Use with caution.\n */\nfun <T> Stream<T>.permanent(): Stream<T> = apply { subscribeToStream { } }\n\n/**\n * Subscribes to the stream permanently\n *\n * NOTICE: there is no way to get rid of the subscription anymore. Use with caution.\n */\nfun <T> Stream<T>.permanent(handler: (T) -> Unit): Stream<T> = apply { subscribeToStream(handler) }\n\n/**\n * Define a stream source to which new values can be written.\n */\ninterface StreamSource<T> : Stream<T> {\n\n    companion object {\n        operator fun <T> invoke(initial: T): StreamSource<T> = StreamSourceImpl(initial)\n    }\n\n    /**\n     * Get the readonly version of this stream.\n     */\n    val readonly get() = this as Stream<T>\n\n    /**\n     * The subscription the stream source has.\n     */\n    val subscriptions: Set<StreamHandler<T>>\n\n    /**\n     * Returns the current value of the stream\n     */\n    override operator fun invoke(): T\n\n    /**\n     * Sends the next value to the stream\n     */\n    operator fun invoke(next: T)\n\n    /**\n     * Calls the [block] with the current value of the stream and sends to return value to the stream.\n     *\n     * The new value is only sent when it is different from the current value.\n     */\n    operator fun invoke(block: (T) -> T) {\n        val current = this()\n        val next = block(current)\n\n        if (current != next) {\n            this(next)\n        }\n    }\n\n    /**\n     * Modifies the current value by calling the [block] and sends it the result as the next value.\n     *\n     * The [block] will have the current value of the stream as the scopes this pointer.\n     */\n    fun modify(block: T.() -> T): Unit = invoke(block(invoke()))\n\n    /**\n     * Removes all subscriptions\n     */\n    fun removeAllSubscriptions()\n}\n\n/**\n * Define a storage backend for a persistent stream\n */\ninterface StreamStorage<T> {\n\n    fun read(): T?\n\n    fun write(value: T)\n}\n","package de.peekandpoke.kraft.addons.forms\n\ninterface FormField<T> {\n\n    /**\n     * The errors the field currently has\n     */\n    val errors: List<String>\n\n    /**\n     * Returns true when the field has errors\n     */\n    val hasErrors get() = errors.isNotEmpty()\n\n    /**\n     * Marker if the component was touched.\n     */\n    val touched: Boolean\n\n    /**\n     * Marks the form field as touched.\n     */\n    fun touch()\n\n    /**\n     * Marks the form field as not touched.\n     */\n    fun untouch()\n\n    /**\n     * Validates all rules and returns true if all rules are fulfilled.\n     */\n    fun validate(): Boolean\n}\n","package de.peekandpoke.kraft.addons.routing\n\nfun router(builder: RouterBuilder.() -> Unit): Router = RouterBuilder().apply(builder).build()\n\ntypealias RouterProvider = () -> Router\n","package de.peekandpoke.kraft.jsbridges\n\nimport de.peekandpoke.kraft.utils.jsObjectToMap\nimport kotlinx.js.Object\n\n/**\n * Decodes the [jwt] and returns a javascript object\n */\nfun decodeJwt(jwt: String): Object? {\n    return jwt_decode.default(jwt)\n}\n\n/**\n * Decodes the [jwt] and returns a kotlin [Map]\n */\nfun decodeJwtAsMap(jwt: String): Map<String, Any?> {\n    return jsObjectToMap(\n        decodeJwt(jwt)\n    )\n}\n","package de.peekandpoke.kraft.addons.prismjs\n\nimport kotlinx.browser.document\nimport kotlinx.coroutines.delay\nimport kotlinx.js.Module\nimport org.w3c.dom.Element\nimport org.w3c.dom.HTMLHeadElement\nimport org.w3c.dom.HTMLLinkElement\nimport kotlin.js.Date\nimport kotlin.js.Promise\n\n/**\n * See: https://cdnjs.com/libraries/prism/1.28.0 for available assets\n */\nclass PrismJsInternals {\n\n    internal class StylesLoader {\n\n        private val loaded = mutableMapOf<String, Element>()\n\n        private val head: HTMLHeadElement?\n            get() = document.getElementsByTagName(\"head\").item(0) as? HTMLHeadElement\n\n        fun loadDefaultTheme() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.min.css\",\n                \"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\",\n            )\n\n            loadLineNumbers()\n        }\n\n        fun loadInlineColor() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/inline-color/prism-inline-color.min.css\",\n                \"sha512-jPGdTBr51+zDG6sY0smU+6rV19GOIN9RXAdVT8Gyvb55dToNJwq2n9SgCa764+z0xMuGA3/idik1tkQQhmALSA==\",\n            )\n        }\n\n        fun loadLineNumbers() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css\",\n                \"sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==\",\n            )\n        }\n\n        fun loadToolbar() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.min.css\",\n                \"sha512-Dqf5696xtofgH089BgZJo2lSWTvev4GFo+gA2o4GullFY65rzQVQLQVlzLvYwTo0Bb2Gpb6IqwxYWtoMonfdhQ==\",\n            )\n        }\n\n        private fun loadStyle(\n            href: String,\n            integrity: String? = null,\n            crossOrigin: String = \"anonymous\",\n            referrerPolicy: String = \"no-referrer\",\n        ) {\n            head?.let { h ->\n                loaded.getOrPut(href) {\n                    (document.createElement(\"link\") as HTMLLinkElement).apply {\n                        this.rel = \"stylesheet\"\n                        this.href = href\n                        integrity?.let {\n                            this.asDynamic().integrity = it\n                        }\n                        this.crossOrigin = crossOrigin\n                        this.referrerPolicy = referrerPolicy\n\n                        h.append(this)\n                    }\n                }\n            }\n        }\n    }\n\n    internal class LanguageLoader {\n\n        private val loaded = mutableMapOf<String, Promise<dynamic>>()\n\n        suspend fun load(language: String): dynamic {\n            return when (val existing = PrismJsDefinition.languages[language]) {\n                null -> try {\n                    when (language) {\n                        \"dart\" -> loadDart()\n                        \"java\" -> loadJava()\n                        \"json\" -> loadJson()\n                        \"json5\" -> loadJson5()\n                        \"jsonp\" -> loadJsonp()\n                        \"kotlin\" -> loadKotlin()\n                        \"kts\" -> loadKotlin()\n                        \"less\" -> loadLess()\n                        \"php\" -> loadPhp()\n                        \"regex\" -> loadRegex()\n                        \"ruby\" -> loadRuby()\n                        \"rust\" -> loadRust()\n                        \"sass\" -> loadSass()\n                        \"scss\" -> loadScss()\n                        \"typescript\" -> loadTypescript()\n                        // fallback\n                        else -> PrismJsDefinition.languages.plain\n                    }\n                } catch (t: Throwable) {\n                    console.error(\"Could not load PrismJs language $language\", t)\n                    // fallback\n                    PrismJsDefinition.languages.plain\n                }\n                else -> existing\n            }\n        }\n\n        // Prerequisite loaders ////////////////////////////////////////////////////////////////////////////////////////\n\n        private suspend fun loadMarkupTemplating(): dynamic = load(\"markup-templating\") {\n            js(\"import('prismjs/components/prism-markup-templating')\") as Promise<Module<*>>\n        }\n\n        // Language loaders ////////////////////////////////////////////////////////////////////////////////////////////\n\n        private suspend fun loadDart(): dynamic = load(\"dart\") {\n            js(\"import('prismjs/components/prism-dart')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJava(): dynamic = load(\"java\") {\n            js(\"import('prismjs/components/prism-java')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJson(): dynamic = load(\"json\") {\n            js(\"import('prismjs/components/prism-json')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJson5(): dynamic {\n            // requires json to be loaded\n            loadJson()\n\n            return load(\"json5\") {\n                js(\"import('prismjs/components/prism-json5')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadJsonp(): dynamic {\n            // requires json to be loaded\n            loadJson()\n\n            return load(\"jsonp\") {\n                js(\"import('prismjs/components/prism-jsonp')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadKotlin(): dynamic = load(\"kotlin\") {\n            js(\"import('prismjs/components/prism-kotlin')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadLess(): dynamic = load(\"less\") {\n            js(\"import('prismjs/components/prism-less')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadPhp(): dynamic {\n\n            // Why is that? https://github.com/PrismJS/prism/issues/1400#issuecomment-485847919\n            loadMarkupTemplating()\n\n            return load(\"php\") {\n                js(\"import('prismjs/components/prism-php')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadRegex(): dynamic = load(\"regex\") {\n            js(\"import('prismjs/components/prism-regex')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadRuby(): dynamic = load(\"ruby\") {\n            js(\"import('prismjs/components/prism-ruby')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadRust(): dynamic = load(\"rust\") {\n            js(\"import('prismjs/components/prism-rust')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadSass(): dynamic = load(\"sass\") {\n            js(\"import('prismjs/components/prism-sass')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadScss(): dynamic = load(\"scss\") {\n            js(\"import('prismjs/components/prism-scss')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadTypescript(): dynamic = load(\"typescript\") {\n            js(\"import('prismjs/components/prism-typescript')\") as Promise<Module<*>>\n        }\n\n        private suspend fun load(language: String, promise: () -> Promise<Module<*>>): dynamic {\n\n            loaded.getOrPut(language) {\n                promise()\n            }\n\n            val start = Date.now()\n\n            @Suppress(\"UnsafeCastFromDynamic\")\n            while (PrismJsDefinition.languages[language] == undefined && Date.now() - start < 10_000) {\n                delay(10)\n            }\n\n            return PrismJsDefinition.languages[language]\n        }\n    }\n\n    internal class PluginsLoader(private val styles: StylesLoader) {\n\n        private val loaded = mutableMapOf<String, Promise<dynamic>>()\n\n        // Plugin loaders //////////////////////////////////////////////////////////////////////////////////////////////\n\n        suspend fun loadCopyToClipboard(): dynamic {\n            // Depends on the Toolbar plugin to be loaded\n            loadToolbar()\n\n            return load(\"copyToClipboard\", { _, duration -> duration < 100 }) {\n                js(\"import('prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadInlineColor(): dynamic {\n            styles.loadInlineColor()\n\n            return load(\"inlineColor\", { _, duration -> duration < 100 }) {\n                js(\"import('prismjs/plugins/inline-color/prism-inline-color')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadLineNumbers(): dynamic {\n            styles.loadLineNumbers()\n\n            return load(\"lineNumbers\") {\n                js(\"import('prismjs/plugins/line-numbers/prism-line-numbers')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadShowLanguage(): dynamic {\n            // Depends on the Toolbar plugin to be loaded\n            loadToolbar()\n\n            return load(\"showLanguage\", { _, duration -> duration < 10 }) {\n                js(\"import('prismjs/plugins/show-language/prism-show-language')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadToolbar(): dynamic {\n            styles.loadToolbar()\n\n            return load(\"toolbar\") {\n                js(\"import('prismjs/plugins/toolbar/prism-toolbar')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun load(\n            plugin: String,\n            isLoading: (pluginName: String, duration: Double) -> Boolean = { pluginName, duration ->\n                PrismJsDefinition.plugins[pluginName] == undefined && duration < 10_000\n            },\n            promise: () -> Promise<Module<*>>,\n        ): dynamic {\n\n            loaded.getOrPut(plugin) {\n                promise()\n            }\n\n            val start = Date.now()\n\n            @Suppress(\"UnsafeCastFromDynamic\")\n            while (isLoading(plugin, Date.now() - start)) {\n                delay(10)\n            }\n\n            return PrismJsDefinition.plugins[plugin]\n        }\n    }\n\n    internal val styles = StylesLoader()\n    internal val languages = LanguageLoader()\n    internal val plugins = PluginsLoader(styles)\n}\n\nval prismJsInternals = PrismJsInternals()\n","package de.peekandpoke.kraft.addons.prismjs\n\nimport org.w3c.dom.HTMLPreElement\nimport org.w3c.dom.set\n\nsealed class PrismPlugin {\n\n    abstract suspend fun load()\n    abstract fun applyTo(pre: HTMLPreElement)\n\n    data class CopyToClipboard(\n        val copy: String,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.copyToClipboard(\n                copy: String = \"Copy\",\n            ) = usePlugin(\n                CopyToClipboard(\n                    copy = copy,\n                )\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadCopyToClipboard()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" copy-to-clipboard\"\n            pre.dataset[\"prismjsCopy\"] = copy\n        }\n    }\n\n    data class InlineColor(\n        val enabled: Boolean = true,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.inlineColor() = usePlugin(\n                InlineColor()\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadInlineColor()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" inline-color\"\n        }\n    }\n\n    data class LineNumbers(\n        val start: Int,\n        val softWrap: Boolean,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.lineNumbers(\n                start: Int = 1,\n                softWrap: Boolean = false,\n            ) = usePlugin(\n                LineNumbers(start = start, softWrap = softWrap)\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadLineNumbers()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" line-numbers\"\n            pre.dataset[\"start\"] = start.toString()\n            if (softWrap) {\n                pre.style.whiteSpace = \"pre-wrap\"\n            }\n        }\n    }\n\n    data class ShowLanguage(\n        val language: String?,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.showLanguage(\n                language: String? = null,\n            ) = usePlugin(\n                ShowLanguage(language = language)\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadShowLanguage()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" show-language\"\n            language?.let {\n                pre.dataset[\"language\"] = it\n            }\n        }\n    }\n}\n",null,null,"package de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.Tag\n\n@PublishedApi\ninternal fun <T : Tag> T.visitNoInline(block: T.() -> Unit) {\n    consumer.onTagStart(this)\n    try {\n        this.block()\n    } catch (err: Throwable) {\n        consumer.onTagError(this, err)\n    } finally {\n        consumer.onTagEnd(this)\n    }\n}\n\n@Suppress(\"unused\")\ninternal object Fn {\n    // #\n    const val f0001: String = \"a\"\n    const val f0002: String = \"b\"\n    const val f0003: String = \"c\"\n    const val f0004: String = \"d\"\n    const val f0005: String = \"e\"\n    const val f0006: String = \"f\"\n    const val f0007: String = \"g\"\n    const val f0008: String = \"h\"\n    const val f0009: String = \"i\"\n    const val f0010: String = \"j\"\n    const val f0011: String = \"k\"\n    const val f0012: String = \"l\"\n    const val f0013: String = \"m\"\n    const val f0014: String = \"n\"\n    const val f0015: String = \"o\"\n    const val f0016: String = \"p\"\n    const val f0017: String = \"q\"\n    const val f0018: String = \"r\"\n    const val f0019: String = \"s\"\n    const val f0020: String = \"t\"\n\n    // a#\n    const val f0021: String = \"aa\"\n    const val f0022: String = \"ab\"\n    const val f0023: String = \"ac\"\n    const val f0024: String = \"ad\"\n    const val f0025: String = \"ae\"\n    const val f0026: String = \"af\"\n    const val f0027: String = \"ag\"\n    const val f0028: String = \"ah\"\n    const val f0029: String = \"ai\"\n    const val f0030: String = \"aj\"\n    const val f0031: String = \"ak\"\n    const val f0032: String = \"al\"\n    const val f0033: String = \"am\"\n    const val f0034: String = \"an\"\n    const val f0035: String = \"ao\"\n    const val f0036: String = \"ap\"\n    const val f0037: String = \"aq\"\n    const val f0038: String = \"ar\"\n    const val f0039: String = \"as\"\n    const val f0040: String = \"at\"\n\n    // b#\n    const val f0041: String = \"ba\"\n    const val f0042: String = \"bb\"\n    const val f0043: String = \"bc\"\n    const val f0044: String = \"bd\"\n    const val f0045: String = \"be\"\n    const val f0046: String = \"bf\"\n    const val f0047: String = \"bg\"\n    const val f0048: String = \"bh\"\n    const val f0049: String = \"bi\"\n    const val f0050: String = \"bj\"\n    const val f0051: String = \"bk\"\n    const val f0052: String = \"bl\"\n    const val f0053: String = \"bm\"\n    const val f0054: String = \"bn\"\n    const val f0055: String = \"bo\"\n    const val f0056: String = \"bp\"\n    const val f0057: String = \"bq\"\n    const val f0058: String = \"br\"\n    const val f0059: String = \"bs\"\n    const val f0060: String = \"bt\"\n\n    // c#\n    const val f0061: String = \"ca\"\n    const val f0062: String = \"cb\"\n    const val f0063: String = \"cc\"\n    const val f0064: String = \"cd\"\n    const val f0065: String = \"ce\"\n    const val f0066: String = \"cf\"\n    const val f0067: String = \"cg\"\n    const val f0068: String = \"ch\"\n    const val f0069: String = \"ci\"\n    const val f0070: String = \"cj\"\n    const val f0071: String = \"ck\"\n    const val f0072: String = \"cl\"\n    const val f0073: String = \"cm\"\n    const val f0074: String = \"cn\"\n    const val f0075: String = \"co\"\n    const val f0076: String = \"cp\"\n    const val f0077: String = \"cq\"\n    const val f0078: String = \"cr\"\n    const val f0079: String = \"cs\"\n    const val f0080: String = \"ct\"\n\n    // d#\n    const val f0081: String = \"da\"\n    const val f0082: String = \"db\"\n    const val f0083: String = \"dc\"\n    const val f0084: String = \"dd\"\n    const val f0085: String = \"de\"\n    const val f0086: String = \"df\"\n    const val f0087: String = \"dg\"\n    const val f0088: String = \"dh\"\n    const val f0089: String = \"di\"\n    const val f0090: String = \"dj\"\n    const val f0091: String = \"dk\"\n    const val f0092: String = \"dl\"\n    const val f0093: String = \"dm\"\n    const val f0094: String = \"dn\"\n    const val f0095: String = \"do\"\n    const val f0096: String = \"dp\"\n    const val f0097: String = \"dq\"\n    const val f0098: String = \"dr\"\n    const val f0099: String = \"ds\"\n    const val f0100: String = \"dt\"\n\n    // e#\n    const val f0101: String = \"ea\"\n    const val f0102: String = \"eb\"\n    const val f0103: String = \"ec\"\n    const val f0104: String = \"ed\"\n    const val f0105: String = \"ee\"\n    const val f0106: String = \"ef\"\n    const val f0107: String = \"eg\"\n    const val f0108: String = \"eh\"\n    const val f0109: String = \"ei\"\n    const val f0110: String = \"ej\"\n    const val f0111: String = \"ek\"\n    const val f0112: String = \"el\"\n    const val f0113: String = \"em\"\n    const val f0114: String = \"en\"\n    const val f0115: String = \"eo\"\n    const val f0116: String = \"ep\"\n    const val f0117: String = \"eq\"\n    const val f0118: String = \"er\"\n    const val f0119: String = \"es\"\n    const val f0120: String = \"et\"\n\n    // f#\n    const val f0121: String = \"fa\"\n    const val f0122: String = \"fb\"\n    const val f0123: String = \"fc\"\n    const val f0124: String = \"fd\"\n    const val f0125: String = \"fe\"\n    const val f0126: String = \"ff\"\n    const val f0127: String = \"fg\"\n    const val f0128: String = \"fh\"\n    const val f0129: String = \"fi\"\n    const val f0130: String = \"fj\"\n    const val f0131: String = \"fk\"\n    const val f0132: String = \"fl\"\n    const val f0133: String = \"fm\"\n    const val f0134: String = \"fn\"\n    const val f0135: String = \"fo\"\n    const val f0136: String = \"fp\"\n    const val f0137: String = \"fq\"\n    const val f0138: String = \"fr\"\n    const val f0139: String = \"fs\"\n    const val f0140: String = \"ft\"\n\n    // g#\n    const val f0141: String = \"ga\"\n    const val f0142: String = \"gb\"\n    const val f0143: String = \"gc\"\n    const val f0144: String = \"gd\"\n    const val f0145: String = \"ge\"\n    const val f0146: String = \"gf\"\n    const val f0147: String = \"gg\"\n    const val f0148: String = \"gh\"\n    const val f0149: String = \"gi\"\n    const val f0150: String = \"gj\"\n    const val f0151: String = \"gk\"\n    const val f0152: String = \"gl\"\n    const val f0153: String = \"gm\"\n    const val f0154: String = \"gn\"\n    const val f0155: String = \"go\"\n    const val f0156: String = \"gp\"\n    const val f0157: String = \"gq\"\n    const val f0158: String = \"gr\"\n    const val f0159: String = \"gs\"\n    const val f0160: String = \"gt\"\n\n    // h#\n    const val f0161: String = \"ha\"\n    const val f0162: String = \"hb\"\n    const val f0163: String = \"hc\"\n    const val f0164: String = \"hd\"\n    const val f0165: String = \"he\"\n    const val f0166: String = \"hf\"\n    const val f0167: String = \"hg\"\n    const val f0168: String = \"hh\"\n    const val f0169: String = \"hi\"\n    const val f0170: String = \"hj\"\n    const val f0171: String = \"hk\"\n    const val f0172: String = \"hl\"\n    const val f0173: String = \"hm\"\n    const val f0174: String = \"hn\"\n    const val f0175: String = \"ho\"\n    const val f0176: String = \"hp\"\n    const val f0177: String = \"hq\"\n    const val f0178: String = \"hr\"\n    const val f0179: String = \"hs\"\n    const val f0180: String = \"ht\"\n\n    // i#\n    const val f0181: String = \"ia\"\n    const val f0182: String = \"ib\"\n    const val f0183: String = \"ic\"\n    const val f0184: String = \"id\"\n    const val f0185: String = \"ie\"\n    const val f0186: String = \"if\"\n    const val f0187: String = \"ig\"\n    const val f0188: String = \"ih\"\n    const val f0189: String = \"ii\"\n    const val f0190: String = \"ij\"\n    const val f0191: String = \"ik\"\n    const val f0192: String = \"il\"\n    const val f0193: String = \"im\"\n    const val f0194: String = \"in\"\n    const val f0195: String = \"io\"\n    const val f0196: String = \"ip\"\n    const val f0197: String = \"iq\"\n    const val f0198: String = \"ir\"\n    const val f0199: String = \"is\"\n    const val f0200: String = \"it\"\n\n    // j#\n    const val f0201: String = \"ja\"\n    const val f0202: String = \"jb\"\n    const val f0203: String = \"jc\"\n    const val f0204: String = \"jd\"\n    const val f0205: String = \"je\"\n    const val f0206: String = \"jf\"\n    const val f0207: String = \"jg\"\n    const val f0208: String = \"jh\"\n    const val f0209: String = \"ji\"\n    const val f0210: String = \"jj\"\n    const val f0211: String = \"jk\"\n    const val f0212: String = \"jl\"\n    const val f0213: String = \"jm\"\n    const val f0214: String = \"jn\"\n    const val f0215: String = \"jo\"\n    const val f0216: String = \"jp\"\n    const val f0217: String = \"jq\"\n    const val f0218: String = \"jr\"\n    const val f0219: String = \"js\"\n    const val f0220: String = \"jt\"\n\n    // k#\n    const val f0221: String = \"ka\"\n    const val f0222: String = \"kb\"\n    const val f0223: String = \"kc\"\n    const val f0224: String = \"kd\"\n    const val f0225: String = \"ke\"\n    const val f0226: String = \"kf\"\n    const val f0227: String = \"kg\"\n    const val f0228: String = \"kh\"\n    const val f0229: String = \"ki\"\n    const val f0230: String = \"kj\"\n    const val f0231: String = \"kk\"\n    const val f0232: String = \"kl\"\n    const val f0233: String = \"km\"\n    const val f0234: String = \"kn\"\n    const val f0235: String = \"ko\"\n    const val f0236: String = \"kp\"\n    const val f0237: String = \"kq\"\n    const val f0238: String = \"kr\"\n    const val f0239: String = \"ks\"\n    const val f0240: String = \"kt\"\n\n    // l#\n    const val f0241: String = \"la\"\n    const val f0242: String = \"lb\"\n    const val f0243: String = \"lc\"\n    const val f0244: String = \"ld\"\n    const val f0245: String = \"le\"\n    const val f0246: String = \"lf\"\n    const val f0247: String = \"lg\"\n    const val f0248: String = \"lh\"\n    const val f0249: String = \"li\"\n    const val f0250: String = \"lj\"\n    const val f0251: String = \"lk\"\n    const val f0252: String = \"ll\"\n    const val f0253: String = \"lm\"\n    const val f0254: String = \"ln\"\n    const val f0255: String = \"lo\"\n    const val f0256: String = \"lp\"\n    const val f0257: String = \"lq\"\n    const val f0258: String = \"lr\"\n    const val f0259: String = \"ls\"\n    const val f0260: String = \"lt\"\n\n    // m#\n    const val f0261: String = \"ma\"\n    const val f0262: String = \"mb\"\n    const val f0263: String = \"mc\"\n    const val f0264: String = \"md\"\n    const val f0265: String = \"me\"\n    const val f0266: String = \"mf\"\n    const val f0267: String = \"mg\"\n    const val f0268: String = \"mh\"\n    const val f0269: String = \"mi\"\n    const val f0270: String = \"mj\"\n    const val f0271: String = \"mk\"\n    const val f0272: String = \"ml\"\n    const val f0273: String = \"mm\"\n    const val f0274: String = \"mn\"\n    const val f0275: String = \"mo\"\n    const val f0276: String = \"mp\"\n    const val f0277: String = \"mq\"\n    const val f0278: String = \"mr\"\n    const val f0279: String = \"ms\"\n    const val f0280: String = \"mt\"\n\n    // n#\n    const val f0281: String = \"na\"\n    const val f0282: String = \"nb\"\n    const val f0283: String = \"nc\"\n    const val f0284: String = \"nd\"\n    const val f0285: String = \"ne\"\n    const val f0286: String = \"nf\"\n    const val f0287: String = \"ng\"\n    const val f0288: String = \"nh\"\n    const val f0289: String = \"ni\"\n    const val f0290: String = \"nj\"\n    const val f0291: String = \"nk\"\n    const val f0292: String = \"nl\"\n    const val f0293: String = \"nm\"\n    const val f0294: String = \"nn\"\n    const val f0295: String = \"no\"\n    const val f0296: String = \"np\"\n    const val f0297: String = \"nq\"\n    const val f0298: String = \"nr\"\n    const val f0299: String = \"ns\"\n    const val f0300: String = \"nt\"\n\n    // A#\n    const val f9001: String = \"Aa\"\n    const val f9002: String = \"Ab\"\n    const val f9003: String = \"Ac\"\n    const val f9004: String = \"Ad\"\n    const val f9005: String = \"Ae\"\n    const val f9006: String = \"Af\"\n    const val f9007: String = \"Ag\"\n    const val f9008: String = \"Ah\"\n    const val f9009: String = \"Ai\"\n    const val f9010: String = \"Aj\"\n    const val f9011: String = \"Ak\"\n    const val f9012: String = \"Al\"\n    const val f9013: String = \"Am\"\n    const val f9014: String = \"An\"\n    const val f9015: String = \"Ao\"\n    const val f9016: String = \"Ap\"\n    const val f9017: String = \"Aq\"\n    const val f9018: String = \"Ar\"\n    const val f9019: String = \"As\"\n    const val f9020: String = \"At\"\n\n    // B#\n    const val f9021: String = \"Ba\"\n    const val f9022: String = \"Bb\"\n    const val f9023: String = \"Bc\"\n    const val f9024: String = \"Bd\"\n    const val f9025: String = \"Be\"\n    const val f9026: String = \"Bf\"\n    const val f9027: String = \"Bg\"\n    const val f9028: String = \"Bh\"\n    const val f9029: String = \"Bi\"\n    const val f9030: String = \"Bj\"\n    const val f9031: String = \"Bk\"\n    const val f9032: String = \"Bl\"\n    const val f9033: String = \"Bm\"\n    const val f9034: String = \"Bn\"\n    const val f9035: String = \"Bo\"\n    const val f9036: String = \"Bp\"\n    const val f9037: String = \"Bq\"\n    const val f9038: String = \"Br\"\n    const val f9039: String = \"Bs\"\n    const val f9040: String = \"Bt\"\n\n    // C#\n    const val f9041: String = \"Ca\"\n    const val f9042: String = \"Cb\"\n    const val f9043: String = \"Cc\"\n    const val f9044: String = \"Cd\"\n    const val f9045: String = \"Ce\"\n    const val f9046: String = \"Cf\"\n    const val f9047: String = \"Cg\"\n    const val f9048: String = \"Ch\"\n    const val f9049: String = \"Ci\"\n    const val f9050: String = \"Cj\"\n    const val f9051: String = \"Ck\"\n    const val f9052: String = \"Cl\"\n    const val f9053: String = \"Cm\"\n    const val f9054: String = \"Cn\"\n    const val f9055: String = \"Co\"\n    const val f9056: String = \"Cp\"\n    const val f9057: String = \"Cq\"\n    const val f9058: String = \"Cr\"\n    const val f9059: String = \"Cs\"\n    const val f9060: String = \"Ct\"\n\n    // D#\n    const val f9061: String = \"Da\"\n    const val f9062: String = \"Db\"\n    const val f9063: String = \"Dc\"\n    const val f9064: String = \"Dd\"\n    const val f9065: String = \"De\"\n    const val f9066: String = \"Df\"\n    const val f9067: String = \"Dg\"\n    const val f9068: String = \"Dh\"\n    const val f9069: String = \"Di\"\n    const val f9070: String = \"Dj\"\n    const val f9071: String = \"Dk\"\n    const val f9072: String = \"Dl\"\n    const val f9073: String = \"Dm\"\n    const val f9074: String = \"Dn\"\n    const val f9075: String = \"Do\"\n    const val f9076: String = \"Dp\"\n    const val f9077: String = \"Dq\"\n    const val f9078: String = \"Dr\"\n    const val f9079: String = \"Ds\"\n    const val f9080: String = \"Dt\"\n}\n","package de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlin.jvm.JvmName\n\n@SemanticUiDslMarker\nval Tag.ui: SemanticTag\n    get() = SemanticTag(this, mutableListOf(\"ui\"))\n\n@SemanticUiDslMarker\nval Tag.noui: SemanticTag\n    get() = SemanticTag(this, mutableListOf(\"\"))\n\n@SemanticIconMarker\nval FlowContent.icon: SemanticIcon\n    get() = SemanticIcon(this)\n\n@SemanticIconMarker\nval FlowContent.emoji: SemanticEmoji\n    get() = SemanticEmoji(this)\n\n@SemanticIconMarker\nval FlowContent.flag: SemanticFlag\n    get() = SemanticFlag(this)\n\n/**\n * Helps the compiler to identify functions that operate on [FlowContent].\n */\ntypealias RenderFn = FlowContent.() -> Unit\n\n/**\n * Helps the compiler to identify functions that operate on T.\n */\ntypealias RenderFunc<T> = T.() -> Unit\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\n@JvmName(\"renderFn\")\nfun renderFn(block: RenderFn): RenderFn = block\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\n@JvmName(\"renderFnT\")\nfun <T : Tag> renderFn(block: RenderFunc<T>): RenderFunc<T> = block\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a [FlowContent]\n */\nfun flowContent(block: FlowContent.() -> Unit) = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticFn = SemanticTag.() -> SemanticTag\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semantic(block: SemanticFn): SemanticFn = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticIconFn = SemanticIcon.() -> SemanticIcon\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semanticIcon(block: SemanticIconFn): SemanticIconFn = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticEmojiFn = SemanticEmoji.() -> SemanticEmoji\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semanticEmoji(block: SemanticEmojiFn): SemanticEmojiFn = block\n",null,"/**\n * marked - a markdown parser\n * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction getDefaults() {\n  return {\n    async: false,\n    baseUrl: null,\n    breaks: false,\n    extensions: null,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\nexports.defaults = getDefaults();\nfunction changeDefaults(newDefaults) {\n  exports.defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nvar escapeTest = /[&<>\"']/;\nvar escapeReplace = /[&<>\"']/g;\nvar escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nvar escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nvar escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nvar getEscapeReplacement = function getEscapeReplacement(ch) {\n  return escapeReplacements[ch];\n};\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\nvar unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n/**\n * @param {string} html\n */\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, function (_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n    }\n\n    return '';\n  });\n}\nvar caret = /(^|[^\\[])\\^/g;\n/**\n * @param {string | RegExp} regex\n * @param {string} opt\n */\n\nfunction edit(regex, opt) {\n  regex = typeof regex === 'string' ? regex : regex.source;\n  opt = opt || '';\n  var obj = {\n    replace: function replace(name, val) {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: function getRegex() {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\nvar nonWordAndColonTest = /[^\\w:]/g;\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n/**\n * @param {boolean} sanitize\n * @param {string} base\n * @param {string} href\n */\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    var prot;\n\n    try {\n      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n    } catch (e) {\n      return null;\n    }\n\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n\n  return href;\n}\nvar baseUrls = {};\nvar justDomain = /^[^:]+:\\/*[^/]*$/;\nvar protocol = /^([^:]+:)[\\s\\S]*$/;\nvar domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n/**\n * @param {string} base\n * @param {string} href\n */\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n\n  base = baseUrls[' ' + base];\n  var relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar noopTest = {\n  exec: function noopTest() {}\n};\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n    var escaped = false,\n        curr = offset;\n\n    while (--curr >= 0 && str[curr] === '\\\\') {\n      escaped = !escaped;\n    }\n\n    if (escaped) {\n      // odd number of slashes means | is escaped\n      // so we leave it alone\n      return '|';\n    } else {\n      // add space before unescaped |\n      return ' |';\n    }\n  }),\n      cells = row.split(/ \\|/);\n  var i = 0; // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n\n  if (!cells[0].trim()) {\n    cells.shift();\n  }\n\n  if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n    cells.pop();\n  }\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) {\n      cells.push('');\n    }\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n\n  return cells;\n}\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param {string} str\n * @param {string} c\n * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n */\n\nfunction rtrim(str, c, invert) {\n  var l = str.length;\n\n  if (l === 0) {\n    return '';\n  } // Length of suffix matching the invert condition.\n\n\n  var suffLen = 0; // Step left until we fail to match the invert condition.\n\n  while (suffLen < l) {\n    var currChar = str.charAt(l - suffLen - 1);\n\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.slice(0, l - suffLen);\n}\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n\n  var l = str.length;\n  var level = 0,\n      i = 0;\n\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n} // copied from https://stackoverflow.com/a/5450113/806777\n\n/**\n * @param {string} pattern\n * @param {number} count\n */\n\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n\n  var result = '';\n\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n\n    count >>= 1;\n    pattern += pattern;\n  }\n\n  return result + pattern;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n  var href = link.href;\n  var title = link.title ? escape(link.title) : null;\n  var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    lexer.state.inLink = true;\n    var token = {\n      type: 'link',\n      raw: raw,\n      href: href,\n      title: title,\n      text: text,\n      tokens: lexer.inlineTokens(text)\n    };\n    lexer.state.inLink = false;\n    return token;\n  }\n\n  return {\n    type: 'image',\n    raw: raw,\n    href: href,\n    title: title,\n    text: escape(text)\n  };\n}\n\nfunction indentCodeCompensation(raw, text) {\n  var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  var indentToCode = matchIndentToCode[1];\n  return text.split('\\n').map(function (node) {\n    var matchIndentInNode = node.match(/^\\s+/);\n\n    if (matchIndentInNode === null) {\n      return node;\n    }\n\n    var indentInNode = matchIndentInNode[0];\n\n    if (indentInNode.length >= indentToCode.length) {\n      return node.slice(indentToCode.length);\n    }\n\n    return node;\n  }).join('\\n');\n}\n/**\n * Tokenizer\n */\n\n\nvar Tokenizer = /*#__PURE__*/function () {\n  function Tokenizer(options) {\n    this.options = options || exports.defaults;\n  }\n\n  var _proto = Tokenizer.prototype;\n\n  _proto.space = function space(src) {\n    var cap = this.rules.block.newline.exec(src);\n\n    if (cap && cap[0].length > 0) {\n      return {\n        type: 'space',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.code = function code(src) {\n    var cap = this.rules.block.code.exec(src);\n\n    if (cap) {\n      var text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic ? rtrim(text, '\\n') : text\n      };\n    }\n  };\n\n  _proto.fences = function fences(src) {\n    var cap = this.rules.block.fences.exec(src);\n\n    if (cap) {\n      var raw = cap[0];\n      var text = indentCodeCompensation(raw, cap[3] || '');\n      return {\n        type: 'code',\n        raw: raw,\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: text\n      };\n    }\n  };\n\n  _proto.heading = function heading(src) {\n    var cap = this.rules.block.heading.exec(src);\n\n    if (cap) {\n      var text = cap[2].trim(); // remove trailing #s\n\n      if (/#$/.test(text)) {\n        var trimmed = rtrim(text, '#');\n\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  };\n\n  _proto.hr = function hr(src) {\n    var cap = this.rules.block.hr.exec(src);\n\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.blockquote = function blockquote(src) {\n    var cap = this.rules.block.blockquote.exec(src);\n\n    if (cap) {\n      var text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        tokens: this.lexer.blockTokens(text, []),\n        text: text\n      };\n    }\n  };\n\n  _proto.list = function list(src) {\n    var cap = this.rules.block.list.exec(src);\n\n    if (cap) {\n      var raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents, endEarly;\n      var bull = cap[1].trim();\n      var isordered = bull.length > 1;\n      var list = {\n        type: 'list',\n        raw: '',\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n      bull = isordered ? \"\\\\d{1,9}\\\\\" + bull.slice(-1) : \"\\\\\" + bull;\n\n      if (this.options.pedantic) {\n        bull = isordered ? bull : '[*+-]';\n      } // Get next list item\n\n\n      var itemRegex = new RegExp(\"^( {0,3}\" + bull + \")((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))\"); // Check if current bullet point can start a new List Item\n\n      while (src) {\n        endEarly = false;\n\n        if (!(cap = itemRegex.exec(src))) {\n          break;\n        }\n\n        if (this.rules.block.hr.test(src)) {\n          // End list if bullet was actually HR (possibly move into itemRegex?)\n          break;\n        }\n\n        raw = cap[0];\n        src = src.substring(raw.length);\n        line = cap[2].split('\\n', 1)[0];\n        nextLine = src.split('\\n', 1)[0];\n\n        if (this.options.pedantic) {\n          indent = 2;\n          itemContents = line.trimLeft();\n        } else {\n          indent = cap[2].search(/[^ ]/); // Find first non-space char\n\n          indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n\n          itemContents = line.slice(indent);\n          indent += cap[1].length;\n        }\n\n        blankLine = false;\n\n        if (!line && /^ *$/.test(nextLine)) {\n          // Items begin with at most one blank line\n          raw += nextLine + '\\n';\n          src = src.substring(nextLine.length + 1);\n          endEarly = true;\n        }\n\n        if (!endEarly) {\n          var nextBulletRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:[*+-]|\\\\d{1,9}[.)])((?: [^\\\\n]*)?(?:\\\\n|$))\");\n          var hrRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)\");\n          var fencesBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:```|~~~)\");\n          var headingBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}#\"); // Check if following lines should be included in List Item\n\n          while (src) {\n            rawLine = src.split('\\n', 1)[0];\n            line = rawLine; // Re-align to follow commonmark nesting rules\n\n            if (this.options.pedantic) {\n              line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n            } // End list item if found code fences\n\n\n            if (fencesBeginRegex.test(line)) {\n              break;\n            } // End list item if found start of new heading\n\n\n            if (headingBeginRegex.test(line)) {\n              break;\n            } // End list item if found start of new bullet\n\n\n            if (nextBulletRegex.test(line)) {\n              break;\n            } // Horizontal rule found\n\n\n            if (hrRegex.test(src)) {\n              break;\n            }\n\n            if (line.search(/[^ ]/) >= indent || !line.trim()) {\n              // Dedent if possible\n              itemContents += '\\n' + line.slice(indent);\n            } else if (!blankLine) {\n              // Until blank line, item doesn't need indentation\n              itemContents += '\\n' + line;\n            } else {\n              // Otherwise, improper indentation ends this item\n              break;\n            }\n\n            if (!blankLine && !line.trim()) {\n              // Check if current line is blank\n              blankLine = true;\n            }\n\n            raw += rawLine + '\\n';\n            src = src.substring(rawLine.length + 1);\n          }\n        }\n\n        if (!list.loose) {\n          // If the previous item ended with a blank line, the list is loose\n          if (endsWithBlankLine) {\n            list.loose = true;\n          } else if (/\\n *\\n *$/.test(raw)) {\n            endsWithBlankLine = true;\n          }\n        } // Check for task list items\n\n\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.exec(itemContents);\n\n          if (istask) {\n            ischecked = istask[0] !== '[ ] ';\n            itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw: raw,\n          task: !!istask,\n          checked: ischecked,\n          loose: false,\n          text: itemContents\n        });\n        list.raw += raw;\n      } // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n\n\n      list.items[list.items.length - 1].raw = raw.trimRight();\n      list.items[list.items.length - 1].text = itemContents.trimRight();\n      list.raw = list.raw.trimRight();\n      var l = list.items.length; // Item child tokens handled here at end because we needed to have the final item to trim it first\n\n      for (i = 0; i < l; i++) {\n        this.lexer.state.top = false;\n        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n        var spacers = list.items[i].tokens.filter(function (t) {\n          return t.type === 'space';\n        });\n        var hasMultipleLineBreaks = spacers.every(function (t) {\n          var chars = t.raw.split('');\n          var lineBreaks = 0;\n\n          for (var _iterator = _createForOfIteratorHelperLoose(chars), _step; !(_step = _iterator()).done;) {\n            var _char = _step.value;\n\n            if (_char === '\\n') {\n              lineBreaks += 1;\n            }\n\n            if (lineBreaks > 1) {\n              return true;\n            }\n          }\n\n          return false;\n        });\n\n        if (!list.loose && spacers.length && hasMultipleLineBreaks) {\n          // Having a single line break doesn't mean a list is loose. A single line break is terminating the last list item\n          list.loose = true;\n          list.items[i].loose = true;\n        }\n      }\n\n      return list;\n    }\n  };\n\n  _proto.html = function html(src) {\n    var cap = this.rules.block.html.exec(src);\n\n    if (cap) {\n      var token = {\n        type: 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      };\n\n      if (this.options.sanitize) {\n        var text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n        token.type = 'paragraph';\n        token.text = text;\n        token.tokens = this.lexer.inline(text);\n      }\n\n      return token;\n    }\n  };\n\n  _proto.def = function def(src) {\n    var cap = this.rules.block.def.exec(src);\n\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        type: 'def',\n        tag: tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  };\n\n  _proto.table = function table(src) {\n    var cap = this.rules.block.table.exec(src);\n\n    if (cap) {\n      var item = {\n        type: 'table',\n        header: splitCells(cap[1]).map(function (c) {\n          return {\n            text: c\n          };\n        }),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n        var l = item.align.length;\n        var i, j, k, row;\n\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.rows.length;\n\n        for (i = 0; i < l; i++) {\n          item.rows[i] = splitCells(item.rows[i], item.header.length).map(function (c) {\n            return {\n              text: c\n            };\n          });\n        } // parse child tokens inside headers and cells\n        // header child tokens\n\n\n        l = item.header.length;\n\n        for (j = 0; j < l; j++) {\n          item.header[j].tokens = this.lexer.inline(item.header[j].text);\n        } // cell child tokens\n\n\n        l = item.rows.length;\n\n        for (j = 0; j < l; j++) {\n          row = item.rows[j];\n\n          for (k = 0; k < row.length; k++) {\n            row[k].tokens = this.lexer.inline(row[k].text);\n          }\n        }\n\n        return item;\n      }\n    }\n  };\n\n  _proto.lheading = function lheading(src) {\n    var cap = this.rules.block.lheading.exec(src);\n\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1],\n        tokens: this.lexer.inline(cap[1])\n      };\n    }\n  };\n\n  _proto.paragraph = function paragraph(src) {\n    var cap = this.rules.block.paragraph.exec(src);\n\n    if (cap) {\n      var text = cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1];\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  };\n\n  _proto.text = function text(src) {\n    var cap = this.rules.block.text.exec(src);\n\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0],\n        tokens: this.lexer.inline(cap[0])\n      };\n    }\n  };\n\n  _proto.escape = function escape$1(src) {\n    var cap = this.rules.inline.escape.exec(src);\n\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  };\n\n  _proto.tag = function tag(src) {\n    var cap = this.rules.inline.tag.exec(src);\n\n    if (cap) {\n      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n        this.lexer.state.inLink = true;\n      } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.lexer.state.inLink = false;\n      }\n\n      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = true;\n      } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize ? 'text' : 'html',\n        raw: cap[0],\n        inLink: this.lexer.state.inLink,\n        inRawBlock: this.lexer.state.inRawBlock,\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  };\n\n  _proto.link = function link(src) {\n    var cap = this.rules.inline.link.exec(src);\n\n    if (cap) {\n      var trimmedUrl = cap[2].trim();\n\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!/>$/.test(trimmedUrl)) {\n          return;\n        } // ending angle bracket cannot be escaped\n\n\n        var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        var lastParenIndex = findClosingBracket(cap[2], '()');\n\n        if (lastParenIndex > -1) {\n          var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          var linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n\n      var href = cap[2];\n      var title = '';\n\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0], this.lexer);\n    }\n  };\n\n  _proto.reflink = function reflink(src, links) {\n    var cap;\n\n    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n      var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n\n      if (!link || !link.href) {\n        var text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text: text\n        };\n      }\n\n      return outputLink(cap, link, cap[0], this.lexer);\n    }\n  };\n\n  _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n    if (prevChar === void 0) {\n      prevChar = '';\n    }\n\n    var match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n    if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDF70-\\uDF81\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDE70-\\uDEBE\\uDEC0-\\uDEC9\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD837[\\uDF00-\\uDF1E]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD839[\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF38\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n    var nextChar = match[1] || match[2] || '';\n\n    if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n      var lLength = match[0].length - 1;\n      var rDelim,\n          rLength,\n          delimTotal = lLength,\n          midDelimTotal = 0;\n      var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)\n\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n        if (!rDelim) continue; // skip single * in __abc*abc__\n\n        rLength = rDelim.length;\n\n        if (match[3] || match[4]) {\n          // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) {\n          // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n        if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n        // Remove extra characters. *a*** -> *a*\n\n        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***\n\n        if (Math.min(lLength, rLength) % 2) {\n          var _text = src.slice(1, lLength + match.index + rLength);\n\n          return {\n            type: 'em',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text: _text,\n            tokens: this.lexer.inlineTokens(_text)\n          };\n        } // Create 'strong' if smallest delimiter has even char count. **a***\n\n\n        var text = src.slice(2, lLength + match.index + rLength - 1);\n        return {\n          type: 'strong',\n          raw: src.slice(0, lLength + match.index + rLength + 1),\n          text: text,\n          tokens: this.lexer.inlineTokens(text)\n        };\n      }\n    }\n  };\n\n  _proto.codespan = function codespan(src) {\n    var cap = this.rules.inline.code.exec(src);\n\n    if (cap) {\n      var text = cap[2].replace(/\\n/g, ' ');\n      var hasNonSpaceChars = /[^ ]/.test(text);\n      var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n\n  _proto.br = function br(src) {\n    var cap = this.rules.inline.br.exec(src);\n\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.del = function del(src) {\n    var cap = this.rules.inline.del.exec(src);\n\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2],\n        tokens: this.lexer.inlineTokens(cap[2])\n      };\n    }\n  };\n\n  _proto.autolink = function autolink(src, mangle) {\n    var cap = this.rules.inline.autolink.exec(src);\n\n    if (cap) {\n      var text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n\n  _proto.url = function url(src, mangle) {\n    var cap;\n\n    if (cap = this.rules.inline.url.exec(src)) {\n      var text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        var prevCapZero;\n\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n\n        text = escape(cap[0]);\n\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n\n  _proto.inlineText = function inlineText(src, smartypants) {\n    var cap = this.rules.inline.text.exec(src);\n\n    if (cap) {\n      var text;\n\n      if (this.lexer.state.inRawBlock) {\n        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n\n  return Tokenizer;\n}();\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n  hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n  html: '^ {0,3}(?:' // optional indentation\n  + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n  + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n  + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n  + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n  + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n  + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n  + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n  + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n  + ')',\n  def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?<?([^\\s>]+)>?(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */).replace('bull', block.bullet).getRegex();\nblock.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\nblock.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('|table', '').replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\nblock.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n  + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n  + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n});\nblock.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\nblock.gfm.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('table', block.gfm.table) // interrupt paragraphs with table\n.replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n  + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest,\n  // fences not supported\n  paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n});\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n  + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n  + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n  + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n  + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n  // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n  nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  emStrong: {\n    lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n    //          () Skip orphan inside strong  () Consume to delim (1) #***                (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n    rDelimAst: /^[^_*]*?\\_\\_[^_*]*?\\*[^_*]*?(?=\\_\\_)|[^*]+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n    rDelimUnd: /^[^_*]*?\\*\\*[^_*]*?\\_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n\n  },\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\spunctuation])/\n}; // list of punctuation marks from CommonMark spec\n// without * and _ to handle the different emphasis markers * and _\n\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\ninline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\ninline.escapedEmSt = /\\\\\\*|\\\\_/g;\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\ninline.tag = edit(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\ninline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\ninline.reflink = edit(inline.reflink).replace('label', inline._label).replace('ref', block._label).getRegex();\ninline.nolink = edit(inline.nolink).replace('ref', block._label).getRegex();\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n});\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n});\ninline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * smartypants text replacement\n * @param {string} text\n */\n\nfunction smartypants(text) {\n  return text // em-dashes\n  .replace(/---/g, \"\\u2014\") // en-dashes\n  .replace(/--/g, \"\\u2013\") // opening singles\n  .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n  .replace(/'/g, \"\\u2019\") // opening doubles\n  .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n  .replace(/\"/g, \"\\u201D\") // ellipses\n  .replace(/\\.{3}/g, \"\\u2026\");\n}\n/**\n * mangle email addresses\n * @param {string} text\n */\n\n\nfunction mangle(text) {\n  var out = '',\n      i,\n      ch;\n  var l = text.length;\n\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n/**\n * Block Lexer\n */\n\n\nvar Lexer = /*#__PURE__*/function () {\n  function Lexer(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || exports.defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    this.tokenizer.lexer = this;\n    this.inlineQueue = [];\n    this.state = {\n      inLink: false,\n      inRawBlock: false,\n      top: true\n    };\n    var rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n\n    this.tokenizer.rules = rules;\n  }\n  /**\n   * Expose Rules\n   */\n\n\n  /**\n   * Static Lex Method\n   */\n  Lexer.lex = function lex(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n  /**\n   * Static Lex Inline Method\n   */\n  ;\n\n  Lexer.lexInline = function lexInline(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n  /**\n   * Preprocessing\n   */\n  ;\n\n  var _proto = Lexer.prototype;\n\n  _proto.lex = function lex(src) {\n    src = src.replace(/\\r\\n|\\r/g, '\\n');\n    this.blockTokens(src, this.tokens);\n    var next;\n\n    while (next = this.inlineQueue.shift()) {\n      this.inlineTokens(next.src, next.tokens);\n    }\n\n    return this.tokens;\n  }\n  /**\n   * Lexing\n   */\n  ;\n\n  _proto.blockTokens = function blockTokens(src, tokens) {\n    var _this = this;\n\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    if (this.options.pedantic) {\n      src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n    } else {\n      src = src.replace(/^( *)(\\t+)/gm, function (_, leading, tabs) {\n        return leading + '    '.repeat(tabs.length);\n      });\n    }\n\n    var token, lastToken, cutSrc, lastParagraphClipped;\n\n    while (src) {\n      if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n\n        return false;\n      })) {\n        continue;\n      } // newline\n\n\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n\n        if (token.raw.length === 1 && tokens.length > 0) {\n          // if there's a single \\n as a spacer, it's terminating the last line,\n          // so move it there so that we don't get unecessary paragraph tags\n          tokens[tokens.length - 1].raw += '\\n';\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.code(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // fences\n\n\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // heading\n\n\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // hr\n\n\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // blockquote\n\n\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // list\n\n\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // html\n\n\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // def\n\n\n      if (token = this.tokenizer.def(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.raw;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n\n        continue;\n      } // table (gfm)\n\n\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // lheading\n\n\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // top-level paragraph\n      // prevent paragraph consuming extensions by clipping 'src' to extension start\n\n\n      cutSrc = src;\n\n      if (this.options.extensions && this.options.extensions.startBlock) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n\n          _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n\n      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastParagraphClipped && lastToken.type === 'paragraph') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        lastParagraphClipped = cutSrc.length !== src.length;\n        src = src.substring(token.raw.length);\n        continue;\n      } // text\n\n\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      }\n\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    this.state.top = true;\n    return tokens;\n  };\n\n  _proto.inline = function inline(src, tokens) {\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    this.inlineQueue.push({\n      src: src,\n      tokens: tokens\n    });\n    return tokens;\n  }\n  /**\n   * Lexing/Compiling\n   */\n  ;\n\n  _proto.inlineTokens = function inlineTokens(src, tokens) {\n    var _this2 = this;\n\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong\n\n    var maskedSrc = src;\n    var match;\n    var keepPrevChar, prevChar; // Mask out reflinks\n\n    if (this.tokens.links) {\n      var links = Object.keys(this.tokens.links);\n\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    } // Mask out other blocks\n\n\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    } // Mask out escaped em & strong delimiters\n\n\n    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n    }\n\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n\n      keepPrevChar = false; // extensions\n\n      if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this2\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n\n        return false;\n      })) {\n        continue;\n      } // escape\n\n\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // tag\n\n\n      if (token = this.tokenizer.tag(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // link\n\n\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // reflink, nolink\n\n\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // em & strong\n\n\n      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // br\n\n\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // del (gfm)\n\n\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // autolink\n\n\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // url (gfm)\n\n\n      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // text\n      // prevent inlineText consuming extensions by clipping 'src' to extension start\n\n\n      cutSrc = src;\n\n      if (this.options.extensions && this.options.extensions.startInline) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n\n          _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n\n      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n        src = src.substring(token.raw.length);\n\n        if (token.raw.slice(-1) !== '_') {\n          // Track prevChar before string of ____ started\n          prevChar = token.raw.slice(-1);\n        }\n\n        keepPrevChar = true;\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      }\n\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  };\n\n  _createClass(Lexer, null, [{\n    key: \"rules\",\n    get: function get() {\n      return {\n        block: block,\n        inline: inline\n      };\n    }\n  }]);\n\n  return Lexer;\n}();\n\n/**\n * Renderer\n */\n\nvar Renderer = /*#__PURE__*/function () {\n  function Renderer(options) {\n    this.options = options || exports.defaults;\n  }\n\n  var _proto = Renderer.prototype;\n\n  _proto.code = function code(_code, infostring, escaped) {\n    var lang = (infostring || '').match(/\\S*/)[0];\n\n    if (this.options.highlight) {\n      var out = this.options.highlight(_code, lang);\n\n      if (out != null && out !== _code) {\n        escaped = true;\n        _code = out;\n      }\n    }\n\n    _code = _code.replace(/\\n$/, '') + '\\n';\n\n    if (!lang) {\n      return '<pre><code>' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n  }\n  /**\n   * @param {string} quote\n   */\n  ;\n\n  _proto.blockquote = function blockquote(quote) {\n    return \"<blockquote>\\n\" + quote + \"</blockquote>\\n\";\n  };\n\n  _proto.html = function html(_html) {\n    return _html;\n  }\n  /**\n   * @param {string} text\n   * @param {string} level\n   * @param {string} raw\n   * @param {any} slugger\n   */\n  ;\n\n  _proto.heading = function heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      var id = this.options.headerPrefix + slugger.slug(raw);\n      return \"<h\" + level + \" id=\\\"\" + id + \"\\\">\" + text + \"</h\" + level + \">\\n\";\n    } // ignore IDs\n\n\n    return \"<h\" + level + \">\" + text + \"</h\" + level + \">\\n\";\n  };\n\n  _proto.hr = function hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  };\n\n  _proto.list = function list(body, ordered, start) {\n    var type = ordered ? 'ol' : 'ul',\n        startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.listitem = function listitem(text) {\n    return \"<li>\" + text + \"</li>\\n\";\n  };\n\n  _proto.checkbox = function checkbox(checked) {\n    return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.paragraph = function paragraph(text) {\n    return \"<p>\" + text + \"</p>\\n\";\n  }\n  /**\n   * @param {string} header\n   * @param {string} body\n   */\n  ;\n\n  _proto.table = function table(header, body) {\n    if (body) body = \"<tbody>\" + body + \"</tbody>\";\n    return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n  }\n  /**\n   * @param {string} content\n   */\n  ;\n\n  _proto.tablerow = function tablerow(content) {\n    return \"<tr>\\n\" + content + \"</tr>\\n\";\n  };\n\n  _proto.tablecell = function tablecell(content, flags) {\n    var type = flags.header ? 'th' : 'td';\n    var tag = flags.align ? \"<\" + type + \" align=\\\"\" + flags.align + \"\\\">\" : \"<\" + type + \">\";\n    return tag + content + (\"</\" + type + \">\\n\");\n  }\n  /**\n   * span level renderer\n   * @param {string} text\n   */\n  ;\n\n  _proto.strong = function strong(text) {\n    return \"<strong>\" + text + \"</strong>\";\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.em = function em(text) {\n    return \"<em>\" + text + \"</em>\";\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.codespan = function codespan(text) {\n    return \"<code>\" + text + \"</code>\";\n  };\n\n  _proto.br = function br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.del = function del(text) {\n    return \"<del>\" + text + \"</del>\";\n  }\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  ;\n\n  _proto.link = function link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = '<a href=\"' + escape(href) + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += '>' + text + '</a>';\n    return out;\n  }\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  ;\n\n  _proto.image = function image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = \"<img src=\\\"\" + href + \"\\\" alt=\\\"\" + text + \"\\\"\";\n\n    if (title) {\n      out += \" title=\\\"\" + title + \"\\\"\";\n    }\n\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  };\n\n  _proto.text = function text(_text) {\n    return _text;\n  };\n\n  return Renderer;\n}();\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nvar TextRenderer = /*#__PURE__*/function () {\n  function TextRenderer() {}\n\n  var _proto = TextRenderer.prototype;\n\n  // no need for block level renderers\n  _proto.strong = function strong(text) {\n    return text;\n  };\n\n  _proto.em = function em(text) {\n    return text;\n  };\n\n  _proto.codespan = function codespan(text) {\n    return text;\n  };\n\n  _proto.del = function del(text) {\n    return text;\n  };\n\n  _proto.html = function html(text) {\n    return text;\n  };\n\n  _proto.text = function text(_text) {\n    return _text;\n  };\n\n  _proto.link = function link(href, title, text) {\n    return '' + text;\n  };\n\n  _proto.image = function image(href, title, text) {\n    return '' + text;\n  };\n\n  _proto.br = function br() {\n    return '';\n  };\n\n  return TextRenderer;\n}();\n\n/**\n * Slugger generates header id\n */\nvar Slugger = /*#__PURE__*/function () {\n  function Slugger() {\n    this.seen = {};\n  }\n  /**\n   * @param {string} value\n   */\n\n\n  var _proto = Slugger.prototype;\n\n  _proto.serialize = function serialize(value) {\n    return value.toLowerCase().trim() // remove html tags\n    .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n  }\n  /**\n   * Finds the next safe (unique) slug to use\n   * @param {string} originalSlug\n   * @param {boolean} isDryRun\n   */\n  ;\n\n  _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n    var slug = originalSlug;\n    var occurenceAccumulator = 0;\n\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n\n    return slug;\n  }\n  /**\n   * Convert string to unique id\n   * @param {object} [options]\n   * @param {boolean} [options.dryrun] Generates the next unique slug without\n   * updating the internal accumulator.\n   */\n  ;\n\n  _proto.slug = function slug(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  };\n\n  return Slugger;\n}();\n\n/**\n * Parsing & Compiling\n */\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(options) {\n    this.options = options || exports.defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n  /**\n   * Static Parse Method\n   */\n\n\n  Parser.parse = function parse(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n  /**\n   * Static Parse Inline Method\n   */\n  ;\n\n  Parser.parseInline = function parseInline(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n  /**\n   * Parse Loop\n   */\n  ;\n\n  var _proto = Parser.prototype;\n\n  _proto.parse = function parse(tokens, top) {\n    if (top === void 0) {\n      top = true;\n    }\n\n    var out = '',\n        i,\n        j,\n        k,\n        l2,\n        l3,\n        row,\n        cell,\n        header,\n        body,\n        token,\n        ordered,\n        start,\n        loose,\n        itemBody,\n        item,\n        checked,\n        task,\n        checkbox,\n        ret;\n    var l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i]; // Run any renderer extensions\n\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n\n        if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'space':\n          {\n            continue;\n          }\n\n        case 'hr':\n          {\n            out += this.renderer.hr();\n            continue;\n          }\n\n        case 'heading':\n          {\n            out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n            continue;\n          }\n\n        case 'code':\n          {\n            out += this.renderer.code(token.text, token.lang, token.escaped);\n            continue;\n          }\n\n        case 'table':\n          {\n            header = ''; // header\n\n            cell = '';\n            l2 = token.header.length;\n\n            for (j = 0; j < l2; j++) {\n              cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), {\n                header: true,\n                align: token.align[j]\n              });\n            }\n\n            header += this.renderer.tablerow(cell);\n            body = '';\n            l2 = token.rows.length;\n\n            for (j = 0; j < l2; j++) {\n              row = token.rows[j];\n              cell = '';\n              l3 = row.length;\n\n              for (k = 0; k < l3; k++) {\n                cell += this.renderer.tablecell(this.parseInline(row[k].tokens), {\n                  header: false,\n                  align: token.align[k]\n                });\n              }\n\n              body += this.renderer.tablerow(cell);\n            }\n\n            out += this.renderer.table(header, body);\n            continue;\n          }\n\n        case 'blockquote':\n          {\n            body = this.parse(token.tokens);\n            out += this.renderer.blockquote(body);\n            continue;\n          }\n\n        case 'list':\n          {\n            ordered = token.ordered;\n            start = token.start;\n            loose = token.loose;\n            l2 = token.items.length;\n            body = '';\n\n            for (j = 0; j < l2; j++) {\n              item = token.items[j];\n              checked = item.checked;\n              task = item.task;\n              itemBody = '';\n\n              if (item.task) {\n                checkbox = this.renderer.checkbox(checked);\n\n                if (loose) {\n                  if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                      item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                    }\n                  } else {\n                    item.tokens.unshift({\n                      type: 'text',\n                      text: checkbox\n                    });\n                  }\n                } else {\n                  itemBody += checkbox;\n                }\n              }\n\n              itemBody += this.parse(item.tokens, loose);\n              body += this.renderer.listitem(itemBody, task, checked);\n            }\n\n            out += this.renderer.list(body, ordered, start);\n            continue;\n          }\n\n        case 'html':\n          {\n            // TODO parse inline content if parameter markdown=1\n            out += this.renderer.html(token.text);\n            continue;\n          }\n\n        case 'paragraph':\n          {\n            out += this.renderer.paragraph(this.parseInline(token.tokens));\n            continue;\n          }\n\n        case 'text':\n          {\n            body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n            while (i + 1 < l && tokens[i + 1].type === 'text') {\n              token = tokens[++i];\n              body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n            }\n\n            out += top ? this.renderer.paragraph(body) : body;\n            continue;\n          }\n\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  }\n  /**\n   * Parse Inline Tokens\n   */\n  ;\n\n  _proto.parseInline = function parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    var out = '',\n        i,\n        token,\n        ret;\n    var l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i]; // Run any renderer extensions\n\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n\n        if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'escape':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        case 'html':\n          {\n            out += renderer.html(token.text);\n            break;\n          }\n\n        case 'link':\n          {\n            out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'image':\n          {\n            out += renderer.image(token.href, token.title, token.text);\n            break;\n          }\n\n        case 'strong':\n          {\n            out += renderer.strong(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'em':\n          {\n            out += renderer.em(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'codespan':\n          {\n            out += renderer.codespan(token.text);\n            break;\n          }\n\n        case 'br':\n          {\n            out += renderer.br();\n            break;\n          }\n\n        case 'del':\n          {\n            out += renderer.del(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'text':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  };\n\n  return Parser;\n}();\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (typeof opt === 'function') {\n    callback = opt;\n    opt = null;\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  if (callback) {\n    var highlight = opt.highlight;\n    var tokens;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    var done = function done(err) {\n      var out;\n\n      if (!err) {\n        try {\n          if (opt.walkTokens) {\n            marked.walkTokens(tokens, opt.walkTokens);\n          }\n\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n      }\n\n      opt.highlight = highlight;\n      return err ? callback(err) : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n    if (!tokens.length) return done();\n    var pending = 0;\n    marked.walkTokens(tokens, function (token) {\n      if (token.type === 'code') {\n        pending++;\n        setTimeout(function () {\n          highlight(token.text, token.lang, function (err, code) {\n            if (err) {\n              return done(err);\n            }\n\n            if (code != null && code !== token.text) {\n              token.text = code;\n              token.escaped = true;\n            }\n\n            pending--;\n\n            if (pending === 0) {\n              done();\n            }\n          });\n        }, 0);\n      }\n    });\n\n    if (pending === 0) {\n      done();\n    }\n\n    return;\n  }\n\n  function onError(e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n\n  try {\n    var _tokens = Lexer.lex(src, opt);\n\n    if (opt.walkTokens) {\n      if (opt.async) {\n        return Promise.all(marked.walkTokens(_tokens, opt.walkTokens)).then(function () {\n          return Parser.parse(_tokens, opt);\n        })[\"catch\"](onError);\n      }\n\n      marked.walkTokens(_tokens, opt.walkTokens);\n    }\n\n    return Parser.parse(_tokens, opt);\n  } catch (e) {\n    onError(e);\n  }\n}\n/**\n * Options\n */\n\nmarked.options = marked.setOptions = function (opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\nmarked.defaults = exports.defaults;\n/**\n * Use Extension\n */\n\nmarked.use = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var opts = merge.apply(void 0, [{}].concat(args));\n  var extensions = marked.defaults.extensions || {\n    renderers: {},\n    childTokens: {}\n  };\n  var hasExtensions;\n  args.forEach(function (pack) {\n    // ==-- Parse \"addon\" extensions --== //\n    if (pack.extensions) {\n      hasExtensions = true;\n      pack.extensions.forEach(function (ext) {\n        if (!ext.name) {\n          throw new Error('extension name required');\n        }\n\n        if (ext.renderer) {\n          // Renderer extensions\n          var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n\n          if (prevRenderer) {\n            // Replace extension with func to run new extension but fall back if false\n            extensions.renderers[ext.name] = function () {\n              for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var ret = ext.renderer.apply(this, args);\n\n              if (ret === false) {\n                ret = prevRenderer.apply(this, args);\n              }\n\n              return ret;\n            };\n          } else {\n            extensions.renderers[ext.name] = ext.renderer;\n          }\n        }\n\n        if (ext.tokenizer) {\n          // Tokenizer Extensions\n          if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n            throw new Error(\"extension level must be 'block' or 'inline'\");\n          }\n\n          if (extensions[ext.level]) {\n            extensions[ext.level].unshift(ext.tokenizer);\n          } else {\n            extensions[ext.level] = [ext.tokenizer];\n          }\n\n          if (ext.start) {\n            // Function to check for start of token\n            if (ext.level === 'block') {\n              if (extensions.startBlock) {\n                extensions.startBlock.push(ext.start);\n              } else {\n                extensions.startBlock = [ext.start];\n              }\n            } else if (ext.level === 'inline') {\n              if (extensions.startInline) {\n                extensions.startInline.push(ext.start);\n              } else {\n                extensions.startInline = [ext.start];\n              }\n            }\n          }\n        }\n\n        if (ext.childTokens) {\n          // Child tokens to be visited by walkTokens\n          extensions.childTokens[ext.name] = ext.childTokens;\n        }\n      });\n    } // ==-- Parse \"overwrite\" extensions --== //\n\n\n    if (pack.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false\n\n          renderer[prop] = function () {\n            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n\n            var ret = pack.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in pack.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (pack.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false\n\n          tokenizer[prop] = function () {\n            for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n              args[_key4] = arguments[_key4];\n            }\n\n            var ret = pack.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in pack.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    } // ==-- Parse WalkTokens extensions --== //\n\n\n    if (pack.walkTokens) {\n      var _walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        var values = [];\n        values.push(pack.walkTokens.call(this, token));\n\n        if (_walkTokens) {\n          values = values.concat(_walkTokens.call(this, token));\n        }\n\n        return values;\n      };\n    }\n\n    if (hasExtensions) {\n      opts.extensions = extensions;\n    }\n\n    marked.setOptions(opts);\n  });\n};\n/**\n * Run callback for every token\n */\n\n\nmarked.walkTokens = function (tokens, callback) {\n  var values = [];\n\n  var _loop3 = function _loop3() {\n    var token = _step.value;\n    values = values.concat(callback.call(marked, token));\n\n    switch (token.type) {\n      case 'table':\n        {\n          for (var _iterator2 = _createForOfIteratorHelperLoose(token.header), _step2; !(_step2 = _iterator2()).done;) {\n            var cell = _step2.value;\n            values = values.concat(marked.walkTokens(cell.tokens, callback));\n          }\n\n          for (var _iterator3 = _createForOfIteratorHelperLoose(token.rows), _step3; !(_step3 = _iterator3()).done;) {\n            var row = _step3.value;\n\n            for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n              var _cell = _step4.value;\n              values = values.concat(marked.walkTokens(_cell.tokens, callback));\n            }\n          }\n\n          break;\n        }\n\n      case 'list':\n        {\n          values = values.concat(marked.walkTokens(token.items, callback));\n          break;\n        }\n\n      default:\n        {\n          if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n            // Walk any extensions\n            marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n              values = values.concat(marked.walkTokens(token[childTokens], callback));\n            });\n          } else if (token.tokens) {\n            values = values.concat(marked.walkTokens(token.tokens, callback));\n          }\n        }\n    }\n  };\n\n  for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n    _loop3();\n  }\n\n  return values;\n};\n/**\n * Parse Inline\n * @param {string} src\n */\n\n\nmarked.parseInline = function (src, opt) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked.parseInline(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  try {\n    var tokens = Lexer.lexInline(src, opt);\n\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n\n    return Parser.parseInline(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n};\n/**\n * Expose\n */\n\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.parse = marked;\nvar options = marked.options;\nvar setOptions = marked.setOptions;\nvar use = marked.use;\nvar walkTokens = marked.walkTokens;\nvar parseInline = marked.parseInline;\nvar parse = marked;\nvar parser = Parser.parse;\nvar lexer = Lexer.lex;\n\nexports.Lexer = Lexer;\nexports.Parser = Parser;\nexports.Renderer = Renderer;\nexports.Slugger = Slugger;\nexports.TextRenderer = TextRenderer;\nexports.Tokenizer = Tokenizer;\nexports.getDefaults = getDefaults;\nexports.lexer = lexer;\nexports.marked = marked;\nexports.options = options;\nexports.parse = parse;\nexports.parseInline = parseInline;\nexports.parser = parser;\nexports.setOptions = setOptions;\nexports.use = use;\nexports.walkTokens = walkTokens;\n","/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst keyResolvers = {\n  '': v => v,\n  x: o => o.x,\n  y: o => o.y\n};\nfunction resolveObjectKey(obj, key) {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\nfunction _getKeyResolver(key) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\nfunction _splitKey(key) {\n  const parts = key.split('.');\n  const keys = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value, last) =>\n  _lookup(table, value, last\n    ? index => table[index][key] <= value\n    : index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\nfunction _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.2.1\n * https://github.com/kurkle/color#readme\n * (c) 2022 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nfunction isPatternOrGradient(value) {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n  return false;\n}\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  drawPointLegend(ctx, options, x, y, null);\n}\nfunction drawPointLegend(ctx, options, x, y, w) {\n  let type, xOffset, yOffset, size, cornerRadius, width;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    if (w) {\n      ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n    } else {\n      ctx.arc(x, y, radius, 0, TAU);\n    }\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      width = w ? w / 2 : size;\n      ctx.rect(x - width, y - size, 2 * width, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = w ? w / 2 : Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array(count);\n  let i, ilen, index, item;\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(e, canvas) {\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  if ('native' in evt) {\n    return evt;\n  }\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _isPointInArea as $, _factorize as A, finiteOrDefault as B, callback as C, _addGrace as D, _limitValue as E, toDegrees as F, _measureText as G, HALF_PI as H, _int16Range as I, _alignPixel as J, toPadding as K, clipArea as L, renderText as M, unclipArea as N, toFont as O, PI as P, each as Q, _toLeftRightCenter as R, _alignStartEnd as S, TAU as T, overrides as U, merge as V, _capitalize as W, getRelativePosition as X, _rlookupByKey as Y, _lookupByKey as Z, _arrayUnique as _, resolve as a, toLineHeight as a$, getAngleFromPoint as a0, getMaximumSize as a1, _getParentNode as a2, readUsedSize as a3, throttled as a4, supportsEventListenerOptions as a5, _isDomSupported as a6, descriptors as a7, isFunction as a8, _attachContext as a9, getRtlAdapter as aA, overrideTextDirection as aB, _textX as aC, restoreTextDirection as aD, drawPointLegend as aE, noop as aF, distanceBetweenPoints as aG, _setMinAndMaxByKey as aH, niceNum as aI, almostWhole as aJ, almostEquals as aK, _decimalPlaces as aL, _longestText as aM, _filterBetween as aN, _lookup as aO, isPatternOrGradient as aP, getHoverColor as aQ, clone$1 as aR, _merger as aS, _mergerIf as aT, _deprecated as aU, _splitKey as aV, toFontString as aW, splineCurve as aX, splineCurveMonotone as aY, getStyle as aZ, fontString as a_, _createResolver as aa, _descriptors as ab, mergeIf as ac, uid as ad, debounce as ae, retinaScale as af, clearCanvas as ag, setsEqual as ah, _elementsEqual as ai, _isClickEvent as aj, _isBetween as ak, _readValueToProps as al, _updateBezierControlPoints as am, _computeSegments as an, _boundSegments as ao, _steppedInterpolation as ap, _bezierInterpolation as aq, _pointInLine as ar, _steppedLineTo as as, _bezierCurveTo as at, drawPoint as au, addRoundedRectPath as av, toTRBL as aw, toTRBLCorners as ax, _boundSegment as ay, _normalizeAngle as az, isArray as b, PITAU as b0, INFINITY as b1, RAD_PER_DEG as b2, QUARTER_PI as b3, TWO_THIRDS_PI as b4, _angleDiff as b5, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, log10 as z };\n","/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as log10, A as _factorize, B as finiteOrDefault, C as callback, D as _addGrace, E as _limitValue, F as toDegrees, G as _measureText, I as _int16Range, J as _alignPixel, K as toPadding, L as clipArea, M as renderText, N as unclipArea, O as toFont, Q as each, R as _toLeftRightCenter, S as _alignStartEnd, U as overrides, V as merge, W as _capitalize, X as getRelativePosition, Y as _rlookupByKey, Z as _lookupByKey, $ as _isPointInArea, a0 as getAngleFromPoint, a1 as getMaximumSize, a2 as _getParentNode, a3 as readUsedSize, a4 as throttled, a5 as supportsEventListenerOptions, a6 as _isDomSupported, a7 as descriptors, a8 as isFunction, a9 as _attachContext, aa as _createResolver, ab as _descriptors, ac as mergeIf, ad as uid, ae as debounce, af as retinaScale, ag as clearCanvas, ah as setsEqual, ai as _elementsEqual, aj as _isClickEvent, ak as _isBetween, al as _readValueToProps, am as _updateBezierControlPoints, an as _computeSegments, ao as _boundSegments, ap as _steppedInterpolation, aq as _bezierInterpolation, ar as _pointInLine, as as _steppedLineTo, at as _bezierCurveTo, au as drawPoint, av as addRoundedRectPath, aw as toTRBL, ax as toTRBLCorners, ay as _boundSegment, az as _normalizeAngle, aA as getRtlAdapter, aB as overrideTextDirection, aC as _textX, aD as restoreTextDirection, aE as drawPointLegend, aF as noop, aG as distanceBetweenPoints, aH as _setMinAndMaxByKey, aI as niceNum, aJ as almostWhole, aK as almostEquals, aL as _decimalPlaces, aM as _longestText, aN as _filterBetween, aO as _lookup } from './chunks/helpers.segment.mjs';\nexport { d as defaults } from './chunks/helpers.segment.mjs';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n    const skipNull = (meta) => {\n      const parsed = meta.controller.getParsed(dataIndex);\n      const val = parsed && parsed[meta.vScale.axis];\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n    return range;\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndex.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n      if (isHorizontal) {\n        x = pixel;\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign: tickTextAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass ScatterController extends DatasetController {\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    if (this.options.showLine) {\n      const {dataset: line, _dataset} = meta;\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    }\n    this.updateElements(points, start, count, mode);\n  }\n  addElements() {\n    const {showLine} = this.options;\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = registry.getElement('line');\n    }\n    super.addElements();\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  init(chartOptions) {}\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  evaluateInteractionItems,\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n  return {plugins, localIds};\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.9.1\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n    this.render();\n  }\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n    this.notifyPlugins('afterDestroy');\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n    if (inChartArea) {\n      this._lastEvent = null;\n      callback(options.onHover, [e, active, this], this);\n      if (isClick) {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end, circular) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  if (circular) {\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle, circular) {\n  const {options} = element;\n  const {borderWidth, borderJoinStyle} = options;\n  const inner = options.borderAlign === 'inner';\n  if (!borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle, circular);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n  circular: true,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (!meta.controller.supportsDecimation) {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n  return target;\n}\nfunction _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\nfunction _getTargetValue(fill, scale, startValue) {\n  let value;\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n\nfunction _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n\nfunction _getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return _createBoundaryLine(boundary, line);\n}\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n  if (isNumberFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n  return null;\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nvar index = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart || config._chart;\n    this._chart = this.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = isObject(labelColors.borderWidth) ? Math.max(...Object.values(labelColors.borderWidth)) : (labelColors.borderWidth || 1);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  _willRender() {\n    return !!this.opacity;\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n    const positionChanged = this._positionChanged(active, e);\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n    if (options.reverse) {\n      active.reverse();\n    }\n    return active;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n      if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n        return;\n      }\n      tooltip.draw(chart.ctx);\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const extra = getTickBackdropHeight(opts) / 2;\n  const outerDistance = scale.drawingArea;\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const borderRadius = toTRBLCorners(optsAtIndex.borderRadius);\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      const backdropLeft = left - padding.left;\n      const backdropTop = top - padding.top;\n      const backdropWidth = right - left + padding.width;\n      const backdropHeight = bottom - top + padding.height;\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: backdropLeft,\n          y: backdropTop,\n          w: backdropWidth,\n          h: backdropHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n      }\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this._pointLabels.length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    adapter.init(opts);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  afterAutoSkip() {\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","var PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexport const glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexport const Konva = {\n    _global: glob,\n    version: '8.3.12',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return Konva['DD'].isDragging;\n    },\n    isDragReady() {\n        return !!Konva['DD'].node;\n    },\n    document: glob.document,\n    _injectGlobal(Konva) {\n        glob.Konva = Konva;\n    },\n};\nexport const _registerNode = (NodeClass) => {\n    Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nKonva._injectGlobal(Konva);\n","import { Konva } from './Global.js';\nexport class Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = Util._getRotation(result.rotation);\n        return result;\n    }\n}\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexport const Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (Util._namedColorToRBA(str) ||\n            Util._hex3ColorToRGBA(str) ||\n            Util._hex6ColorToRGBA(str) ||\n            Util._rgbColorToRGBA(str) ||\n            Util._rgbaColorToRGBA(str) ||\n            Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n};\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nfunction _formatValue(val) {\n    if (Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nexport function RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexport function alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexport function getNumberValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isNumber(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util._isNumber(val);\n            let isValidArray = Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrAutoValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isString(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringOrGradientValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val.addColorStop);\n            if (!(isString || isGradient)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexport function getFunctionValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isFunction(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberArrayValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const TypedArray = Int8Array ? Object.getPrototypeOf(Int8Array) : null;\n            if (TypedArray && val instanceof TypedArray) {\n                return val;\n            }\n            if (!Util._isArray(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util._isNumber(item)) {\n                        Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexport function getBooleanValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexport function getComponentValidator(components) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (val === undefined || val === null) {\n                return val;\n            }\n            if (!Util.isObject(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\n","import { Util } from './Util.js';\nimport { getComponentValidator } from './Validators.js';\nvar GET = 'get', SET = 'set';\nexport const Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        Factory.addGetter(constructor, attr, def);\n        Factory.addSetter(constructor, attr, validator, after);\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        var method = GET + Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = getComponentValidator(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            if (!val) {\n                components.forEach((component) => {\n                    this._setAttr(attr + capitalize(component), undefined);\n                });\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        var capitalizedAttr = Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util.error('Adding deprecated ' + attr);\n        var method = GET + Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        Factory.addSetter(constructor, attr, validator, function () {\n            Util.error(message);\n        });\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","import { Util } from './Util.js';\nimport { Konva } from './Global.js';\nfunction simplifyArray(arr) {\n    var retArr = [], len = arr.length, util = Util, n, val;\n    for (n = 0; n < len; n++) {\n        val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nexport class Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this._context = canvas._canvas.getContext('2d');\n        if (Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        var lineCap = shape.getLineCap();\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        var lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n    arcTo(a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n    clearRect(a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    }\n    clip() {\n        this._context.clip();\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    }\n    createLinearGradient(a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n    createPattern(a0, a1) {\n        return this._context.createPattern(a0, a1);\n    }\n    createRadialGradient(a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n    drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    }\n    ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    isPointInPath(x, y) {\n        return this._context.isPointInPath(x, y);\n    }\n    fill(path2d) {\n        if (path2d) {\n            this._context.fill(path2d);\n        }\n        else {\n            this._context.fill();\n        }\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    }\n    lineTo(a0, a1) {\n        this._context.lineTo(a0, a1);\n    }\n    moveTo(a0, a1) {\n        this._context.moveTo(a0, a1);\n    }\n    rect(a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    }\n    putImageData(a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    }\n    quadraticCurveTo(a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(a0) {\n        this._context.rotate(a0);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(a0, a1) {\n        this._context.scale(a0, a1);\n    }\n    setLineDash(a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    }\n    transform(a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n    translate(a0, a1) {\n        this._context.translate(a0, a1);\n    }\n    _enableTrace() {\n        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        var def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nexport class SceneContext extends Context {\n    _fillColor(shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        var grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        var hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        var hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        var hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        var hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        var start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexport class HitContext extends Context {\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            var strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\n","import { Util } from './Util.js';\nimport { SceneContext, HitContext } from './Context.js';\nimport { Konva } from './Global.js';\nimport { Factory } from './Factory.js';\nimport { getNumberValidator } from './Validators.js';\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    return _pixelRatio;\n}\nexport class Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nFactory.addGetterSetter(Canvas, 'pixelRatio', undefined, getNumberValidator());\nexport class SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.context = new SceneContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexport class HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nexport const DD = {\n    get isDragging() {\n        var flag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        const drawNodes = [];\n        DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                DD.justDragged = true;\n                Konva._mouseListenClick = false;\n                Konva._touchListenClick = false;\n                Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Konva['Stage'] && elem.node);\n            if (drawNode && drawNodes.indexOf(drawNode) === -1) {\n                drawNodes.push(drawNode);\n            }\n        });\n        drawNodes.forEach((drawNode) => {\n            drawNode.draw();\n        });\n    },\n    _endDragAfter(evt) {\n        DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Konva.isBrowser) {\n    window.addEventListener('mouseup', DD._endDragBefore, true);\n    window.addEventListener('touchend', DD._endDragBefore, true);\n    window.addEventListener('mousemove', DD._drag);\n    window.addEventListener('touchmove', DD._drag);\n    window.addEventListener('mouseup', DD._endDragAfter, false);\n    window.addEventListener('touchend', DD._endDragAfter, false);\n}\n","import { Util, Transform } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { Konva } from './Global.js';\nimport { DD } from './DragAndDrop.js';\nimport { getNumberValidator, getStringValidator, getBooleanValidator, } from './Validators.js';\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nexport class Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        this._cache.delete(CANVAS);\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2 + 1;\n        height += offset * 2 + 1;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n        }), cachedHitCanvas = new HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        return this;\n    }\n    getAttr(attr) {\n        var method = 'get' + Util._capitalize(attr);\n        if (Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        var parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return this.attrs || {};\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            var key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util._capitalize(key);\n                if (Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        if (!this.getStage()) {\n            return null;\n        }\n        var pos = this.getStage().getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        var transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util.isObject(val) && !Util._isPlainObject(val) && !Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util.isValidSelector(sel)) {\n                Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        var at;\n        if (top) {\n            at = new Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        var attrs = Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                Util._urlToImage(this.toDataURL(config), function (img) {\n                    resolve(img);\n                    callback === null || callback === void 0 ? void 0 : callback(img);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    toBlob(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                this.toCanvas(config).toBlob((blob) => {\n                    resolve(blob);\n                    callback === null || callback === void 0 ? void 0 : callback(blob);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        var func = this[SET + Util._capitalize(attr)];\n        if (Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        let listeners = this._cache.get(ALL_LISTENERS);\n        if (!listeners) {\n            listeners = {};\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                if (!obj.eventListeners) {\n                    obj = Object.getPrototypeOf(obj);\n                    continue;\n                }\n                for (var event in obj.eventListeners) {\n                    const newEvents = obj.eventListeners[event];\n                    const oldEvents = listeners[event] || [];\n                    listeners[event] = newEvents.concat(oldEvents);\n                }\n                obj = Object.getPrototypeOf(obj);\n            }\n            this._cache.set(ALL_LISTENERS, listeners);\n        }\n        return listeners[eventType];\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DD._endDragBefore(evt);\n        DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Konva[className]) {\n            Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, getNumberValidator());\naddGetterSetter(Node, 'y', 0, getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', getStringValidator());\naddGetterSetter(Node, 'opacity', 1, getNumberValidator());\naddGetterSetter(Node, 'name', '', getStringValidator());\naddGetterSetter(Node, 'id', '', getStringValidator());\naddGetterSetter(Node, 'rotation', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, getNumberValidator());\naddGetterSetter(Node, 'width', 0, getNumberValidator());\naddGetterSetter(Node, 'height', 0, getNumberValidator());\naddGetterSetter(Node, 'listening', true, getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, getBooleanValidator());\nFactory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","import { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator } from './Validators.js';\nexport class Container extends Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        if (!filterFunc) {\n            return this.children || [];\n        }\n        const children = this.children || [];\n        var results = [];\n        children.forEach(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        var child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        var retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        var obj = Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        var node = Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        var arr = [];\n        this.find('Shape').forEach(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top) {\n        var _a;\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            if (clipFunc) {\n                clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip();\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config) {\n        var _a;\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nFactory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory.addGetterSetter(Container, 'clipX', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipY', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipWidth', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipHeight', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipFunc');\n","import { Konva } from './Global.js';\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Konva._global['PointerEvent'] !== undefined;\nexport function getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexport function createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nexport function hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexport function setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexport function releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\n","import { Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Container } from './Container.js';\nimport { Konva } from './Global.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { DD } from './DragAndDrop.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexport const stages = [];\nexport class Stage extends Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        var content = this.content;\n        if (content && Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = stages.indexOf(this);\n        if (index > -1) {\n            stages.splice(index, 1);\n        }\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n;\n        for (n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerenter, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerover, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var targetShape = this._getTargetShape(eventType);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            var shape = this.getIntersection(pos);\n            DD.justDragged = false;\n            Konva['_' + eventType + 'ListenClick'] = true;\n            const hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (DD.isDragging && DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        var targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            var differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n                targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n                    shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DD.justDragged) {\n                Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n                if (Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable && eventType !== 'touch') {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nStage.prototype.nodeType = STAGE;\n_registerNode(Stage);\nFactory.addGetterSetter(Stage, 'container');\n","import { Konva } from './Global.js';\nimport { Transform, Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator, getNumberOrAutoValidator, getStringValidator, getBooleanValidator, getStringOrGradientValidator, } from './Validators.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexport const shapes = {};\nfunction _fillFunc(context) {\n    context.fill();\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nexport class Shape extends Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util.getRandomColor();\n            if (key && !(key in shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        shapes[key] = this;\n    }\n    getContext() {\n        Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (this.hasShadow()) {\n            var rgba = Util.colorToRGBA(this.shadowColor());\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node.prototype.destroy.call(this);\n        delete shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n_registerNode(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory.addGetterSetter(Shape, 'stroke', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'strokeWidth', 2, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape, 'strokeHitEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'perfectDrawEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'lineJoin');\nFactory.addGetterSetter(Shape, 'lineCap');\nFactory.addGetterSetter(Shape, 'sceneFunc');\nFactory.addGetterSetter(Shape, 'hitFunc');\nFactory.addGetterSetter(Shape, 'dash');\nFactory.addGetterSetter(Shape, 'dashOffset', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowColor', undefined, getStringValidator());\nFactory.addGetterSetter(Shape, 'shadowBlur', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOpacity', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'shadowOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOffsetY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternImage');\nFactory.addGetterSetter(Shape, 'fill', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'fillPatternX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternScaleX', 1, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternScaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { Node } from './Node.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { getBooleanValidator } from './Validators.js';\nimport { shapes } from './Shape.js';\nimport { _registerNode } from './Global.js';\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nexport class Layer extends Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new SceneCanvas();\n        this.hitCanvas = new HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n}\nLayer.prototype.nodeType = 'Layer';\n_registerNode(Layer);\nFactory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory.addGetterSetter(Layer, 'hitGraphEnabled', true, getBooleanValidator());\n","import { Util } from './Util.js';\nimport { Layer } from './Layer.js';\nimport { _registerNode } from './Global.js';\nexport class FastLayer extends Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nFastLayer.prototype.nodeType = 'FastLayer';\n_registerNode(FastLayer);\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { _registerNode } from './Global.js';\nexport class Group extends Container {\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nGroup.prototype.nodeType = 'Group';\n_registerNode(Group);\n","import { glob } from './Global.js';\nimport { Util } from './Util.js';\nvar now = (function () {\n    if (glob.performance && glob.performance.now) {\n        return function () {\n            return glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nexport class Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nexport class Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util.colorToRGBA(start[n]);\n                        endRGBA = Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util.colorToRGBA(start);\n            endRGBA = Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexport const Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","import { Konva as Global } from './Global.js';\nimport { Util, Transform } from './Util.js';\nimport { Node } from './Node.js';\nimport { Container } from './Container.js';\nimport { Stage, stages } from './Stage.js';\nimport { Layer } from './Layer.js';\nimport { FastLayer } from './FastLayer.js';\nimport { Group } from './Group.js';\nimport { DD } from './DragAndDrop.js';\nimport { Shape, shapes } from './Shape.js';\nimport { Animation } from './Animation.js';\nimport { Tween, Easings } from './Tween.js';\nimport { Context } from './Context.js';\nimport { Canvas } from './Canvas.js';\nexport const Konva = Util._assign(Global, {\n    Util,\n    Transform,\n    Node,\n    Container,\n    Stage,\n    stages,\n    Layer,\n    FastLayer,\n    Group,\n    DD,\n    Shape,\n    shapes,\n    Animation,\n    Tween,\n    Easings,\n    Context,\n    Canvas,\n});\nexport default Konva;\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator, getBooleanValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Arc extends Shape {\n    _sceneFunc(context) {\n        var angle = Konva.getAngle(this.angle()), clockwise = this.clockwise();\n        context.beginPath();\n        context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n        context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n    getSelfRect() {\n        const innerRadius = this.innerRadius();\n        const outerRadius = this.outerRadius();\n        const clockwise = this.clockwise();\n        const angle = Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());\n        const boundLeftRatio = Math.cos(Math.min(angle, Math.PI));\n        const boundRightRatio = 1;\n        const boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), (3 * Math.PI) / 2));\n        const boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));\n        const boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);\n        const boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);\n        const boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);\n        const boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);\n        return {\n            x: boundLeft,\n            y: clockwise ? -1 * boundBottom : boundTop,\n            width: boundRight - boundLeft,\n            height: boundBottom - boundTop,\n        };\n    }\n}\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Arc);\nFactory.addGetterSetter(Arc, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'outerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'clockwise', false, getBooleanValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getNumberArrayValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    var len = p.length, allPoints = [], n, cp;\n    for (n = 2; n < len - 2; n += 2) {\n        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nexport class Line extends Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n_registerNode(Line);\nFactory.addGetterSetter(Line, 'closed', false);\nFactory.addGetterSetter(Line, 'bezier', false);\nFactory.addGetterSetter(Line, 'tension', 0, getNumberValidator());\nFactory.addGetterSetter(Line, 'points', [], getNumberArrayValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nexport class Path extends Shape {\n    constructor(config) {\n        super(config);\n        this.dataArray = [];\n        this.pathLength = 0;\n        this.dataArray = Path.parsePathData(this.data());\n        this.pathLength = 0;\n        for (var i = 0; i < this.dataArray.length; ++i) {\n            this.pathLength += this.dataArray[i].pathLength;\n        }\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.data());\n            this.pathLength = 0;\n            for (var i = 0; i < this.dataArray.length; ++i) {\n                this.pathLength += this.dataArray[i].pathLength;\n            }\n        });\n    }\n    _sceneFunc(context) {\n        var ca = this.dataArray;\n        context.beginPath();\n        var isClosed = false;\n        for (var n = 0; n < ca.length; n++) {\n            var c = ca[n].command;\n            var p = ca[n].points;\n            switch (c) {\n                case 'L':\n                    context.lineTo(p[0], p[1]);\n                    break;\n                case 'M':\n                    context.moveTo(p[0], p[1]);\n                    break;\n                case 'C':\n                    context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n                    break;\n                case 'Q':\n                    context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n                    break;\n                case 'A':\n                    var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(psi);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-psi);\n                    context.translate(-cx, -cy);\n                    break;\n                case 'z':\n                    isClosed = true;\n                    context.closePath();\n                    break;\n            }\n        }\n        if (!isClosed && !this.hasFill()) {\n            context.strokeShape(this);\n        }\n        else {\n            context.fillStrokeShape(this);\n        }\n    }\n    getSelfRect() {\n        var points = [];\n        this.dataArray.forEach(function (data) {\n            if (data.command === 'A') {\n                var start = data.points[4];\n                var dTheta = data.points[5];\n                var end = data.points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                if (dTheta < 0) {\n                    for (let t = start - inc; t > end; t -= inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n                else {\n                    for (let t = start + inc; t < end; t += inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n            }\n            else if (data.command === 'C') {\n                for (let t = 0.0; t <= 1; t += 0.01) {\n                    const point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n                    points.push(point.x, point.y);\n                }\n            }\n            else {\n                points = points.concat(data.points);\n            }\n        });\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            if (!isNaN(x)) {\n                minX = Math.min(minX, x);\n                maxX = Math.max(maxX, x);\n            }\n            if (!isNaN(y)) {\n                minY = Math.min(minY, y);\n                maxY = Math.max(maxY, y);\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getLength() {\n        return this.pathLength;\n    }\n    getPointAtLength(length) {\n        var point, i = 0, ii = this.dataArray.length;\n        if (!ii) {\n            return null;\n        }\n        while (i < ii && length > this.dataArray[i].pathLength) {\n            length -= this.dataArray[i].pathLength;\n            ++i;\n        }\n        if (i === ii) {\n            point = this.dataArray[i - 1].points.slice(-2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        if (length < 0.01) {\n            point = this.dataArray[i].points.slice(0, 2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        var cp = this.dataArray[i];\n        var p = cp.points;\n        switch (cp.command) {\n            case 'L':\n                return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n            case 'C':\n                return Path.getPointOnCubicBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n            case 'Q':\n                return Path.getPointOnQuadraticBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n            case 'A':\n                var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6];\n                theta += (dTheta * length) / cp.pathLength;\n                return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n        }\n        return null;\n    }\n    static getLineLength(x1, y1, x2, y2) {\n        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    static getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n        if (fromX === undefined) {\n            fromX = P1x;\n        }\n        if (fromY === undefined) {\n            fromY = P1y;\n        }\n        var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n        var run = Math.sqrt((dist * dist) / (1 + m * m));\n        if (P2x < P1x) {\n            run *= -1;\n        }\n        var rise = m * run;\n        var pt;\n        if (P2x === P1x) {\n            pt = {\n                x: fromX,\n                y: fromY + rise,\n            };\n        }\n        else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n            pt = {\n                x: fromX + run,\n                y: fromY + rise,\n            };\n        }\n        else {\n            var ix, iy;\n            var len = this.getLineLength(P1x, P1y, P2x, P2y);\n            var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n            u = u / (len * len);\n            ix = P1x + u * (P2x - P1x);\n            iy = P1y + u * (P2y - P1y);\n            var pRise = this.getLineLength(fromX, fromY, ix, iy);\n            var pRun = Math.sqrt(dist * dist - pRise * pRise);\n            run = Math.sqrt((pRun * pRun) / (1 + m * m));\n            if (P2x < P1x) {\n                run *= -1;\n            }\n            rise = m * run;\n            pt = {\n                x: ix + run,\n                y: iy + rise,\n            };\n        }\n        return pt;\n    }\n    static getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n        function CB1(t) {\n            return t * t * t;\n        }\n        function CB2(t) {\n            return 3 * t * t * (1 - t);\n        }\n        function CB3(t) {\n            return 3 * t * (1 - t) * (1 - t);\n        }\n        function CB4(t) {\n            return (1 - t) * (1 - t) * (1 - t);\n        }\n        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n        function QB1(t) {\n            return t * t;\n        }\n        function QB2(t) {\n            return 2 * t * (1 - t);\n        }\n        function QB3(t) {\n            return (1 - t) * (1 - t);\n        }\n        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {\n        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);\n        var pt = {\n            x: rx * Math.cos(theta),\n            y: ry * Math.sin(theta),\n        };\n        return {\n            x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n            y: cy + (pt.x * sinPsi + pt.y * cosPsi),\n        };\n    }\n    static parsePathData(data) {\n        if (!data) {\n            return [];\n        }\n        var cs = data;\n        var cc = [\n            'm',\n            'M',\n            'l',\n            'L',\n            'v',\n            'V',\n            'h',\n            'H',\n            'z',\n            'Z',\n            'c',\n            'C',\n            'q',\n            'Q',\n            't',\n            'T',\n            's',\n            'S',\n            'a',\n            'A',\n        ];\n        cs = cs.replace(new RegExp(' ', 'g'), ',');\n        for (var n = 0; n < cc.length; n++) {\n            cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n        }\n        var arr = cs.split('|');\n        var ca = [];\n        var coords = [];\n        var cpx = 0;\n        var cpy = 0;\n        var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n        var match;\n        for (n = 1; n < arr.length; n++) {\n            var str = arr[n];\n            var c = str.charAt(0);\n            str = str.slice(1);\n            coords.length = 0;\n            while ((match = re.exec(str))) {\n                coords.push(match[0]);\n            }\n            var p = [];\n            for (var j = 0, jlen = coords.length; j < jlen; j++) {\n                if (coords[j] === '00') {\n                    p.push(0, 0);\n                    continue;\n                }\n                var parsed = parseFloat(coords[j]);\n                if (!isNaN(parsed)) {\n                    p.push(parsed);\n                }\n                else {\n                    p.push(0);\n                }\n            }\n            while (p.length > 0) {\n                if (isNaN(p[0])) {\n                    break;\n                }\n                var cmd = null;\n                var points = [];\n                var startX = cpx, startY = cpy;\n                var prevCmd, ctlPtx, ctlPty;\n                var rx, ry, psi, fa, fs, x1, y1;\n                switch (c) {\n                    case 'l':\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'L':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'm':\n                        var dx = p.shift();\n                        var dy = p.shift();\n                        cpx += dx;\n                        cpy += dy;\n                        cmd = 'M';\n                        if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                            for (var idx = ca.length - 2; idx >= 0; idx--) {\n                                if (ca[idx].command === 'M') {\n                                    cpx = ca[idx].points[0] + dx;\n                                    cpy = ca[idx].points[1] + dy;\n                                    break;\n                                }\n                            }\n                        }\n                        points.push(cpx, cpy);\n                        c = 'l';\n                        break;\n                    case 'M':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'M';\n                        points.push(cpx, cpy);\n                        c = 'L';\n                        break;\n                    case 'h':\n                        cpx += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'H':\n                        cpx = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'v':\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'V':\n                        cpy = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'C':\n                        points.push(p.shift(), p.shift(), p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'c':\n                        points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'S':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 's':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'Q':\n                        points.push(p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'q':\n                        points.push(cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'T':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 't':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 'A':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                    case 'a':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                }\n                ca.push({\n                    command: cmd || c,\n                    points: points,\n                    start: {\n                        x: startX,\n                        y: startY,\n                    },\n                    pathLength: this.calcLength(startX, startY, cmd || c, points),\n                });\n            }\n            if (c === 'z' || c === 'Z') {\n                ca.push({\n                    command: 'z',\n                    points: [],\n                    start: undefined,\n                    pathLength: 0,\n                });\n            }\n        }\n        return ca;\n    }\n    static calcLength(x, y, cmd, points) {\n        var len, p1, p2, t;\n        var path = Path;\n        switch (cmd) {\n            case 'L':\n                return path.getLineLength(x, y, points[0], points[1]);\n            case 'C':\n                len = 0.0;\n                p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'Q':\n                len = 0.0;\n                p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'A':\n                len = 0.0;\n                var start = points[4];\n                var dTheta = points[5];\n                var end = points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n                if (dTheta < 0) {\n                    for (t = start - inc; t > end; t -= inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                else {\n                    for (t = start + inc; t < end; t += inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                return len;\n        }\n        return 0;\n    }\n    static convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n        var psi = psiDeg * (Math.PI / 180.0);\n        var xp = (Math.cos(psi) * (x1 - x2)) / 2.0 + (Math.sin(psi) * (y1 - y2)) / 2.0;\n        var yp = (-1 * Math.sin(psi) * (x1 - x2)) / 2.0 +\n            (Math.cos(psi) * (y1 - y2)) / 2.0;\n        var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n        if (lambda > 1) {\n            rx *= Math.sqrt(lambda);\n            ry *= Math.sqrt(lambda);\n        }\n        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) /\n            (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n        if (fa === fs) {\n            f *= -1;\n        }\n        if (isNaN(f)) {\n            f = 0;\n        }\n        var cxp = (f * rx * yp) / ry;\n        var cyp = (f * -ry * xp) / rx;\n        var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n        var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n        var vMag = function (v) {\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n        };\n        var vRatio = function (u, v) {\n            return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n        };\n        var vAngle = function (u, v) {\n            return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n        };\n        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n        var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n        var dTheta = vAngle(u, v);\n        if (vRatio(u, v) <= -1) {\n            dTheta = Math.PI;\n        }\n        if (vRatio(u, v) >= 1) {\n            dTheta = 0;\n        }\n        if (fs === 0 && dTheta > 0) {\n            dTheta = dTheta - 2 * Math.PI;\n        }\n        if (fs === 1 && dTheta < 0) {\n            dTheta = dTheta + 2 * Math.PI;\n        }\n        return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    }\n}\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n_registerNode(Path);\nFactory.addGetterSetter(Path, 'data');\n","import { Factory } from '../Factory.js';\nimport { Line } from './Line.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nimport { Path } from './Path.js';\nexport class Arrow extends Line {\n    _sceneFunc(ctx) {\n        super._sceneFunc(ctx);\n        var PI2 = Math.PI * 2;\n        var points = this.points();\n        var tp = points;\n        var fromTension = this.tension() !== 0 && points.length > 4;\n        if (fromTension) {\n            tp = this.getTensionPoints();\n        }\n        var length = this.pointerLength();\n        var n = points.length;\n        var dx, dy;\n        if (fromTension) {\n            const lp = [\n                tp[tp.length - 4],\n                tp[tp.length - 3],\n                tp[tp.length - 2],\n                tp[tp.length - 1],\n                points[n - 2],\n                points[n - 1],\n            ];\n            const lastLength = Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], 'C', lp);\n            const previous = Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);\n            dx = points[n - 2] - previous.x;\n            dy = points[n - 1] - previous.y;\n        }\n        else {\n            dx = points[n - 2] - points[n - 4];\n            dy = points[n - 1] - points[n - 3];\n        }\n        var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n        var width = this.pointerWidth();\n        if (this.pointerAtEnding()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[n - 2], points[n - 1]);\n            ctx.rotate(radians);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n        if (this.pointerAtBeginning()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[0], points[1]);\n            if (fromTension) {\n                dx = (tp[0] + tp[2]) / 2 - points[0];\n                dy = (tp[1] + tp[3]) / 2 - points[1];\n            }\n            else {\n                dx = points[2] - points[0];\n                dy = points[3] - points[1];\n            }\n            ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n    }\n    __fillStroke(ctx) {\n        var isDashEnabled = this.dashEnabled();\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = false;\n            ctx.setLineDash([]);\n        }\n        ctx.fillStrokeShape(this);\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = true;\n        }\n    }\n    getSelfRect() {\n        const lineRect = super.getSelfRect();\n        const offset = this.pointerWidth() / 2;\n        return {\n            x: lineRect.x - offset,\n            y: lineRect.y - offset,\n            width: lineRect.width + offset * 2,\n            height: lineRect.height + offset * 2,\n        };\n    }\n}\nArrow.prototype.className = 'Arrow';\n_registerNode(Arrow);\nFactory.addGetterSetter(Arrow, 'pointerLength', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerWidth', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nFactory.addGetterSetter(Arrow, 'pointerAtEnding', true);\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Circle extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        if (this.radius() !== width / 2) {\n            this.radius(width / 2);\n        }\n    }\n    setHeight(height) {\n        if (this.radius() !== height / 2) {\n            this.radius(height / 2);\n        }\n    }\n}\nCircle.prototype._centroid = true;\nCircle.prototype.className = 'Circle';\nCircle.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Circle);\nFactory.addGetterSetter(Circle, 'radius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Ellipse extends Shape {\n    _sceneFunc(context) {\n        var rx = this.radiusX(), ry = this.radiusY();\n        context.beginPath();\n        context.save();\n        if (rx !== ry) {\n            context.scale(1, ry / rx);\n        }\n        context.arc(0, 0, rx, 0, Math.PI * 2, false);\n        context.restore();\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radiusX() * 2;\n    }\n    getHeight() {\n        return this.radiusY() * 2;\n    }\n    setWidth(width) {\n        this.radiusX(width / 2);\n    }\n    setHeight(height) {\n        this.radiusY(height / 2);\n    }\n}\nEllipse.prototype.className = 'Ellipse';\nEllipse.prototype._centroid = true;\nEllipse.prototype._attrsAffectingSize = ['radiusX', 'radiusY'];\n_registerNode(Ellipse);\nFactory.addComponentsGetterSetter(Ellipse, 'radius', ['x', 'y']);\nFactory.addGetterSetter(Ellipse, 'radiusX', 0, getNumberValidator());\nFactory.addGetterSetter(Ellipse, 'radiusY', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Image extends Shape {\n    constructor(attrs) {\n        super(attrs);\n        this.on('imageChange.konva', () => {\n            this._setImageLoad();\n        });\n        this._setImageLoad();\n    }\n    _setImageLoad() {\n        const image = this.image();\n        if (image && image.complete) {\n            return;\n        }\n        if (image && image.readyState === 4) {\n            return;\n        }\n        if (image && image['addEventListener']) {\n            image['addEventListener']('load', () => {\n                this._requestDraw();\n            });\n        }\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _sceneFunc(context) {\n        const width = this.getWidth();\n        const height = this.getHeight();\n        const image = this.attrs.image;\n        let params;\n        if (image) {\n            const cropWidth = this.attrs.cropWidth;\n            const cropHeight = this.attrs.cropHeight;\n            if (cropWidth && cropHeight) {\n                params = [\n                    image,\n                    this.cropX(),\n                    this.cropY(),\n                    cropWidth,\n                    cropHeight,\n                    0,\n                    0,\n                    width,\n                    height,\n                ];\n            }\n            else {\n                params = [image, 0, 0, width, height];\n            }\n        }\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            context.drawImage.apply(context, params);\n        }\n    }\n    _hitFunc(context) {\n        var width = this.width(), height = this.height();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        var _a, _b;\n        return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.width;\n    }\n    getHeight() {\n        var _a, _b;\n        return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.height;\n    }\n    static fromURL(url, callback, onError = null) {\n        var img = Util.createImageElement();\n        img.onload = function () {\n            var image = new Image({\n                image: img,\n            });\n            callback(image);\n        };\n        img.onerror = onError;\n        img.crossOrigin = 'Anonymous';\n        img.src = url;\n    }\n}\nImage.prototype.className = 'Image';\n_registerNode(Image);\nFactory.addGetterSetter(Image, 'image');\nFactory.addComponentsGetterSetter(Image, 'crop', ['x', 'y', 'width', 'height']);\nFactory.addGetterSetter(Image, 'cropX', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropY', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropHeight', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Group } from '../Group.js';\nimport { getNumberOrArrayOfNumbersValidator, getNumberValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'pointerDirection',\n    'pointerWidth',\n    'pointerHeight',\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nexport class Label extends Group {\n    constructor(config) {\n        super(config);\n        this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n    }\n    getText() {\n        return this.find('Text')[0];\n    }\n    getTag() {\n        return this.find('Tag')[0];\n    }\n    _addListeners(text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    }\n    getWidth() {\n        return this.getText().width();\n    }\n    getHeight() {\n        return this.getText().height();\n    }\n    _sync() {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height,\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n            });\n        }\n    }\n}\nLabel.prototype.className = 'Label';\n_registerNode(Label);\nexport class Tag extends Shape {\n    _sceneFunc(context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = this.cornerRadius();\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft =\n                topRight =\n                    bottomLeft =\n                        bottomRight =\n                            Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.beginPath();\n        context.moveTo(topLeft, 0);\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getSelfRect() {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    }\n}\nTag.prototype.className = 'Tag';\n_registerNode(Tag);\nFactory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory.addGetterSetter(Tag, 'pointerWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'pointerHeight', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nimport { getNumberOrArrayOfNumbersValidator } from '../Validators.js';\nexport class Rect extends Shape {\n    _sceneFunc(context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            let topLeft = 0;\n            let topRight = 0;\n            let bottomLeft = 0;\n            let bottomRight = 0;\n            if (typeof cornerRadius === 'number') {\n                topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n            }\n            else {\n                topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n                topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n                bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n                bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n            }\n            context.moveTo(topLeft, 0);\n            context.lineTo(width - topRight, 0);\n            context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n            context.lineTo(width, height - bottomRight);\n            context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n            context.lineTo(bottomLeft, height);\n            context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n            context.lineTo(0, topLeft);\n            context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nRect.prototype.className = 'Rect';\n_registerNode(Rect);\nFactory.addGetterSetter(Rect, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class RegularPolygon extends Shape {\n    _sceneFunc(context) {\n        const points = this._getPoints();\n        context.beginPath();\n        context.moveTo(points[0].x, points[0].y);\n        for (var n = 1; n < points.length; n++) {\n            context.lineTo(points[n].x, points[n].y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    _getPoints() {\n        const sides = this.attrs.sides;\n        const radius = this.attrs.radius || 0;\n        const points = [];\n        for (var n = 0; n < sides; n++) {\n            points.push({\n                x: radius * Math.sin((n * 2 * Math.PI) / sides),\n                y: -1 * radius * Math.cos((n * 2 * Math.PI) / sides),\n            });\n        }\n        return points;\n    }\n    getSelfRect() {\n        const points = this._getPoints();\n        var minX = points[0].x;\n        var maxX = points[0].y;\n        var minY = points[0].x;\n        var maxY = points[0].y;\n        points.forEach((point) => {\n            minX = Math.min(minX, point.x);\n            maxX = Math.max(maxX, point.x);\n            minY = Math.min(minY, point.y);\n            maxY = Math.max(maxY, point.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nRegularPolygon.prototype.className = 'RegularPolygon';\nRegularPolygon.prototype._centroid = true;\nRegularPolygon.prototype._attrsAffectingSize = ['radius'];\n_registerNode(RegularPolygon);\nFactory.addGetterSetter(RegularPolygon, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(RegularPolygon, 'sides', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar PIx2 = Math.PI * 2;\nexport class Ring extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.innerRadius(), 0, PIx2, false);\n        context.moveTo(this.outerRadius(), 0);\n        context.arc(0, 0, this.outerRadius(), PIx2, 0, true);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nRing.prototype.className = 'Ring';\nRing.prototype._centroid = true;\nRing.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Ring);\nFactory.addGetterSetter(Ring, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Ring, 'outerRadius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Animation } from '../Animation.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Sprite extends Shape {\n    constructor(config) {\n        super(config);\n        this._updated = true;\n        this.anim = new Animation(() => {\n            var updated = this._updated;\n            this._updated = false;\n            return updated;\n        });\n        this.on('animationChange.konva', function () {\n            this.frameIndex(0);\n        });\n        this.on('frameIndexChange.konva', function () {\n            this._updated = true;\n        });\n        this.on('frameRateChange.konva', function () {\n            if (!this.anim.isRunning()) {\n                return;\n            }\n            clearInterval(this.interval);\n            this._setInterval();\n        });\n    }\n    _sceneFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            if (offsets) {\n                var offset = offsets[anim], ix2 = index * 2;\n                context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n            }\n            else {\n                context.drawImage(image, x, y, width, height, 0, 0, width, height);\n            }\n        }\n    }\n    _hitFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];\n        context.beginPath();\n        if (offsets) {\n            var offset = offsets[anim];\n            var ix2 = index * 2;\n            context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n        }\n        else {\n            context.rect(0, 0, width, height);\n        }\n        context.closePath();\n        context.fillShape(this);\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _setInterval() {\n        var that = this;\n        this.interval = setInterval(function () {\n            that._updateIndex();\n        }, 1000 / this.frameRate());\n    }\n    start() {\n        if (this.isRunning()) {\n            return;\n        }\n        var layer = this.getLayer();\n        this.anim.setLayers(layer);\n        this._setInterval();\n        this.anim.start();\n    }\n    stop() {\n        this.anim.stop();\n        clearInterval(this.interval);\n    }\n    isRunning() {\n        return this.anim.isRunning();\n    }\n    _updateIndex() {\n        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;\n        if (index < len - 1) {\n            this.frameIndex(index + 1);\n        }\n        else {\n            this.frameIndex(0);\n        }\n    }\n}\nSprite.prototype.className = 'Sprite';\n_registerNode(Sprite);\nFactory.addGetterSetter(Sprite, 'animation');\nFactory.addGetterSetter(Sprite, 'animations');\nFactory.addGetterSetter(Sprite, 'frameOffsets');\nFactory.addGetterSetter(Sprite, 'image');\nFactory.addGetterSetter(Sprite, 'frameIndex', 0, getNumberValidator());\nFactory.addGetterSetter(Sprite, 'frameRate', 17, getNumberValidator());\nFactory.backCompat(Sprite, {\n    index: 'frameIndex',\n    getIndex: 'getFrameIndex',\n    setIndex: 'setFrameIndex',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Star extends Shape {\n    _sceneFunc(context) {\n        var innerRadius = this.innerRadius(), outerRadius = this.outerRadius(), numPoints = this.numPoints();\n        context.beginPath();\n        context.moveTo(0, 0 - outerRadius);\n        for (var n = 1; n < numPoints * 2; n++) {\n            var radius = n % 2 === 0 ? outerRadius : innerRadius;\n            var x = radius * Math.sin((n * Math.PI) / numPoints);\n            var y = -1 * radius * Math.cos((n * Math.PI) / numPoints);\n            context.lineTo(x, y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nStar.prototype.className = 'Star';\nStar.prototype._centroid = true;\nStar.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Star);\nFactory.addGetterSetter(Star, 'numPoints', 5, getNumberValidator());\nFactory.addGetterSetter(Star, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Star, 'outerRadius', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getStringValidator, getNumberOrAutoValidator, getBooleanValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport function stringToArray(string) {\n    return Array.from(string);\n}\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nexport class Text extends Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        if (this.align() === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        var shouldHandleEllipsis = this._shouldHandleEllipsis(currentHeightPx);\n                        if (shouldHandleEllipsis) {\n                            this._tryToAddEllipsisToLastLine();\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n                if (this._shouldHandleEllipsis(currentHeightPx) && i < max - 1) {\n                    this._tryToAddEllipsisToLastLine();\n                }\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    _shouldHandleEllipsis(currentHeightPx) {\n        var fontSize = +this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, height = this.attrs.height, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxHeightPx = height - padding * 2, wrap = this.wrap(), shouldWrap = wrap !== NONE;\n        return (!shouldWrap ||\n            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx));\n    }\n    _tryToAddEllipsisToLastLine() {\n        var width = this.attrs.width, fixedWidth = width !== AUTO && width !== undefined, padding = this.padding(), maxWidth = width - padding * 2, shouldAddEllipsis = this.ellipsis();\n        var lastLine = this.textArr[this.textArr.length - 1];\n        if (!lastLine || !shouldAddEllipsis) {\n            return;\n        }\n        if (fixedWidth) {\n            var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n            if (!haveSpace) {\n                lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n            }\n        }\n        this.textArr.splice(this.textArr.length - 1, 1);\n        this._addTextLine(lastLine.text + ELLIPSIS);\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n_registerNode(Text);\nFactory.overWriteSetter(Text, 'width', getNumberOrAutoValidator());\nFactory.overWriteSetter(Text, 'height', getNumberOrAutoValidator());\nFactory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory.addGetterSetter(Text, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory.addGetterSetter(Text, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'align', LEFT);\nFactory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory.addGetterSetter(Text, 'lineHeight', 1, getNumberValidator());\nFactory.addGetterSetter(Text, 'wrap', WORD);\nFactory.addGetterSetter(Text, 'ellipsis', false, getBooleanValidator());\nFactory.addGetterSetter(Text, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'text', '', getStringValidator());\nFactory.addGetterSetter(Text, 'textDecoration', '');\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Path } from './Path.js';\nimport { Text, stringToArray } from './Text.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EMPTY_STRING = '', NORMAL = 'normal';\nfunction _fillFunc(context) {\n    context.fillText(this.partialText, 0, 0);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this.partialText, 0, 0);\n}\nexport class TextPath extends Shape {\n    constructor(config) {\n        super(config);\n        this.dummyCanvas = Util.createCanvasElement();\n        this.dataArray = [];\n        this.dataArray = Path.parsePathData(this.attrs.data);\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.attrs.data);\n            this._setTextData();\n        });\n        this.on('textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva', this._setTextData);\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', this.textBaseline());\n        context.setAttr('textAlign', 'left');\n        context.save();\n        var textDecoration = this.textDecoration();\n        var fill = this.fill();\n        var fontSize = this.fontSize();\n        var glyphInfo = this.glyphInfo;\n        if (textDecoration === 'underline') {\n            context.beginPath();\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            context.save();\n            var p0 = glyphInfo[i].p0;\n            context.translate(p0.x, p0.y);\n            context.rotate(glyphInfo[i].rotation);\n            this.partialText = glyphInfo[i].text;\n            context.fillStrokeShape(this);\n            if (textDecoration === 'underline') {\n                if (i === 0) {\n                    context.moveTo(0, fontSize / 2 + 1);\n                }\n                context.lineTo(fontSize, fontSize / 2 + 1);\n            }\n            context.restore();\n        }\n        if (textDecoration === 'underline') {\n            context.strokeStyle = fill;\n            context.lineWidth = fontSize / 20;\n            context.stroke();\n        }\n        context.restore();\n    }\n    _hitFunc(context) {\n        context.beginPath();\n        var glyphInfo = this.glyphInfo;\n        if (glyphInfo.length >= 1) {\n            var p0 = glyphInfo[0].p0;\n            context.moveTo(p0.x, p0.y);\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            var p1 = glyphInfo[i].p1;\n            context.lineTo(p1.x, p1.y);\n        }\n        context.setAttr('lineWidth', this.fontSize());\n        context.setAttr('strokeStyle', this.colorKey);\n        context.stroke();\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    setText(text) {\n        return Text.prototype.setText.call(this, text);\n    }\n    _getContextFont() {\n        return Text.prototype._getContextFont.call(this);\n    }\n    _getTextSize(text) {\n        var dummyCanvas = this.dummyCanvas;\n        var _context = dummyCanvas.getContext('2d');\n        _context.save();\n        _context.font = this._getContextFont();\n        var metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: parseInt(this.attrs.fontSize, 10),\n        };\n    }\n    _setTextData() {\n        var that = this;\n        var size = this._getTextSize(this.attrs.text);\n        var letterSpacing = this.letterSpacing();\n        var align = this.align();\n        var kerningFunc = this.kerningFunc();\n        this.textWidth = size.width;\n        this.textHeight = size.height;\n        var textFullWidth = Math.max(this.textWidth + ((this.attrs.text || '').length - 1) * letterSpacing, 0);\n        this.glyphInfo = [];\n        var fullPathWidth = 0;\n        for (var l = 0; l < that.dataArray.length; l++) {\n            if (that.dataArray[l].pathLength > 0) {\n                fullPathWidth += that.dataArray[l].pathLength;\n            }\n        }\n        var offset = 0;\n        if (align === 'center') {\n            offset = Math.max(0, fullPathWidth / 2 - textFullWidth / 2);\n        }\n        if (align === 'right') {\n            offset = Math.max(0, fullPathWidth - textFullWidth);\n        }\n        var charArr = stringToArray(this.text());\n        var spacesNumber = this.text().split(' ').length - 1;\n        var p0, p1, pathCmd;\n        var pIndex = -1;\n        var currentT = 0;\n        var getNextPathSegment = function () {\n            currentT = 0;\n            var pathData = that.dataArray;\n            for (var j = pIndex + 1; j < pathData.length; j++) {\n                if (pathData[j].pathLength > 0) {\n                    pIndex = j;\n                    return pathData[j];\n                }\n                else if (pathData[j].command === 'M') {\n                    p0 = {\n                        x: pathData[j].points[0],\n                        y: pathData[j].points[1],\n                    };\n                }\n            }\n            return {};\n        };\n        var findSegmentToFitCharacter = function (c) {\n            var glyphWidth = that._getTextSize(c).width + letterSpacing;\n            if (c === ' ' && align === 'justify') {\n                glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber;\n            }\n            var currLen = 0;\n            var attempts = 0;\n            p1 = undefined;\n            while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 &&\n                attempts < 20) {\n                attempts++;\n                var cumulativePathLength = currLen;\n                while (pathCmd === undefined) {\n                    pathCmd = getNextPathSegment();\n                    if (pathCmd &&\n                        cumulativePathLength + pathCmd.pathLength < glyphWidth) {\n                        cumulativePathLength += pathCmd.pathLength;\n                        pathCmd = undefined;\n                    }\n                }\n                if (Object.keys(pathCmd).length === 0 || p0 === undefined) {\n                    return undefined;\n                }\n                var needNewSegment = false;\n                switch (pathCmd.command) {\n                    case 'L':\n                        if (Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {\n                            p1 = Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);\n                        }\n                        else {\n                            pathCmd = undefined;\n                        }\n                        break;\n                    case 'A':\n                        var start = pathCmd.points[4];\n                        var dTheta = pathCmd.points[5];\n                        var end = pathCmd.points[4] + dTheta;\n                        if (currentT === 0) {\n                            currentT = start + 0.00000001;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += ((Math.PI / 180.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        else {\n                            currentT -= ((Math.PI / 360.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        if ((dTheta < 0 && currentT < end) ||\n                            (dTheta >= 0 && currentT > end)) {\n                            currentT = end;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);\n                        break;\n                    case 'C':\n                        if (currentT === 0) {\n                            if (glyphWidth > pathCmd.pathLength) {\n                                currentT = 0.00000001;\n                            }\n                            else {\n                                currentT = glyphWidth / pathCmd.pathLength;\n                            }\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength / 2;\n                        }\n                        else {\n                            currentT = Math.max(currentT - (currLen - glyphWidth) / pathCmd.pathLength / 2, 0);\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);\n                        break;\n                    case 'Q':\n                        if (currentT === 0) {\n                            currentT = glyphWidth / pathCmd.pathLength;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n                        }\n                        else {\n                            currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);\n                        break;\n                }\n                if (p1 !== undefined) {\n                    currLen = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n                }\n                if (needNewSegment) {\n                    needNewSegment = false;\n                    pathCmd = undefined;\n                }\n            }\n        };\n        var testChar = 'C';\n        var glyphWidth = that._getTextSize(testChar).width + letterSpacing;\n        var lettersInOffset = offset / glyphWidth - 1;\n        for (var k = 0; k < lettersInOffset; k++) {\n            findSegmentToFitCharacter(testChar);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            p0 = p1;\n        }\n        for (var i = 0; i < charArr.length; i++) {\n            findSegmentToFitCharacter(charArr[i]);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            var width = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n            var kern = 0;\n            if (kerningFunc) {\n                try {\n                    kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();\n                }\n                catch (e) {\n                    kern = 0;\n                }\n            }\n            p0.x += kern;\n            p1.x += kern;\n            this.textWidth += kern;\n            var midpoint = Path.getPointOnLine(kern + width / 2.0, p0.x, p0.y, p1.x, p1.y);\n            var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n            this.glyphInfo.push({\n                transposeX: midpoint.x,\n                transposeY: midpoint.y,\n                text: charArr[i],\n                rotation: rotation,\n                p0: p0,\n                p1: p1,\n            });\n            p0 = p1;\n        }\n    }\n    getSelfRect() {\n        if (!this.glyphInfo.length) {\n            return {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        var points = [];\n        this.glyphInfo.forEach(function (info) {\n            points.push(info.p0.x);\n            points.push(info.p0.y);\n            points.push(info.p1.x);\n            points.push(info.p1.y);\n        });\n        var minX = points[0] || 0;\n        var maxX = points[0] || 0;\n        var minY = points[1] || 0;\n        var maxY = points[1] || 0;\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        var fontSize = this.fontSize();\n        return {\n            x: minX - fontSize / 2,\n            y: minY - fontSize / 2,\n            width: maxX - minX + fontSize,\n            height: maxY - minY + fontSize,\n        };\n    }\n}\nTextPath.prototype._fillFunc = _fillFunc;\nTextPath.prototype._strokeFunc = _strokeFunc;\nTextPath.prototype._fillFuncHit = _fillFunc;\nTextPath.prototype._strokeFuncHit = _strokeFunc;\nTextPath.prototype.className = 'TextPath';\nTextPath.prototype._attrsAffectingSize = ['text', 'fontSize', 'data'];\n_registerNode(TextPath);\nFactory.addGetterSetter(TextPath, 'data');\nFactory.addGetterSetter(TextPath, 'fontFamily', 'Arial');\nFactory.addGetterSetter(TextPath, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'fontStyle', NORMAL);\nFactory.addGetterSetter(TextPath, 'align', 'left');\nFactory.addGetterSetter(TextPath, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'textBaseline', 'middle');\nFactory.addGetterSetter(TextPath, 'fontVariant', NORMAL);\nFactory.addGetterSetter(TextPath, 'text', EMPTY_STRING);\nFactory.addGetterSetter(TextPath, 'textDecoration', null);\nFactory.addGetterSetter(TextPath, 'kerningFunc', null);\n","import { Util, Transform } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Shape } from '../Shape.js';\nimport { Rect } from './Rect.js';\nimport { Group } from '../Group.js';\nimport { Konva } from '../Global.js';\nimport { getBooleanValidator, getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EVENTS_NAME = 'tr-konva';\nvar ATTR_CHANGE_LIST = [\n    'resizeEnabledChange',\n    'rotateAnchorOffsetChange',\n    'rotateEnabledChange',\n    'enabledAnchorsChange',\n    'anchorSizeChange',\n    'borderEnabledChange',\n    'borderStrokeChange',\n    'borderStrokeWidthChange',\n    'borderDashChange',\n    'anchorStrokeChange',\n    'anchorStrokeWidthChange',\n    'anchorFillChange',\n    'anchorCornerRadiusChange',\n    'ignoreStrokeChange',\n]\n    .map((e) => e + `.${EVENTS_NAME}`)\n    .join(' ');\nvar NODES_RECT = 'nodesRect';\nvar TRANSFORM_CHANGE_STR = [\n    'widthChange',\n    'heightChange',\n    'scaleXChange',\n    'scaleYChange',\n    'skewXChange',\n    'skewYChange',\n    'rotationChange',\n    'offsetXChange',\n    'offsetYChange',\n    'transformsEnabledChange',\n    'strokeWidthChange',\n];\nvar ANGLES = {\n    'top-left': -45,\n    'top-center': 0,\n    'top-right': 45,\n    'middle-right': -90,\n    'middle-left': 90,\n    'bottom-left': -135,\n    'bottom-center': 180,\n    'bottom-right': 135,\n};\nconst TOUCH_DEVICE = 'ontouchstart' in Konva._global;\nfunction getCursor(anchorName, rad) {\n    if (anchorName === 'rotater') {\n        return 'crosshair';\n    }\n    rad += Util.degToRad(ANGLES[anchorName] || 0);\n    var angle = ((Util.radToDeg(rad) % 360) + 360) % 360;\n    if (Util._inRange(angle, 315 + 22.5, 360) || Util._inRange(angle, 0, 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else if (Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else {\n        Util.error('Transformer has unknown angle for cursor detection: ' + angle);\n        return 'pointer';\n    }\n}\nvar ANCHORS_NAMES = [\n    'top-left',\n    'top-center',\n    'top-right',\n    'middle-right',\n    'middle-left',\n    'bottom-left',\n    'bottom-center',\n    'bottom-right',\n];\nvar MAX_SAFE_INTEGER = 100000000;\nfunction getCenter(shape) {\n    return {\n        x: shape.x +\n            (shape.width / 2) * Math.cos(shape.rotation) +\n            (shape.height / 2) * Math.sin(-shape.rotation),\n        y: shape.y +\n            (shape.height / 2) * Math.cos(shape.rotation) +\n            (shape.width / 2) * Math.sin(shape.rotation),\n    };\n}\nfunction rotateAroundPoint(shape, angleRad, point) {\n    const x = point.x +\n        (shape.x - point.x) * Math.cos(angleRad) -\n        (shape.y - point.y) * Math.sin(angleRad);\n    const y = point.y +\n        (shape.x - point.x) * Math.sin(angleRad) +\n        (shape.y - point.y) * Math.cos(angleRad);\n    return Object.assign(Object.assign({}, shape), { rotation: shape.rotation + angleRad, x,\n        y });\n}\nfunction rotateAroundCenter(shape, deltaRad) {\n    const center = getCenter(shape);\n    return rotateAroundPoint(shape, deltaRad, center);\n}\nfunction getSnap(snaps, newRotationRad, tol) {\n    let snapped = newRotationRad;\n    for (let i = 0; i < snaps.length; i++) {\n        const angle = Konva.getAngle(snaps[i]);\n        const absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);\n        const dif = Math.min(absDiff, Math.PI * 2 - absDiff);\n        if (dif < tol) {\n            snapped = angle;\n        }\n    }\n    return snapped;\n}\nexport class Transformer extends Group {\n    constructor(config) {\n        super(config);\n        this._transforming = false;\n        this._createElements();\n        this._handleMouseMove = this._handleMouseMove.bind(this);\n        this._handleMouseUp = this._handleMouseUp.bind(this);\n        this.update = this.update.bind(this);\n        this.on(ATTR_CHANGE_LIST, this.update);\n        if (this.getNode()) {\n            this.update();\n        }\n    }\n    attachTo(node) {\n        this.setNode(node);\n        return this;\n    }\n    setNode(node) {\n        Util.warn('tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.');\n        return this.setNodes([node]);\n    }\n    getNode() {\n        return this._nodes && this._nodes[0];\n    }\n    _getEventNamespace() {\n        return EVENTS_NAME + this._id;\n    }\n    setNodes(nodes = []) {\n        if (this._nodes && this._nodes.length) {\n            this.detach();\n        }\n        this._nodes = nodes;\n        if (nodes.length === 1 && this.useSingleNodeRotation()) {\n            this.rotation(nodes[0].getAbsoluteRotation());\n        }\n        else {\n            this.rotation(0);\n        }\n        this._nodes.forEach((node) => {\n            const onChange = () => {\n                if (this.nodes().length === 1 && this.useSingleNodeRotation()) {\n                    this.rotation(this.nodes()[0].getAbsoluteRotation());\n                }\n                this._resetTransformCache();\n                if (!this._transforming && !this.isDragging()) {\n                    this.update();\n                }\n            };\n            const additionalEvents = node._attrsAffectingSize\n                .map((prop) => prop + 'Change.' + this._getEventNamespace())\n                .join(' ');\n            node.on(additionalEvents, onChange);\n            node.on(TRANSFORM_CHANGE_STR.map((e) => e + `.${this._getEventNamespace()}`).join(' '), onChange);\n            node.on(`absoluteTransformChange.${this._getEventNamespace()}`, onChange);\n            this._proxyDrag(node);\n        });\n        this._resetTransformCache();\n        var elementsCreated = !!this.findOne('.top-left');\n        if (elementsCreated) {\n            this.update();\n        }\n        return this;\n    }\n    _proxyDrag(node) {\n        let lastPos;\n        node.on(`dragstart.${this._getEventNamespace()}`, (e) => {\n            lastPos = node.getAbsolutePosition();\n            if (!this.isDragging() && node !== this.findOne('.back')) {\n                this.startDrag(e, false);\n            }\n        });\n        node.on(`dragmove.${this._getEventNamespace()}`, (e) => {\n            if (!lastPos) {\n                return;\n            }\n            const abs = node.getAbsolutePosition();\n            const dx = abs.x - lastPos.x;\n            const dy = abs.y - lastPos.y;\n            this.nodes().forEach((otherNode) => {\n                if (otherNode === node) {\n                    return;\n                }\n                if (otherNode.isDragging()) {\n                    return;\n                }\n                const otherAbs = otherNode.getAbsolutePosition();\n                otherNode.setAbsolutePosition({\n                    x: otherAbs.x + dx,\n                    y: otherAbs.y + dy,\n                });\n                otherNode.startDrag(e);\n            });\n            lastPos = null;\n        });\n    }\n    getNodes() {\n        return this._nodes || [];\n    }\n    getActiveAnchor() {\n        return this._movingAnchorName;\n    }\n    detach() {\n        if (this._nodes) {\n            this._nodes.forEach((node) => {\n                node.off('.' + this._getEventNamespace());\n            });\n        }\n        this._nodes = [];\n        this._resetTransformCache();\n    }\n    _resetTransformCache() {\n        this._clearCache(NODES_RECT);\n        this._clearCache('transform');\n        this._clearSelfAndDescendantCache('absoluteTransform');\n    }\n    _getNodeRect() {\n        return this._getCache(NODES_RECT, this.__getNodeRect);\n    }\n    __getNodeShape(node, rot = this.rotation(), relative) {\n        var rect = node.getClientRect({\n            skipTransform: true,\n            skipShadow: true,\n            skipStroke: this.ignoreStroke(),\n        });\n        var absScale = node.getAbsoluteScale(relative);\n        var absPos = node.getAbsolutePosition(relative);\n        var dx = rect.x * absScale.x - node.offsetX() * absScale.x;\n        var dy = rect.y * absScale.y - node.offsetY() * absScale.y;\n        const rotation = (Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) %\n            (Math.PI * 2);\n        const box = {\n            x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),\n            y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),\n            width: rect.width * absScale.x,\n            height: rect.height * absScale.y,\n            rotation: rotation,\n        };\n        return rotateAroundPoint(box, -Konva.getAngle(rot), {\n            x: 0,\n            y: 0,\n        });\n    }\n    __getNodeRect() {\n        var node = this.getNode();\n        if (!node) {\n            return {\n                x: -MAX_SAFE_INTEGER,\n                y: -MAX_SAFE_INTEGER,\n                width: 0,\n                height: 0,\n                rotation: 0,\n            };\n        }\n        const totalPoints = [];\n        this.nodes().map((node) => {\n            const box = node.getClientRect({\n                skipTransform: true,\n                skipShadow: true,\n                skipStroke: this.ignoreStroke(),\n            });\n            var points = [\n                { x: box.x, y: box.y },\n                { x: box.x + box.width, y: box.y },\n                { x: box.x + box.width, y: box.y + box.height },\n                { x: box.x, y: box.y + box.height },\n            ];\n            var trans = node.getAbsoluteTransform();\n            points.forEach(function (point) {\n                var transformed = trans.point(point);\n                totalPoints.push(transformed);\n            });\n        });\n        const tr = new Transform();\n        tr.rotate(-Konva.getAngle(this.rotation()));\n        var minX, minY, maxX, maxY;\n        totalPoints.forEach(function (point) {\n            var transformed = tr.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        tr.invert();\n        const p = tr.point({ x: minX, y: minY });\n        return {\n            x: p.x,\n            y: p.y,\n            width: maxX - minX,\n            height: maxY - minY,\n            rotation: Konva.getAngle(this.rotation()),\n        };\n    }\n    getX() {\n        return this._getNodeRect().x;\n    }\n    getY() {\n        return this._getNodeRect().y;\n    }\n    getWidth() {\n        return this._getNodeRect().width;\n    }\n    getHeight() {\n        return this._getNodeRect().height;\n    }\n    _createElements() {\n        this._createBack();\n        ANCHORS_NAMES.forEach(function (name) {\n            this._createAnchor(name);\n        }.bind(this));\n        this._createAnchor('rotater');\n    }\n    _createAnchor(name) {\n        var anchor = new Rect({\n            stroke: 'rgb(0, 161, 255)',\n            fill: 'white',\n            strokeWidth: 1,\n            name: name + ' _anchor',\n            dragDistance: 0,\n            draggable: true,\n            hitStrokeWidth: TOUCH_DEVICE ? 10 : 'auto',\n        });\n        var self = this;\n        anchor.on('mousedown touchstart', function (e) {\n            self._handleMouseDown(e);\n        });\n        anchor.on('dragstart', (e) => {\n            anchor.stopDrag();\n            e.cancelBubble = true;\n        });\n        anchor.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        anchor.on('mouseenter', () => {\n            var rad = Konva.getAngle(this.rotation());\n            var cursor = getCursor(name, rad);\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = cursor);\n            this._cursorChange = true;\n        });\n        anchor.on('mouseout', () => {\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = '');\n            this._cursorChange = false;\n        });\n        this.add(anchor);\n    }\n    _createBack() {\n        var back = new Shape({\n            name: 'back',\n            width: 0,\n            height: 0,\n            draggable: true,\n            sceneFunc(ctx) {\n                var tr = this.getParent();\n                var padding = tr.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, this.width() + padding * 2, this.height() + padding * 2);\n                ctx.moveTo(this.width() / 2, -padding);\n                if (tr.rotateEnabled()) {\n                    ctx.lineTo(this.width() / 2, -tr.rotateAnchorOffset() * Util._sign(this.height()) - padding);\n                }\n                ctx.fillStrokeShape(this);\n            },\n            hitFunc: (ctx, shape) => {\n                if (!this.shouldOverdrawWholeArea()) {\n                    return;\n                }\n                var padding = this.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);\n                ctx.fillStrokeShape(shape);\n            },\n        });\n        this.add(back);\n        this._proxyDrag(back);\n        back.on('dragstart', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragmove', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        this.on('dragmove', (e) => {\n            this.update();\n        });\n    }\n    _handleMouseDown(e) {\n        this._movingAnchorName = e.target.name().split(' ')[0];\n        var attrs = this._getNodeRect();\n        var width = attrs.width;\n        var height = attrs.height;\n        var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n        this.sin = Math.abs(height / hypotenuse);\n        this.cos = Math.abs(width / hypotenuse);\n        if (typeof window !== 'undefined') {\n            window.addEventListener('mousemove', this._handleMouseMove);\n            window.addEventListener('touchmove', this._handleMouseMove);\n            window.addEventListener('mouseup', this._handleMouseUp, true);\n            window.addEventListener('touchend', this._handleMouseUp, true);\n        }\n        this._transforming = true;\n        var ap = e.target.getAbsolutePosition();\n        var pos = e.target.getStage().getPointerPosition();\n        this._anchorDragOffset = {\n            x: pos.x - ap.x,\n            y: pos.y - ap.y,\n        };\n        this._fire('transformstart', { evt: e.evt, target: this.getNode() });\n        this._nodes.forEach((target) => {\n            target._fire('transformstart', { evt: e.evt, target });\n        });\n    }\n    _handleMouseMove(e) {\n        var x, y, newHypotenuse;\n        var anchorNode = this.findOne('.' + this._movingAnchorName);\n        var stage = anchorNode.getStage();\n        stage.setPointersPositions(e);\n        const pp = stage.getPointerPosition();\n        let newNodePos = {\n            x: pp.x - this._anchorDragOffset.x,\n            y: pp.y - this._anchorDragOffset.y,\n        };\n        const oldAbs = anchorNode.getAbsolutePosition();\n        if (this.anchorDragBoundFunc()) {\n            newNodePos = this.anchorDragBoundFunc()(oldAbs, newNodePos, e);\n        }\n        anchorNode.setAbsolutePosition(newNodePos);\n        const newAbs = anchorNode.getAbsolutePosition();\n        if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {\n            return;\n        }\n        if (this._movingAnchorName === 'rotater') {\n            var attrs = this._getNodeRect();\n            x = anchorNode.x() - attrs.width / 2;\n            y = -anchorNode.y() + attrs.height / 2;\n            let delta = Math.atan2(-y, x) + Math.PI / 2;\n            if (attrs.height < 0) {\n                delta -= Math.PI;\n            }\n            var oldRotation = Konva.getAngle(this.rotation());\n            const newRotation = oldRotation + delta;\n            const tol = Konva.getAngle(this.rotationSnapTolerance());\n            const snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);\n            const diff = snappedRot - attrs.rotation;\n            const shape = rotateAroundCenter(attrs, diff);\n            this._fitNodesInto(shape, e);\n            return;\n        }\n        var keepProportion = this.keepRatio() || e.shiftKey;\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (this._movingAnchorName === 'top-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-right').x(),\n                        y: this.findOne('.bottom-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-left').x() > comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-left').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-left').x(comparePoint.x - x);\n                this.findOne('.top-left').y(comparePoint.y - y);\n            }\n        }\n        else if (this._movingAnchorName === 'top-center') {\n            this.findOne('.top-left').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'top-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-left').x(),\n                        y: this.findOne('.bottom-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-right').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-right').x(comparePoint.x + x);\n                this.findOne('.top-right').y(comparePoint.y - y);\n            }\n            var pos = anchorNode.position();\n            this.findOne('.top-left').y(pos.y);\n            this.findOne('.bottom-right').x(pos.x);\n        }\n        else if (this._movingAnchorName === 'middle-left') {\n            this.findOne('.top-left').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'middle-right') {\n            this.findOne('.bottom-right').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'bottom-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-right').x(),\n                        y: this.findOne('.top-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;\n                var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                anchorNode.x(comparePoint.x - x);\n                anchorNode.y(comparePoint.y + y);\n            }\n            pos = anchorNode.position();\n            this.findOne('.top-left').x(pos.x);\n            this.findOne('.bottom-right').y(pos.y);\n        }\n        else if (this._movingAnchorName === 'bottom-center') {\n            this.findOne('.bottom-right').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'bottom-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-left').x(),\n                        y: this.findOne('.top-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = this.findOne('.bottom-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.bottom-right').y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.bottom-right').x(comparePoint.x + x);\n                this.findOne('.bottom-right').y(comparePoint.y + y);\n            }\n        }\n        else {\n            console.error(new Error('Wrong position argument of selection resizer: ' +\n                this._movingAnchorName));\n        }\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (centeredScaling) {\n            var topLeft = this.findOne('.top-left');\n            var bottomRight = this.findOne('.bottom-right');\n            var topOffsetX = topLeft.x();\n            var topOffsetY = topLeft.y();\n            var bottomOffsetX = this.getWidth() - bottomRight.x();\n            var bottomOffsetY = this.getHeight() - bottomRight.y();\n            bottomRight.move({\n                x: -topOffsetX,\n                y: -topOffsetY,\n            });\n            topLeft.move({\n                x: bottomOffsetX,\n                y: bottomOffsetY,\n            });\n        }\n        var absPos = this.findOne('.top-left').getAbsolutePosition();\n        x = absPos.x;\n        y = absPos.y;\n        var width = this.findOne('.bottom-right').x() - this.findOne('.top-left').x();\n        var height = this.findOne('.bottom-right').y() - this.findOne('.top-left').y();\n        this._fitNodesInto({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            rotation: Konva.getAngle(this.rotation()),\n        }, e);\n    }\n    _handleMouseUp(e) {\n        this._removeEvents(e);\n    }\n    getAbsoluteTransform() {\n        return this.getTransform();\n    }\n    _removeEvents(e) {\n        if (this._transforming) {\n            this._transforming = false;\n            if (typeof window !== 'undefined') {\n                window.removeEventListener('mousemove', this._handleMouseMove);\n                window.removeEventListener('touchmove', this._handleMouseMove);\n                window.removeEventListener('mouseup', this._handleMouseUp, true);\n                window.removeEventListener('touchend', this._handleMouseUp, true);\n            }\n            var node = this.getNode();\n            this._fire('transformend', { evt: e, target: node });\n            if (node) {\n                this._nodes.forEach((target) => {\n                    target._fire('transformend', { evt: e, target });\n                });\n            }\n            this._movingAnchorName = null;\n        }\n    }\n    _fitNodesInto(newAttrs, evt) {\n        var oldAttrs = this._getNodeRect();\n        const minSize = 1;\n        if (Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        if (Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        const allowNegativeScale = this.flipEnabled();\n        var t = new Transform();\n        t.rotate(Konva.getAngle(this.rotation()));\n        if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('left') >= 0) {\n            const offset = t.point({\n                x: -this.padding() * 2,\n                y: 0,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            newAttrs.width += this.padding() * 2;\n            this._movingAnchorName = this._movingAnchorName.replace('left', 'right');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('right') >= 0) {\n            const offset = t.point({\n                x: this.padding() * 2,\n                y: 0,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('right', 'left');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.width += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('top') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: -this.padding() * 2,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            this._movingAnchorName = this._movingAnchorName.replace('top', 'bottom');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('bottom') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: this.padding() * 2,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('bottom', 'top');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this.boundBoxFunc()) {\n            const bounded = this.boundBoxFunc()(oldAttrs, newAttrs);\n            if (bounded) {\n                newAttrs = bounded;\n            }\n            else {\n                Util.warn('boundBoxFunc returned falsy. You should return new bound rect from it!');\n            }\n        }\n        const baseSize = 10000000;\n        const oldTr = new Transform();\n        oldTr.translate(oldAttrs.x, oldAttrs.y);\n        oldTr.rotate(oldAttrs.rotation);\n        oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);\n        const newTr = new Transform();\n        newTr.translate(newAttrs.x, newAttrs.y);\n        newTr.rotate(newAttrs.rotation);\n        newTr.scale(newAttrs.width / baseSize, newAttrs.height / baseSize);\n        const delta = newTr.multiply(oldTr.invert());\n        this._nodes.forEach((node) => {\n            var _a;\n            const parentTransform = node.getParent().getAbsoluteTransform();\n            const localTransform = node.getTransform().copy();\n            localTransform.translate(node.offsetX(), node.offsetY());\n            const newLocalTransform = new Transform();\n            newLocalTransform\n                .multiply(parentTransform.copy().invert())\n                .multiply(delta)\n                .multiply(parentTransform)\n                .multiply(localTransform);\n            const attrs = newLocalTransform.decompose();\n            node.setAttrs(attrs);\n            this._fire('transform', { evt: evt, target: node });\n            node._fire('transform', { evt: evt, target: node });\n            (_a = node.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n        });\n        this.rotation(Util._getRotation(newAttrs.rotation));\n        this._resetTransformCache();\n        this.update();\n        this.getLayer().batchDraw();\n    }\n    forceUpdate() {\n        this._resetTransformCache();\n        this.update();\n    }\n    _batchChangeChild(selector, attrs) {\n        const anchor = this.findOne(selector);\n        anchor.setAttrs(attrs);\n    }\n    update() {\n        var _a;\n        var attrs = this._getNodeRect();\n        this.rotation(Util._getRotation(attrs.rotation));\n        var width = attrs.width;\n        var height = attrs.height;\n        var enabledAnchors = this.enabledAnchors();\n        var resizeEnabled = this.resizeEnabled();\n        var padding = this.padding();\n        var anchorSize = this.anchorSize();\n        this.find('._anchor').forEach((node) => {\n            node.setAttrs({\n                width: anchorSize,\n                height: anchorSize,\n                offsetX: anchorSize / 2,\n                offsetY: anchorSize / 2,\n                stroke: this.anchorStroke(),\n                strokeWidth: this.anchorStrokeWidth(),\n                fill: this.anchorFill(),\n                cornerRadius: this.anchorCornerRadius(),\n            });\n        });\n        this._batchChangeChild('.top-left', {\n            x: 0,\n            y: 0,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-left') >= 0,\n        });\n        this._batchChangeChild('.top-center', {\n            x: width / 2,\n            y: 0,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-center') >= 0,\n        });\n        this._batchChangeChild('.top-right', {\n            x: width,\n            y: 0,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-right') >= 0,\n        });\n        this._batchChangeChild('.middle-left', {\n            x: 0,\n            y: height / 2,\n            offsetX: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-left') >= 0,\n        });\n        this._batchChangeChild('.middle-right', {\n            x: width,\n            y: height / 2,\n            offsetX: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-right') >= 0,\n        });\n        this._batchChangeChild('.bottom-left', {\n            x: 0,\n            y: height,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-left') >= 0,\n        });\n        this._batchChangeChild('.bottom-center', {\n            x: width / 2,\n            y: height,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-center') >= 0,\n        });\n        this._batchChangeChild('.bottom-right', {\n            x: width,\n            y: height,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-right') >= 0,\n        });\n        this._batchChangeChild('.rotater', {\n            x: width / 2,\n            y: -this.rotateAnchorOffset() * Util._sign(height) - padding,\n            visible: this.rotateEnabled(),\n        });\n        this._batchChangeChild('.back', {\n            width: width,\n            height: height,\n            visible: this.borderEnabled(),\n            stroke: this.borderStroke(),\n            strokeWidth: this.borderStrokeWidth(),\n            dash: this.borderDash(),\n            x: 0,\n            y: 0,\n        });\n        (_a = this.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n    }\n    isTransforming() {\n        return this._transforming;\n    }\n    stopTransform() {\n        if (this._transforming) {\n            this._removeEvents();\n            var anchorNode = this.findOne('.' + this._movingAnchorName);\n            if (anchorNode) {\n                anchorNode.stopDrag();\n            }\n        }\n    }\n    destroy() {\n        if (this.getStage() && this._cursorChange) {\n            this.getStage().content && (this.getStage().content.style.cursor = '');\n        }\n        Group.prototype.destroy.call(this);\n        this.detach();\n        this._removeEvents();\n        return this;\n    }\n    toObject() {\n        return Node.prototype.toObject.call(this);\n    }\n    getClientRect() {\n        if (this.nodes().length > 0) {\n            return super.getClientRect();\n        }\n        else {\n            return { x: 0, y: 0, width: 0, height: 0 };\n        }\n    }\n}\nfunction validateAnchors(val) {\n    if (!(val instanceof Array)) {\n        Util.warn('enabledAnchors value should be an array');\n    }\n    if (val instanceof Array) {\n        val.forEach(function (name) {\n            if (ANCHORS_NAMES.indexOf(name) === -1) {\n                Util.warn('Unknown anchor name: ' +\n                    name +\n                    '. Available names are: ' +\n                    ANCHORS_NAMES.join(', '));\n            }\n        });\n    }\n    return val || [];\n}\nTransformer.prototype.className = 'Transformer';\n_registerNode(Transformer);\nFactory.addGetterSetter(Transformer, 'enabledAnchors', ANCHORS_NAMES, validateAnchors);\nFactory.addGetterSetter(Transformer, 'flipEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Transformer, 'resizeEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorSize', 10, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotateEnabled', true);\nFactory.addGetterSetter(Transformer, 'rotationSnaps', []);\nFactory.addGetterSetter(Transformer, 'rotateAnchorOffset', 50, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotationSnapTolerance', 5, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'anchorStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'anchorFill', 'white');\nFactory.addGetterSetter(Transformer, 'anchorCornerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'borderStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderDash');\nFactory.addGetterSetter(Transformer, 'keepRatio', true);\nFactory.addGetterSetter(Transformer, 'centeredScaling', false);\nFactory.addGetterSetter(Transformer, 'ignoreStroke', false);\nFactory.addGetterSetter(Transformer, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'node');\nFactory.addGetterSetter(Transformer, 'nodes');\nFactory.addGetterSetter(Transformer, 'boundBoxFunc');\nFactory.addGetterSetter(Transformer, 'anchorDragBoundFunc');\nFactory.addGetterSetter(Transformer, 'shouldOverdrawWholeArea', false);\nFactory.addGetterSetter(Transformer, 'useSingleNodeRotation', true);\nFactory.backCompat(Transformer, {\n    lineEnabled: 'borderEnabled',\n    rotateHandlerOffset: 'rotateAnchorOffset',\n    enabledHandlers: 'enabledAnchors',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Wedge extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.radius(), 0, Konva.getAngle(this.angle()), this.clockwise());\n        context.lineTo(0, 0);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nWedge.prototype.className = 'Wedge';\nWedge.prototype._centroid = true;\nWedge.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Wedge);\nFactory.addGetterSetter(Wedge, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'clockwise', false);\nFactory.backCompat(Wedge, {\n    angleDeg: 'angle',\n    getAngleDeg: 'getAngle',\n    setAngleDeg: 'setAngle',\n});\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction BlurStack() {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n}\nvar mul_table = [\n    512,\n    512,\n    456,\n    512,\n    328,\n    456,\n    335,\n    512,\n    405,\n    328,\n    271,\n    456,\n    388,\n    335,\n    292,\n    512,\n    454,\n    405,\n    364,\n    328,\n    298,\n    271,\n    496,\n    456,\n    420,\n    388,\n    360,\n    335,\n    312,\n    292,\n    273,\n    512,\n    482,\n    454,\n    428,\n    405,\n    383,\n    364,\n    345,\n    328,\n    312,\n    298,\n    284,\n    271,\n    259,\n    496,\n    475,\n    456,\n    437,\n    420,\n    404,\n    388,\n    374,\n    360,\n    347,\n    335,\n    323,\n    312,\n    302,\n    292,\n    282,\n    273,\n    265,\n    512,\n    497,\n    482,\n    468,\n    454,\n    441,\n    428,\n    417,\n    405,\n    394,\n    383,\n    373,\n    364,\n    354,\n    345,\n    337,\n    328,\n    320,\n    312,\n    305,\n    298,\n    291,\n    284,\n    278,\n    271,\n    265,\n    259,\n    507,\n    496,\n    485,\n    475,\n    465,\n    456,\n    446,\n    437,\n    428,\n    420,\n    412,\n    404,\n    396,\n    388,\n    381,\n    374,\n    367,\n    360,\n    354,\n    347,\n    341,\n    335,\n    329,\n    323,\n    318,\n    312,\n    307,\n    302,\n    297,\n    292,\n    287,\n    282,\n    278,\n    273,\n    269,\n    265,\n    261,\n    512,\n    505,\n    497,\n    489,\n    482,\n    475,\n    468,\n    461,\n    454,\n    447,\n    441,\n    435,\n    428,\n    422,\n    417,\n    411,\n    405,\n    399,\n    394,\n    389,\n    383,\n    378,\n    373,\n    368,\n    364,\n    359,\n    354,\n    350,\n    345,\n    341,\n    337,\n    332,\n    328,\n    324,\n    320,\n    316,\n    312,\n    309,\n    305,\n    301,\n    298,\n    294,\n    291,\n    287,\n    284,\n    281,\n    278,\n    274,\n    271,\n    268,\n    265,\n    262,\n    259,\n    257,\n    507,\n    501,\n    496,\n    491,\n    485,\n    480,\n    475,\n    470,\n    465,\n    460,\n    456,\n    451,\n    446,\n    442,\n    437,\n    433,\n    428,\n    424,\n    420,\n    416,\n    412,\n    408,\n    404,\n    400,\n    396,\n    392,\n    388,\n    385,\n    381,\n    377,\n    374,\n    370,\n    367,\n    363,\n    360,\n    357,\n    354,\n    350,\n    347,\n    344,\n    341,\n    338,\n    335,\n    332,\n    329,\n    326,\n    323,\n    320,\n    318,\n    315,\n    312,\n    310,\n    307,\n    304,\n    302,\n    299,\n    297,\n    294,\n    292,\n    289,\n    287,\n    285,\n    282,\n    280,\n    278,\n    275,\n    273,\n    271,\n    269,\n    267,\n    265,\n    263,\n    261,\n    259,\n];\nvar shg_table = [\n    9,\n    11,\n    12,\n    13,\n    13,\n    14,\n    14,\n    15,\n    15,\n    15,\n    15,\n    16,\n    16,\n    16,\n    16,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n];\nfunction filterGaussBlurRGBA(imageData, radius) {\n    var pixels = imageData.data, width = imageData.width, height = imageData.height;\n    var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n    var div = radius + radius + 1, widthMinus1 = width - 1, heightMinus1 = height - 1, radiusPlus1 = radius + 1, sumFactor = (radiusPlus1 * (radiusPlus1 + 1)) / 2, stackStart = new BlurStack(), stackEnd = null, stack = stackStart, stackIn = null, stackOut = null, mul_sum = mul_table[radius], shg_sum = shg_table[radius];\n    for (i = 1; i < div; i++) {\n        stack = stack.next = new BlurStack();\n        if (i === radiusPlus1) {\n            stackEnd = stack;\n        }\n    }\n    stack.next = stackStart;\n    yw = yi = 0;\n    for (y = 0; y < height; y++) {\n        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        for (i = 1; i < radiusPlus1; i++) {\n            p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n            r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n        }\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (x = 0; x < width; x++) {\n            pixels[yi + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa !== 0) {\n                pa = 255 / pa;\n                pixels[yi] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p = (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n            r_in_sum += stackIn.r = pixels[p];\n            g_in_sum += stackIn.g = pixels[p + 1];\n            b_in_sum += stackIn.b = pixels[p + 2];\n            a_in_sum += stackIn.a = pixels[p + 3];\n            r_sum += r_in_sum;\n            g_sum += g_in_sum;\n            b_sum += b_in_sum;\n            a_sum += a_in_sum;\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += 4;\n        }\n        yw += width;\n    }\n    for (x = 0; x < width; x++) {\n        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n        yi = x << 2;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        yp = width;\n        for (i = 1; i <= radius; i++) {\n            yi = (yp + x) << 2;\n            r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n            if (i < heightMinus1) {\n                yp += width;\n            }\n        }\n        yi = x;\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (y = 0; y < height; y++) {\n            p = yi << 2;\n            pixels[p + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa > 0) {\n                pa = 255 / pa;\n                pixels[p] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p =\n                (x +\n                    ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width) <<\n                    2;\n            r_sum += r_in_sum += stackIn.r = pixels[p];\n            g_sum += g_in_sum += stackIn.g = pixels[p + 1];\n            b_sum += b_in_sum += stackIn.b = pixels[p + 2];\n            a_sum += a_in_sum += stackIn.a = pixels[p + 3];\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += width;\n        }\n    }\n}\nexport const Blur = function Blur(imageData) {\n    var radius = Math.round(this.blurRadius());\n    if (radius > 0) {\n        filterGaussBlurRGBA(imageData, radius);\n    }\n};\nFactory.addGetterSetter(Node, 'blurRadius', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction remap(fromValue, fromMin, fromMax, toMin, toMax) {\n    var fromRange = fromMax - fromMin, toRange = toMax - toMin, toValue;\n    if (fromRange === 0) {\n        return toMin + toRange / 2;\n    }\n    if (toRange === 0) {\n        return toMin;\n    }\n    toValue = (fromValue - fromMin) / fromRange;\n    toValue = toRange * toValue + toMin;\n    return toValue;\n}\nexport const Enhance = function (imageData) {\n    var data = imageData.data, nSubPixels = data.length, rMin = data[0], rMax = rMin, r, gMin = data[1], gMax = gMin, g, bMin = data[2], bMax = bMin, b, i;\n    var enhanceAmount = this.enhance();\n    if (enhanceAmount === 0) {\n        return;\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        r = data[i + 0];\n        if (r < rMin) {\n            rMin = r;\n        }\n        else if (r > rMax) {\n            rMax = r;\n        }\n        g = data[i + 1];\n        if (g < gMin) {\n            gMin = g;\n        }\n        else if (g > gMax) {\n            gMax = g;\n        }\n        b = data[i + 2];\n        if (b < bMin) {\n            bMin = b;\n        }\n        else if (b > bMax) {\n            bMax = b;\n        }\n    }\n    if (rMax === rMin) {\n        rMax = 255;\n        rMin = 0;\n    }\n    if (gMax === gMin) {\n        gMax = 255;\n        gMin = 0;\n    }\n    if (bMax === bMin) {\n        bMax = 255;\n        bMin = 0;\n    }\n    var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;\n    if (enhanceAmount > 0) {\n        rGoalMax = rMax + enhanceAmount * (255 - rMax);\n        rGoalMin = rMin - enhanceAmount * (rMin - 0);\n        gGoalMax = gMax + enhanceAmount * (255 - gMax);\n        gGoalMin = gMin - enhanceAmount * (gMin - 0);\n        bGoalMax = bMax + enhanceAmount * (255 - bMax);\n        bGoalMin = bMin - enhanceAmount * (bMin - 0);\n    }\n    else {\n        rMid = (rMax + rMin) * 0.5;\n        rGoalMax = rMax + enhanceAmount * (rMax - rMid);\n        rGoalMin = rMin + enhanceAmount * (rMin - rMid);\n        gMid = (gMax + gMin) * 0.5;\n        gGoalMax = gMax + enhanceAmount * (gMax - gMid);\n        gGoalMin = gMin + enhanceAmount * (gMin - gMid);\n        bMid = (bMax + bMin) * 0.5;\n        bGoalMax = bMax + enhanceAmount * (bMax - bMid);\n        bGoalMin = bMin + enhanceAmount * (bMin - bMid);\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);\n        data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);\n        data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);\n    }\n};\nFactory.addGetterSetter(Node, 'enhance', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction pixelAt(idata, x, y) {\n    var idx = (y * idata.width + x) * 4;\n    var d = [];\n    d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);\n    return d;\n}\nfunction rgbDistance(p1, p2) {\n    return Math.sqrt(Math.pow(p1[0] - p2[0], 2) +\n        Math.pow(p1[1] - p2[1], 2) +\n        Math.pow(p1[2] - p2[2], 2));\n}\nfunction rgbMean(pTab) {\n    var m = [0, 0, 0];\n    for (var i = 0; i < pTab.length; i++) {\n        m[0] += pTab[i][0];\n        m[1] += pTab[i][1];\n        m[2] += pTab[i][2];\n    }\n    m[0] /= pTab.length;\n    m[1] /= pTab.length;\n    m[2] /= pTab.length;\n    return m;\n}\nfunction backgroundMask(idata, threshold) {\n    var rgbv_no = pixelAt(idata, 0, 0);\n    var rgbv_ne = pixelAt(idata, idata.width - 1, 0);\n    var rgbv_so = pixelAt(idata, 0, idata.height - 1);\n    var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);\n    var thres = threshold || 10;\n    if (rgbDistance(rgbv_no, rgbv_ne) < thres &&\n        rgbDistance(rgbv_ne, rgbv_se) < thres &&\n        rgbDistance(rgbv_se, rgbv_so) < thres &&\n        rgbDistance(rgbv_so, rgbv_no) < thres) {\n        var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);\n        var mask = [];\n        for (var i = 0; i < idata.width * idata.height; i++) {\n            var d = rgbDistance(mean, [\n                idata.data[i * 4],\n                idata.data[i * 4 + 1],\n                idata.data[i * 4 + 2],\n            ]);\n            mask[i] = d < thres ? 0 : 255;\n        }\n        return mask;\n    }\n}\nfunction applyMask(idata, mask) {\n    for (var i = 0; i < idata.width * idata.height; i++) {\n        idata.data[4 * i + 3] = mask[i];\n    }\n}\nfunction erodeMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a === 255 * 8 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction dilateMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a >= 255 * 4 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction smoothEdgeMask(mask, sw, sh) {\n    var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a;\n        }\n    }\n    return maskResult;\n}\nexport const Mask = function (imageData) {\n    var threshold = this.threshold(), mask = backgroundMask(imageData, threshold);\n    if (mask) {\n        mask = erodeMask(mask, imageData.width, imageData.height);\n        mask = dilateMask(mask, imageData.width, imageData.height);\n        mask = smoothEdgeMask(mask, imageData.width, imageData.height);\n        applyMask(imageData, mask);\n    }\n    return imageData;\n};\nFactory.addGetterSetter(Node, 'threshold', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Brighten = function (imageData) {\n    var brightness = this.brightness() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] += brightness;\n        data[i + 1] += brightness;\n        data[i + 2] += brightness;\n    }\n};\nFactory.addGetterSetter(Node, 'brightness', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Contrast = function (imageData) {\n    var adjust = Math.pow((this.contrast() + 100) / 100, 2);\n    var data = imageData.data, nPixels = data.length, red = 150, green = 150, blue = 150, i;\n    for (i = 0; i < nPixels; i += 4) {\n        red = data[i];\n        green = data[i + 1];\n        blue = data[i + 2];\n        red /= 255;\n        red -= 0.5;\n        red *= adjust;\n        red += 0.5;\n        red *= 255;\n        green /= 255;\n        green -= 0.5;\n        green *= adjust;\n        green += 0.5;\n        green *= 255;\n        blue /= 255;\n        blue -= 0.5;\n        blue *= adjust;\n        blue += 0.5;\n        blue *= 255;\n        red = red < 0 ? 0 : red > 255 ? 255 : red;\n        green = green < 0 ? 0 : green > 255 ? 255 : green;\n        blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;\n        data[i] = red;\n        data[i + 1] = green;\n        data[i + 2] = blue;\n    }\n};\nFactory.addGetterSetter(Node, 'contrast', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Emboss = function (imageData) {\n    var strength = this.embossStrength() * 10, greyLevel = this.embossWhiteLevel() * 255, direction = this.embossDirection(), blend = this.embossBlend(), dirY = 0, dirX = 0, data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    switch (direction) {\n        case 'top-left':\n            dirY = -1;\n            dirX = -1;\n            break;\n        case 'top':\n            dirY = -1;\n            dirX = 0;\n            break;\n        case 'top-right':\n            dirY = -1;\n            dirX = 1;\n            break;\n        case 'right':\n            dirY = 0;\n            dirX = 1;\n            break;\n        case 'bottom-right':\n            dirY = 1;\n            dirX = 1;\n            break;\n        case 'bottom':\n            dirY = 1;\n            dirX = 0;\n            break;\n        case 'bottom-left':\n            dirY = 1;\n            dirX = -1;\n            break;\n        case 'left':\n            dirY = 0;\n            dirX = -1;\n            break;\n        default:\n            Util.error('Unknown emboss direction: ' + direction);\n    }\n    do {\n        var offsetY = (y - 1) * w4;\n        var otherY = dirY;\n        if (y + otherY < 1) {\n            otherY = 0;\n        }\n        if (y + otherY > h) {\n            otherY = 0;\n        }\n        var offsetYOther = (y - 1 + otherY) * w * 4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var otherX = dirX;\n            if (x + otherX < 1) {\n                otherX = 0;\n            }\n            if (x + otherX > w) {\n                otherX = 0;\n            }\n            var offsetOther = offsetYOther + (x - 1 + otherX) * 4;\n            var dR = data[offset] - data[offsetOther];\n            var dG = data[offset + 1] - data[offsetOther + 1];\n            var dB = data[offset + 2] - data[offsetOther + 2];\n            var dif = dR;\n            var absDif = dif > 0 ? dif : -dif;\n            var absG = dG > 0 ? dG : -dG;\n            var absB = dB > 0 ? dB : -dB;\n            if (absG > absDif) {\n                dif = dG;\n            }\n            if (absB > absDif) {\n                dif = dB;\n            }\n            dif *= strength;\n            if (blend) {\n                var r = data[offset] + dif;\n                var g = data[offset + 1] + dif;\n                var b = data[offset + 2] + dif;\n                data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;\n                data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;\n                data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;\n            }\n            else {\n                var grey = greyLevel - dif;\n                if (grey < 0) {\n                    grey = 0;\n                }\n                else if (grey > 255) {\n                    grey = 255;\n                }\n                data[offset] = data[offset + 1] = data[offset + 2] = grey;\n            }\n        } while (--x);\n    } while (--y);\n};\nFactory.addGetterSetter(Node, 'embossStrength', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossWhiteLevel', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossDirection', 'top-left', null, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossBlend', false, null, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'luminance', 0, getNumberValidator(), Factory.afterSetFilter);\nexport const HSL = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = 1, s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, l = this.luminance() * 127, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b + l;\n        data[i + 1] = gr * r + gg * g + gb * b + l;\n        data[i + 2] = br * r + bg * g + bb * b + l;\n        data[i + 3] = a;\n    }\n};\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const HSV = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = Math.pow(2, this.value()), s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b;\n        data[i + 1] = gr * r + gg * g + gb * b;\n        data[i + 2] = br * r + bg * g + bb * b;\n        data[i + 3] = a;\n    }\n};\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'value', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nvar ToPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta;\n    var conversion = ((360 / tSize) * Math.PI) / 180, sin, cos;\n    for (theta = 0; theta < tSize; theta += 1) {\n        sin = Math.sin(theta * conversion);\n        cos = Math.cos(theta * conversion);\n        for (radius = 0; radius < rSize; radius += 1) {\n            x = Math.floor(xMid + ((rMax * radius) / rSize) * cos);\n            y = Math.floor(yMid + ((rMax * radius) / rSize) * sin);\n            i = (y * xSize + x) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (theta + radius * xSize) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nvar FromPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, dx, dy, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta, phaseShift = opt.polarRotation || 0;\n    var x1, y1;\n    for (x = 0; x < xSize; x += 1) {\n        for (y = 0; y < ySize; y += 1) {\n            dx = x - xMid;\n            dy = y - yMid;\n            radius = (Math.sqrt(dx * dx + dy * dy) * rSize) / rMax;\n            theta = ((Math.atan2(dy, dx) * 180) / Math.PI + 360 + phaseShift) % 360;\n            theta = (theta * tSize) / 360;\n            x1 = Math.floor(theta);\n            y1 = Math.floor(radius);\n            i = (y1 * xSize + x1) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (y * xSize + x) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nexport const Kaleidoscope = function (imageData) {\n    var xSize = imageData.width, ySize = imageData.height;\n    var x, y, xoff, i, r, g, b, a, srcPos, dstPos;\n    var power = Math.round(this.kaleidoscopePower());\n    var angle = Math.round(this.kaleidoscopeAngle());\n    var offset = Math.floor((xSize * (angle % 360)) / 360);\n    if (power < 1) {\n        return;\n    }\n    var tempCanvas = Util.createCanvasElement();\n    tempCanvas.width = xSize;\n    tempCanvas.height = ySize;\n    var scratchData = tempCanvas\n        .getContext('2d')\n        .getImageData(0, 0, xSize, ySize);\n    ToPolar(imageData, scratchData, {\n        polarCenterX: xSize / 2,\n        polarCenterY: ySize / 2,\n    });\n    var minSectionSize = xSize / Math.pow(2, power);\n    while (minSectionSize <= 8) {\n        minSectionSize = minSectionSize * 2;\n        power -= 1;\n    }\n    minSectionSize = Math.ceil(minSectionSize);\n    var sectionSize = minSectionSize;\n    var xStart = 0, xEnd = sectionSize, xDelta = 1;\n    if (offset + minSectionSize > xSize) {\n        xStart = sectionSize;\n        xEnd = 0;\n        xDelta = -1;\n    }\n    for (y = 0; y < ySize; y += 1) {\n        for (x = xStart; x !== xEnd; x += xDelta) {\n            xoff = Math.round(x + offset) % xSize;\n            srcPos = (xSize * y + xoff) * 4;\n            r = scratchData.data[srcPos + 0];\n            g = scratchData.data[srcPos + 1];\n            b = scratchData.data[srcPos + 2];\n            a = scratchData.data[srcPos + 3];\n            dstPos = (xSize * y + x) * 4;\n            scratchData.data[dstPos + 0] = r;\n            scratchData.data[dstPos + 1] = g;\n            scratchData.data[dstPos + 2] = b;\n            scratchData.data[dstPos + 3] = a;\n        }\n    }\n    for (y = 0; y < ySize; y += 1) {\n        sectionSize = Math.floor(minSectionSize);\n        for (i = 0; i < power; i += 1) {\n            for (x = 0; x < sectionSize + 1; x += 1) {\n                srcPos = (xSize * y + x) * 4;\n                r = scratchData.data[srcPos + 0];\n                g = scratchData.data[srcPos + 1];\n                b = scratchData.data[srcPos + 2];\n                a = scratchData.data[srcPos + 3];\n                dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;\n                scratchData.data[dstPos + 0] = r;\n                scratchData.data[dstPos + 1] = g;\n                scratchData.data[dstPos + 2] = b;\n                scratchData.data[dstPos + 3] = a;\n            }\n            sectionSize *= 2;\n        }\n    }\n    FromPolar(scratchData, imageData, { polarRotation: 0 });\n};\nFactory.addGetterSetter(Node, 'kaleidoscopePower', 2, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'kaleidoscopeAngle', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Noise = function (imageData) {\n    var amount = this.noise() * 255, data = imageData.data, nPixels = data.length, half = amount / 2, i;\n    for (i = 0; i < nPixels; i += 4) {\n        data[i + 0] += half - 2 * half * Math.random();\n        data[i + 1] += half - 2 * half * Math.random();\n        data[i + 2] += half - 2 * half * Math.random();\n    }\n};\nFactory.addGetterSetter(Node, 'noise', 0.2, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Util } from '../Util.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Pixelate = function (imageData) {\n    var pixelSize = Math.ceil(this.pixelSize()), width = imageData.width, height = imageData.height, x, y, i, red, green, blue, alpha, nBinsX = Math.ceil(width / pixelSize), nBinsY = Math.ceil(height / pixelSize), xBinStart, xBinEnd, yBinStart, yBinEnd, xBin, yBin, pixelsInBin, data = imageData.data;\n    if (pixelSize <= 0) {\n        Util.error('pixelSize value can not be <= 0');\n        return;\n    }\n    for (xBin = 0; xBin < nBinsX; xBin += 1) {\n        for (yBin = 0; yBin < nBinsY; yBin += 1) {\n            red = 0;\n            green = 0;\n            blue = 0;\n            alpha = 0;\n            xBinStart = xBin * pixelSize;\n            xBinEnd = xBinStart + pixelSize;\n            yBinStart = yBin * pixelSize;\n            yBinEnd = yBinStart + pixelSize;\n            pixelsInBin = 0;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    red += data[i + 0];\n                    green += data[i + 1];\n                    blue += data[i + 2];\n                    alpha += data[i + 3];\n                    pixelsInBin += 1;\n                }\n            }\n            red = red / pixelsInBin;\n            green = green / pixelsInBin;\n            blue = blue / pixelsInBin;\n            alpha = alpha / pixelsInBin;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    data[i + 0] = red;\n                    data[i + 1] = green;\n                    data[i + 2] = blue;\n                    data[i + 3] = alpha;\n                }\n            }\n        }\n    }\n};\nFactory.addGetterSetter(Node, 'pixelSize', 8, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Posterize = function (imageData) {\n    var levels = Math.round(this.levels() * 254) + 1, data = imageData.data, len = data.length, scale = 255 / levels, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = Math.floor(data[i] / scale) * scale;\n    }\n};\nFactory.addGetterSetter(Node, 'levels', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGB = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), i, brightness;\n    for (i = 0; i < nPixels; i += 4) {\n        brightness =\n            (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n        data[i] = brightness * red;\n        data[i + 1] = brightness * green;\n        data[i + 2] = brightness * blue;\n        data[i + 3] = data[i + 3];\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGBA = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), alpha = this.alpha(), i, ia;\n    for (i = 0; i < nPixels; i += 4) {\n        ia = 1 - alpha;\n        data[i] = red * alpha + data[i] * ia;\n        data[i + 1] = green * alpha + data[i + 1] * ia;\n        data[i + 2] = blue * alpha + data[i + 2] * ia;\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'alpha', 1, function (val) {\n    this._filterUpToDate = false;\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return val;\n    }\n});\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Threshold = function (imageData) {\n    var level = this.threshold() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = data[i] < level ? 0 : 255;\n    }\n};\nFactory.addGetterSetter(Node, 'threshold', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Konva as Core } from './_CoreInternals.js';\nimport { Arc } from './shapes/Arc.js';\nimport { Arrow } from './shapes/Arrow.js';\nimport { Circle } from './shapes/Circle.js';\nimport { Ellipse } from './shapes/Ellipse.js';\nimport { Image } from './shapes/Image.js';\nimport { Label, Tag } from './shapes/Label.js';\nimport { Line } from './shapes/Line.js';\nimport { Path } from './shapes/Path.js';\nimport { Rect } from './shapes/Rect.js';\nimport { RegularPolygon } from './shapes/RegularPolygon.js';\nimport { Ring } from './shapes/Ring.js';\nimport { Sprite } from './shapes/Sprite.js';\nimport { Star } from './shapes/Star.js';\nimport { Text } from './shapes/Text.js';\nimport { TextPath } from './shapes/TextPath.js';\nimport { Transformer } from './shapes/Transformer.js';\nimport { Wedge } from './shapes/Wedge.js';\nimport { Blur } from './filters/Blur.js';\nimport { Brighten } from './filters/Brighten.js';\nimport { Contrast } from './filters/Contrast.js';\nimport { Emboss } from './filters/Emboss.js';\nimport { Enhance } from './filters/Enhance.js';\nimport { Grayscale } from './filters/Grayscale.js';\nimport { HSL } from './filters/HSL.js';\nimport { HSV } from './filters/HSV.js';\nimport { Invert } from './filters/Invert.js';\nimport { Kaleidoscope } from './filters/Kaleidoscope.js';\nimport { Mask } from './filters/Mask.js';\nimport { Noise } from './filters/Noise.js';\nimport { Pixelate } from './filters/Pixelate.js';\nimport { Posterize } from './filters/Posterize.js';\nimport { RGB } from './filters/RGB.js';\nimport { RGBA } from './filters/RGBA.js';\nimport { Sepia } from './filters/Sepia.js';\nimport { Solarize } from './filters/Solarize.js';\nimport { Threshold } from './filters/Threshold.js';\nexport const Konva = Core.Util._assign(Core, {\n    Arc,\n    Arrow,\n    Circle,\n    Ellipse,\n    Image,\n    Label,\n    Tag,\n    Line,\n    Path,\n    Rect,\n    RegularPolygon,\n    Ring,\n    Sprite,\n    Star,\n    Text,\n    TextPath,\n    Transformer,\n    Wedge,\n    Filters: {\n        Blur,\n        Brighten,\n        Contrast,\n        Emboss,\n        Enhance,\n        Grayscale,\n        HSL,\n        HSV,\n        Invert,\n        Kaleidoscope,\n        Mask,\n        Noise,\n        Pixelate,\n        Posterize,\n        RGB,\n        RGBA,\n        Sepia,\n        Solarize,\n        Threshold,\n    },\n});\n","import { Konva } from './_FullInternals.js';\nexport default Konva;\n","export const Grayscale = function (imageData) {\n    var data = imageData.data, len = data.length, i, brightness;\n    for (i = 0; i < len; i += 4) {\n        brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];\n        data[i] = brightness;\n        data[i + 1] = brightness;\n        data[i + 2] = brightness;\n    }\n};\n","export const Invert = function (imageData) {\n    var data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] = 255 - data[i];\n        data[i + 1] = 255 - data[i + 1];\n        data[i + 2] = 255 - data[i + 2];\n    }\n};\n","export const Sepia = function (imageData) {\n    var data = imageData.data, nPixels = data.length, i, r, g, b;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);\n        data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);\n        data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);\n    }\n};\n","export const Solarize = function (imageData) {\n    var data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    do {\n        var offsetY = (y - 1) * w4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var r = data[offset];\n            var g = data[offset + 1];\n            var b = data[offset + 2];\n            if (r > 127) {\n                r = 255 - r;\n            }\n            if (g > 127) {\n                g = 255 - g;\n            }\n            if (b > 127) {\n                b = 255 - b;\n            }\n            data[offset] = r;\n            data[offset + 1] = g;\n            data[offset + 2] = b;\n        } while (--x);\n    } while (--y);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunkaddons\"] = this[\"webpackChunkaddons\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(16);\n"],"names":["root","factory","exports","module","define","amd","this","leafPrototypes","getProto","inProgress","dataWebpackPrefix","InvalidCharacterError","message","prototype","Error","name","window","atob","bind","input","str","String","replace","length","bs","buffer","bc","idx","output","charAt","fromCharCode","indexOf","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","err","InvalidTokenError","token","options","pos","header","JSON","parse","base64_url_decode","split","e","slice","vnodeId","isValidElement","rerenderQueue","prevDebounce","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","call","defaultProps","createVNode","original","vnode","undefined","constructor","createRef","current","Fragment","Component","context","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","c","push","process","debounceRendering","setTimeout","queue","sort","a","b","some","component","commitQueue","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","Array","isArray","reorderChildren","placeChild","unmount","applyRef","tmp","toChildArray","out","nextDom","sibDom","outer","appendChild","nextSibling","insertBefore","setStyle","style","value","setProperty","test","dom","oldValue","useCapture","o","cssText","toLowerCase","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","setAttribute","removeAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","renderHook","count","newType","contextType","render","doRender","sub","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","cb","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","error","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Prism","_self","lang","uniqueId","plainTextGrammar","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","content","alias","map","Object","objId","defineProperty","clone","deepClone","visited","id","hasOwnProperty","v","getLanguage","element","exec","className","parentElement","setLanguage","language","RegExp","classList","add","currentScript","src","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","contains","languages","plain","plaintext","text","txt","extend","redef","inside","before","insert","grammar","ret","newToken","DFS","property","propertyType","plugins","highlightAll","async","highlightAllUnder","container","env","selector","hooks","run","elements","apply","querySelectorAll","highlightElement","parent","nodeName","textContent","insertHighlightedCode","highlightedCode","hasAttribute","Worker","worker","filename","onmessage","evt","postMessage","stringify","immediateClose","highlight","tokenize","rest","tokenList","LinkedList","addAfter","head","matchGrammar","list","array","next","tail","toArray","all","callbacks","matchedStr","matchPattern","pattern","lookbehind","lastIndex","match","lookbehindLength","index","startNode","startPos","rematch","patterns","cause","patternObj","greedy","global","flags","source","currentNode","reach","removeCount","from","to","k","matchStr","after","removeFrom","prev","removeRange","nestedRematch","newNode","tag","classes","aliases","join","close","script","highlightAutomaticallyCallback","readyState","defer","requestAnimationFrame","WorkerGlobalScope","self","g","markup","tagName","includedCdataInside","def","attrName","html","mathml","svg","xml","ssml","atom","rss","string","css","addInlined","addAttribute","clike","javascript","regex","js","Element","matches","msMatchesSelector","webkitMatchesSelector","EXTENSIONS","STATUS_ATTR","STATUS_LOADED","SELECTOR","pre","getAttribute","extension","autoloader","loadLanguages","success","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","range","start","Number","comma","end","parseRange","lines","Math","max","min","statusText","send","loadFile","fileHighlight","logged","console","warn","it","RouterComponent","PureComponent","renderLogo","chartJsData","jsObject","labels","datasets","scales","yAxes","ticks","suggestedMin","suggestedMax","ChartJs","simpleBarChart","simpleLineChart","simpleDoughnutChart","label","color","backgroundColor","borderColor","borderWidth","ticker","routes","HomePage","ChartJsExample","JwtDecodeExample","KonvaExample","MarkedExample","PrismJsExample","mount","Routes","router","UiTextArea","unsafe","marked","pluginExamples","languageExamples","Static","clientWidth","clientHeight","Stage","width","height","Layer","listening","x","y","stage","layer","Circle","radius","fill","stroke","strokeWidth","on","scaleX","scaleY","getElementById","mountPoint","AddonExamplesApp","getContext","Chart","getOrNull","currentData","nextProps","destroy","log","registerables","ChartJsComponent","builder","ChartJsDataBuilder","Access","placeholder","encodeURIComponent","TypedKey","emptyList","MessageBase","field","MountedRoute","ActiveRoute","History","toList","preventDefault","StreamDistinctOperator","RouteBase","Match","emptyMap","plus","numParams","flow","GenericFormField","launch","ObservableProperty","initialValue","MessagesHandler","sendMessage","StreamWrapperBase","wrapped","StreamWrapper","mapper","Date","now","round","counter","StreamSourceImpl","block","engine","__html","PreactComponentRef","PreactLLC","__ref","mutableListOf","set","FormFieldMountedMessage","FormFieldUnmountedMessage","querySelector","cssSelector","focus","InputValue","focusCssSelector","location","hash","uri","removePrefix","asSequence","firstOrNull","filterNotNull","mounted","resolved","Router","route","view","query","toMap","zip","Pair","routeParams","applyName","applyPlaceholder","onInput","target","delay","ComponentStateProperty","initial","onChange","stream","newCtx","previousProps","_setDom","newValue","accept","setInterval","clearInterval","result","h","childArr","attrs","getDom","__ctx","ComponentElement","Ctx","creatorFn","cls","last","first","ContentElement","removeLast","lowLevelRoot","PreactTagConsumer","host","VDom","UiTextAreaComponent","jwt_decode","default","jwt","Ticker","intervalMs","append","PrismJsInternals","item","href","integrity","crossOrigin","referrerPolicy","load","PrismJsDefinition","pluginName","duration","StylesLoader","LanguageLoader","PluginsLoader","PrismPlugin","Options","plugin","createContent","loadDart","loadJava","loadJson","loadJsonp","loadKotlin","loadLess","loadPhp","loadRegex","loadRuby","loadRust","loadSass","loadScss","loadTypescript","t","loadMarkupTemplating","CopyToClipboard","copy","LineNumbers","softWrap","attributesMapOf","visitNoInline","H1","H2","H3","A","DIV","IMG","LABEL","condition","action","SemanticTag","_defineProperties","descriptor","enumerable","configurable","writable","_arrayLikeToArray","arr","len","arr2","_createForOfIteratorHelperLoose","allowArrayLike","Symbol","iterator","minLen","n","_unsupportedIterableToArray","done","TypeError","getDefaults","baseUrl","breaks","extensions","gfm","headerIds","headerPrefix","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","defaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","escape","unescapeTest","unescape","parseInt","substring","caret","edit","opt","val","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","prot","baseUrls","justDomain","rtrim","relativeBase","protocol","domain","resolveUrl","encodeURI","noopTest","merge","splitCells","tableRow","cells","offset","escaped","curr","trim","shift","pop","invert","l","suffLen","currChar","checkSanitizeDeprecation","repeatString","outputLink","cap","link","raw","lexer","title","inLink","inlineTokens","Tokenizer","_proto","space","rules","newline","codeBlockStyle","fences","matchIndentToCode","indentToCode","matchIndentInNode","indentCodeCompensation","heading","trimmed","depth","inline","hr","blockquote","blockTokens","istask","ischecked","indent","blankLine","endsWithBlankLine","line","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","loose","items","itemRegex","trimLeft","search","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","task","trimRight","top","spacers","filter","hasMultipleLineBreaks","every","_step","lineBreaks","_iterator","table","align","rows","row","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","level","findClosingBracket","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","rDelim","rLength","lLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","_text","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","random","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","Lexer","create","inlineQueue","lex","lexInline","Constructor","staticProps","lastToken","cutSrc","lastParagraphClipped","_this","leading","tabs","repeat","extTokenizer","startBlock","startIndex","Infinity","tempSrc","tempStart","getStartIndex","errMsg","_this2","keepPrevChar","keys","includes","lastIndexOf","startInline","get","Renderer","_code","infostring","quote","_html","slugger","slug","body","listitem","checkbox","tablerow","tablecell","image","TextRenderer","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parseInline","l2","l3","cell","itemBody","renderers","parser","unshift","pending","onError","_tokens","Promise","then","setOptions","newDefaults","use","_len","args","_key","hasExtensions","opts","concat","childTokens","pack","ext","prevRenderer","_len2","_key2","_loop","prop","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_walkTokens","values","_loop3","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","noop","uid","isNullOrUndef","isObject","isNumberFinite","isFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","endsWith","parseFloat","fn","thisArg","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","clone$1","klen","isValidKey","_merger","tval","sval","sources","merger","mergeIf","_mergerIf","keyResolvers","resolveObjectKey","resolver","parts","part","_splitKey","_getKeyResolver","_capitalize","defined","isFunction","setsEqual","size","has","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","roundedRange","almostEquals","niceRange","pow","floor","fraction","isNumber","isNaN","epsilon","abs","_setMinAndMaxByKey","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","_arrayUnique","Set","requestAnimFrame","throttled","updateFn","updateArgs","ticking","_toLeftRightCenter","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","d","easeInOutBounce","lim","p2b","n2b","b2n","n2p","map$1","B","C","D","E","F","f","hex","h1","h2","eq","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","hueValue","calln","hsl2rgb","hue","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","RGB_RE","modHSL","ratio","proto","fromObject","functionParse","rgbParse","p1","p2","hwb2rgb","hsv2rgb","hueParse","Color","unpacked","tkeys","ok","nk","unpack","transparent","nameParse","_rgb","_valid","valid","rgbString","hexString","isShort","alpha","hslString","mix","weight","c1","c2","w2","w1","interpolate","rgb1","rgb2","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","index_esm","isPatternOrGradient","getHoverColor","overrides","descriptors","getScope$1","scope","_descriptors","animation","devicePixelRatio","chart","platform","getDevicePixelRatio","events","font","family","lineHeight","hover","hoverBackgroundColor","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","responsive","scale","showLine","drawActiveElementsOnTop","describe","override","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","local","_scriptable","startsWith","_indexable","_fallback","_measureText","gc","longest","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","resetTransform","clearRect","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","pointStyle","rotation","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","_isPointInArea","point","area","margin","left","right","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","strokeColor","translation","fillStyle","textAlign","textBaseline","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","_readValueToProps","objProps","read","toTRBL","toTRBLCorners","toPadding","toFont","fallback","toFontString","resolve","inputs","info","cacheable","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","delete","_resolveScriptable","isIndexable","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","capControlPoint","pt","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","delta","iPixel","vPixel","monotoneCompute","splineCurveMonotone","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","positions","getPositionedStyle","styles","suffix","getRelativePosition","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","shadowRoot","useOffsetPos","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","formatNumber","num","locale","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","format","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","getPropertyPriority","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_boundSegment","segment","bounds","startBound","endBound","getSegment","prevValue","subStart","_boundSegments","segments","readStyle","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","styleChanged","prevStyle","animator","_request","_charts","_running","_lastDate","_notify","anims","date","numSteps","currentStep","_refresh","_update","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","listen","reduce","acc","cur","_duration","stop","cancel","remove","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","_target","_prop","_from","_to","_promises","active","elapsed","remain","wait","promises","res","rej","method","animationOptions","colors","properties","numbers","resize","show","animations","visible","hide","Animations","config","_chart","_properties","configure","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","getFirstScaleId","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","initialize","linkScales","_stacked","addElements","updateIndex","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","adata","convertObjectDataToArray","isExtensible","object","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","disabled","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","getAllScaleValues","_length","updateMinAndPrev","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","super","bars","getBasePixel","isHorizontal","ruler","_getRuler","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","grouped","skipNull","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","startPixel","getPixelForDecimal","endPixel","halfGrid","getLineWidthForValue","maxBarThickness","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","_index_","grid","_value_","beginAtZero","BubbleController","tooltip","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","circumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","aspectRatio","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","_datasetIndex","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","tooltipPosition","useFinalPosition","getProps","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","newTicks","majorStart","majorEnd","ceil","grace","drawBorder","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","padding","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","position","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_maxLength","_longestTextCache","_reversePixels","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","init","metas","getPadding","getTicks","xLabels","yLabels","beforeLayout","beforeUpdate","margins","tickOpts","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","change","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","ticksLimit","maxTicksLimit","_tickSize","maxScale","maxChart","determineMaxTicks","majorIndices","enabled","getMajorIndices","numMajorIndices","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","fullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","fillRect","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","titleX","titleY","titleArgs","_layers","tz","z","gz","getSortedVisibleDatasetMetas","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","camelMethod","ScatterController","__proto__","DateAdapter","chartOptions","formats","timestamp","amount","unit","startOf","weekday","endOf","members","adapters","_date","binarySearch","metaset","lookupMethod","getRange","evaluateInteractionItems","handler","getIntersectItems","isPointInArea","inRange","getNearestItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestCartesianItems","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","placed","stackWeight","autoPadding","layouts","addBox","removeBox","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrapBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","buildStacks","setLayoutDims","updatePos","handleMaxPadding","BasePlatform","acquireContext","releaseContext","getMaximumSize","isAttached","updateConfig","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","proxies","$proxies","attach","detach","bbWidth","bbHeight","containerSize","containerStyle","containerBorder","containerPadding","getContainerSize","isConnected","_detectPlatform","OffscreenCanvas","PluginService","_init","notify","hook","_createDescriptors","cancelable","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","instances","getChart","moveNumericKeys","intKey","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","clearTimeout","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","invalidatePlugins","clipArc","pixelMargin","angleMargin","rThetaToXY","theta","pathArc","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStart","outerEnd","innerStart","innerEnd","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","parseBorderRadius$1","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","outerStartX","outerStartY","outerEndX","outerEndY","version","ArcElement","fullCircles","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","inner","lineJoin","drawFullCircleBorders","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","LineElement","_path","_points","_segments","_pointsUpdated","segmentOptions","findStartAndEnd","chartContext","baseStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","doSplitByStyles","splitByStyles","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","segmentMethod","path","strokePathWithCache","strokePathDirect","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","skipX","skipY","addNormalRectPath","inflateRect","refRect","BarElement","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","boundingRects","addRectPath","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","decimated","getStartAndCountOfVisiblePointsSimplified","threshold","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","xMin","dx","intermediateIndex1","intermediateIndex2","minMaxDecimation","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_pointsFromSegments","_shouldApplyFill","_resolveTarget","propagate","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","_drawfill","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","lineOpts","above","clipVertical","doFill","clipY","lineLoop","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","fontColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","plugin_legend","_element","afterEvent","ci","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getTooltipSize","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","SubTitle","CategoryScale","_startValue","_valueRange","_addedLabels","added","addedLabels","addIfString","findOrAddLabel","relativeLabelSize","minSpacing","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getTickLimit","maxTicks","stepSize","computeTickLimit","generationOptions","dataRange","precision","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","generateTicks$1","LinearScale","isMajor","tickVal","LogarithmicScale","_zero","exp","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","updateLimits","limits","hLimits","vLimits","getTextAlignForAngle","yForAngle","pathRadiusLine","getPointPosition","RadialLinearScale","drawingArea","_pointLabels","_pointLabelItems","valueCount","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","plFont","setCenterPoint","extra","outerDistance","pointLabelPosition","buildPointLabelItems","fitWithPointLabels","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","backdropLeft","backdropTop","backdropWidth","backdropHeight","drawPointLabels","gridLineOpts","drawRadiusLine","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","PI_OVER_180","glob","_global","isBrowser","isUnminified","param","dblClickWindow","getAngle","angleDeg","enableTrace","pointerEventsEnabled","autoDrawEnabled","hitOnDragEnabled","capturePointerEventsEnabled","_mouseListenClick","_touchListenClick","_pointerListenClick","_mouseInDblClickWindow","_touchInDblClickWindow","_pointerInDblClickWindow","_mouseDblClickPointerId","_touchDblClickPointerId","_pointerDblClickPointerId","dragDistance","showWarnings","dragButtons","isDragging","isDragReady","_injectGlobal","Konva","_registerNode","NodeClass","getClassName","Transform","dirty","copyInto","tr","sx","sy","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dy","m0","m1","m2","m3","m4","m5","getMatrix","decompose","skewX","skewY","acos","PI_OVER_DEG180","DEG180_OVER_PI","KONVA_ERROR","COLORS","aliceblue","antiquewhite","aquamarine","azure","blanchedalmond","blue","blueviolet","brown","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","pink","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","springgreen","steelblue","teal","thistle","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","req","_isElement","_isFunction","_isPlainObject","_isArray","_isNumber","_isString","_isBoolean","isValidSelector","firstChar","_sign","createCanvasElement","createImageElement","_isInDocument","_urlToImage","imageObj","onload","_rgbToHex","_hexToRgb","bigint","getRandomColor","randColor","getRGB","substr","colorToRGBA","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","hsl","t2","t3","t1","haveIntersection","r1","r2","cloneObject","retObj","cloneArray","degToRad","radToDeg","_degToRad","_radToDeg","throw","func","_inRange","_getProjectionToSegment","dist","pd2","u","_getProjectionToLine","isClosed","pc","MAX_VALUE","proj","px","py","pdist","_prepareArrayForTween","startArray","endArray","temp","newStart","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","_assign","_getFirstPointerId","changedTouches","identifier","pointerId","_formatValue","RGBComponent","getNumberValidator","attr","getNumberOrArrayOfNumbersValidator","noOfElements","isValidArray","getNumberOrAutoValidator","getStringValidator","getStringOrGradientValidator","isString","isGradient","addColorStop","getBooleanValidator","GET","SET","Factory","addGetterSetter","validator","addGetter","addSetter","addOverloadedGetterSetter","overWriteSetter","_setAttr","addComponentsGetterSetter","components","capitalize","setter","getAttr","basicValidator","getComponentValidator","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","backCompat","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","afterSetFilter","_filterUpToDate","simplifyArray","retArr","_pixelRatio","CONTEXT_METHODS","Context","_canvas","traceArr","_enableTrace","fillShape","shape","fillEnabled","_fill","strokeShape","hasStroke","_stroke","fillStrokeShape","fillAfterStrokeEnabled","getTrace","relaxed","trace","clearTrace","_trace","getPixelRatio","getWidth","getHeight","_applyLineCap","getLineCap","setAttr","_applyOpacity","absOpacity","getAbsoluteOpacity","_applyLineJoin","a2","a3","a4","a5","arcTo","createImageData","createLinearGradient","createPattern","createRadialGradient","a6","a7","a8","isPointInPath","path2d","getImageData","putImageData","getLineDash","transform","that","origSetter","methodName","origMethod","_applyGlobalCompositeOperation","op","globalCompositeOperation","SceneContext","_fillColor","_fillFunc","_fillPattern","_getFillPattern","_fillLinearGradient","grd","_getLinearGradient","_fillRadialGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","hasPattern","getFillPatternImage","hasLinearGradient","getFillLinearGradientColorStops","hasRadialGradient","getFillRadialGradientColorStops","_strokeLinearGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","dash","strokeScaleEnabled","getStrokeScaleEnabled","dashEnabled","dashOffset","getShadowForStrokeEnabled","_strokeFunc","_applyShadow","_a","_b","_c","getShadowRGBA","blur","getShadowBlur","getShadowOffset","getAbsoluteScale","HitContext","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","Canvas","isCache","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","background","setPixelRatio","previousRatio","setSize","setHeight","mimeType","quality","SceneCanvas","HitCanvas","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","_drag","nodesToFireEvents","getStage","setPointersPositions","_changedPointerPositions","find","startPointerPos","startDrag","_setDragPosition","fire","_endDragBefore","drawNodes","drawNode","getLayer","_endDragAfter","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","LISTENING","MOUSEENTER","MOUSELEAVE","SHAPE","SPACE","STAGE","TRANSFORM","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","Node","_id","eventListeners","_allEventListeners","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","setAttrs","hasChildren","_clearCache","_getCache","privateGetter","_calculate","deps","depsString","dep","_getCanvasCache","_clearSelfAndDescendantCache","_requestDraw","conf","getClientRect","skipTransform","relativeTo","getParent","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","imageSmoothingEnabled","drawScene","drawHit","scene","hit","isCached","_transformedRect","trans","getAbsoluteTransform","transformed","_drawCachedSceneCanvas","canvasCache","cacheCanvas","_getCachedSceneCanvas","_drawCachedHitCanvas","imageData","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","evtStr","_delegate","baseEvent","off","_off","dispatchEvent","stopNode","targets","findAncestors","currentTarget","stopDrag","_clearCaches","_setChildrenIndices","getAncestors","ancestors","getAttrs","_batchTransformChanges","isListening","_isListening","isVisible","shouldDrawHit","skipDragCheck","layerUnderDrag","dragSkip","getZIndex","getAbsoluteZIndex","nodes","getDepth","addChildren","getChildren","setPosition","getPosition","getRelativePointerPosition","getPointerPosition","getAbsolutePosition","haveCachedParent","absoluteMatrix","absoluteTransform","setAbsolutePosition","origTrans","_clearTransform","_getAbsoluteTransform","_setTransform","changeX","changeY","_eachAncestorReverse","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","zIndex","_getAbsoluteOpacity","newContainer","toObject","toJSON","includeSelf","_isMatch","ancestor","isAncestorOf","findAncestor","sel","selectorArr","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","transformsEnabled","getTransform","getAbsoluteRotation","_getTransform","allListeners","_toKonvaCanvas","toCanvas","toImage","reject","img","toBlob","blob","getSize","getType","getDragDistance","evtName","evtListeners","newVal","addName","oldName","newName","fullName","removeName","batchDraw","_setComponentAttr","compareShape","stopBubble","cancelBubble","_getProtoListeners","oldEvents","topListeners","selfListeners","_createDragElement","ap","_getPointerById","bubbleEvent","newNodePos","dbf","dragBoundFunc","bounded","setDraggable","draggable","_dragChange","_listenDrag","_dragCleanup","hasDraggingChild","dragElement","isReady","isClientRectOnScreen","screenRect","static","_createNode","Class","_attrsAffectingSize","rotateDeg","setRotationDeg","getRotationDeg","Container","filterFunc","results","removeChildren","destroyChildren","_validateAdd","_generalFind","findOne","_descendants","shouldStop","getAllIntersections","intersects","can","caching","_drawChildren","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipX","hasComposition","selfRect","skipShadow","skipStroke","shapes","hasVisible","Captures","SUPPORT_POINTER_EVENTS","getCapturedShape","createEvent","hasPointerCapture","setPointerCapture","releaseCapture","PointerEvent","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","POINTEROUT","POINTERLEAVE","POINTEROVER","POINTERENTER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","EVENTS","EVENTS_MAP","mouse","pointerclick","pointerdblclick","touch","pointer","getEventType","getEventsMap","checkNoClip","stages","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","isFastLayer","setContainer","getElementsByClassName","getPointersPositions","getContent","layerCanvas","getIntersection","bufferCanvas","bufferHitCanvas","getLayers","_pointerenter","_pointerover","pointerover","_getTargetShape","evenType","_pointerleave","targetShape","eventsEnabled","pointerPos","_pointerdown","triggeredOnShape","isTouch","_pointermove","processedShapesIds","differentTarget","_pointerup","clickStartShape","clickEndShape","fireDblClick","_contextmenu","_wheel","_pointercancel","_lostpointercapture","contentPosition","_getContentPosition","_setPointerPosition","userSelect","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","Shape","getSceneFunc","sceneFunc","getHitFunc","hitFunc","hasShadow","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","fillPatternRepeat","fillPatternX","fillPatternY","fillPatternRotation","fillPatternScaleX","fillPatternScaleY","fillPatternOffsetX","fillPatternOffsetY","DOMMatrix","__getLinearGradient","fillLinearGradientColorStops","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","rgba","hasFill","strokeEnabled","strokeLinearGradientColorStops","_useBufferCanvas","forceFill","perfectDrawEnabled","isTransparent","strokeForShadow","shadowForStrokeEnabled","setStrokeHitEnabled","getStrokeHitEnabled","getSelfRect","_centroid","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","bufferContext","drawFunc","skipBuffer","cachingSelf","drawHitFromCache","alphaThreshold","hitImageData","hitData","rgbColorKey","hitWidth","hitHeight","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","_waitingForDraw","_setSmoothEnabled","createPNGStream","getNativeCanvasElement","getHitCanvas","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","clearBeforeDraw","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","getHitGraphEnabled","toggleHitCanvas","FastLayer","Group","performance","getTime","animIdCounter","frame","timeDiff","lastTime","frameRate","setLayers","lays","addLayer","isRunning","_addAnimation","_removeAnimation","_updateFrameObject","_handleAnimation","layersLen","layerHash","Anim","_runFrames","_animationLoop","animRunning","blacklist","onFinish","yoyo","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","setTime","play","getTimer","onEnterFrame","seek","Tween","nodeId","Easings","Linear","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","tweenId","trueEnd","trueStart","endRGBA","closed","startRGBA","onPlay","onReverse","onPause","thisId","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","Util","Arc","_sceneFunc","clockwise","boundLeftRatio","boundTopRatio","boundBottomRatio","boundLeft","boundTop","boundBottom","getControlPoints","x0","y0","expandPoints","cp","allPoints","Line","bezier","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","TypedArray","Int8Array","getNumberArrayValidator","Path","dataArray","pathLength","parsePathData","ca","command","cx","cy","rx","ry","dTheta","psi","fs","inc","getPointOnEllipticalArc","getPointOnCubicBezier","getLength","getPointAtLength","ii","getPointOnLine","getPointOnQuadraticBezier","P1x","P1y","P2x","P2y","fromX","fromY","rise","ix","iy","getLineLength","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","sinPsi","cs","cc","coords","cpx","cpy","re","prevCmd","ctlPtx","ctlPty","cmd","convertEndpointToCenterParameterization","calcLength","psiDeg","xp","yp","lambda","cxp","cyp","vMag","vRatio","vAngle","Arrow","PI2","fromTension","pointerLength","lp","lastLength","pointerWidth","pointerAtEnding","__fillStroke","pointerAtBeginning","isDashEnabled","lineRect","Ellipse","radiusX","radiusY","Image","_setImageLoad","cropWidth","cropHeight","cropX","cropY","_hitFunc","onerror","ATTR_CHANGE_LIST","UP","RIGHT","DOWN","LEFT","attrChangeListLen","Label","getText","getTag","pointerDirection","pointerHeight","Tag","Rect","RegularPolygon","_getPoints","sides","PIx2","Ring","Sprite","_updated","frameIndex","_setInterval","ix4","frameOffsets","ix2","_updateIndex","getIndex","setIndex","Star","numPoints","stringToArray","AUTO","JUSTIFY","MIDDLE","NORMAL","Text","checkDefaultFill","_partialTextX","_partialTextY","_setTextData","textArr","textArrLen","lineHeightPx","verticalAlign","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","_getContextFont","spacesNumber","oneWord","lastLine","lastInParagraph","li","letter","_partialText","measureSize","setText","getTextWidth","getTextHeight","textHeight","fontStyle","fontVariant","fontFamily","hasSpace","hasQuotes","_addTextLine","_getTextWidth","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","substrWidth","wrapIndex","_shouldHandleEllipsis","_tryToAddEllipsisToLastLine","partialText","TextPath","dummyCanvas","glyphInfo","_getTextSize","kerningFunc","textFullWidth","fullPathWidth","pathCmd","charArr","pIndex","currentT","getNextPathSegment","pathData","findSegmentToFitCharacter","glyphWidth","currLen","attempts","cumulativePathLength","needNewSegment","lettersInOffset","kern","transposeX","transposeY","NODES_RECT","ANGLES","TOUCH_DEVICE","ANCHORS_NAMES","rotateAroundPoint","angleRad","Transformer","_transforming","_createElements","_handleMouseMove","_handleMouseUp","getNode","attachTo","setNode","setNodes","_nodes","_getEventNamespace","useSingleNodeRotation","_resetTransformCache","additionalEvents","_proxyDrag","lastPos","otherNode","otherAbs","getNodes","getActiveAnchor","_movingAnchorName","_getNodeRect","__getNodeRect","__getNodeShape","relative","ignoreStroke","absScale","absPos","totalPoints","getX","getY","_createBack","_createAnchor","anchor","_handleMouseDown","anchorName","getCursor","_cursorChange","back","rotateEnabled","rotateAnchorOffset","shouldOverdrawWholeArea","hypotenuse","_anchorDragOffset","newHypotenuse","anchorNode","pp","oldAbs","anchorDragBoundFunc","newAbs","keepProportion","keepRatio","shiftKey","centeredScaling","altKey","comparePoint","reverseX","reverseY","topOffsetX","topOffsetY","bottomOffsetX","bottomOffsetY","_fitNodesInto","newRotation","tol","rotationSnapTolerance","snappedRot","snaps","newRotationRad","snapped","absDiff","getSnap","rotationSnaps","deltaRad","getCenter","rotateAroundCenter","_removeEvents","newAttrs","oldAttrs","allowNegativeScale","flipEnabled","boundBoxFunc","baseSize","oldTr","newTr","parentTransform","localTransform","newLocalTransform","_batchChangeChild","enabledAnchors","resizeEnabled","anchorSize","anchorStroke","anchorStrokeWidth","anchorFill","anchorCornerRadius","borderEnabled","borderStroke","borderStrokeWidth","isTransforming","stopTransform","lineEnabled","rotateHandlerOffset","enabledHandlers","Wedge","BlurStack","getAngleDeg","setAngleDeg","mul_table","shg_table","remap","fromValue","fromMin","fromMax","toMin","toMax","fromRange","toRange","pixelAt","idata","rgbDistance","Filters","Blur","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pg","pb","pa","rbs","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stackIn","stackOut","mul_sum","shg_sum","filterGaussBlurRGBA","Brighten","brightness","Contrast","adjust","contrast","nPixels","Emboss","strength","embossStrength","greyLevel","embossWhiteLevel","embossDirection","blend","embossBlend","dirY","dirX","w4","otherY","offsetYOther","otherX","offsetOther","dR","dG","dB","dif","absDif","Enhance","nSubPixels","rMin","rMax","gMin","gMax","bMin","bMax","enhanceAmount","enhance","rMid","rGoalMax","rGoalMin","gMid","gGoalMax","gGoalMin","bMid","bGoalMax","bGoalMin","Grayscale","HSL","saturation","luminance","vsu","vsw","rr","rg","rb","gr","gg","gb","bg","bb","HSV","Invert","Kaleidoscope","srcPos","dstPos","xSize","ySize","power","kaleidoscopePower","kaleidoscopeAngle","tempCanvas","scratchData","dst","srcPixels","dstPixels","xMid","polarCenterX","yMid","polarCenterY","rSize","tSize","conversion","ToPolar","minSectionSize","sectionSize","xStart","xEnd","xDelta","phaseShift","polarRotation","FromPolar","Mask","mask","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","pTab","rgbMean","backgroundMask","applyMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","wt","smoothEdgeMask","dilateMask","erodeMask","Noise","noise","Pixelate","xBinStart","xBinEnd","yBinStart","yBinEnd","xBin","yBin","pixelsInBin","pixelSize","nBinsX","nBinsY","Posterize","levels","RGB","RGBA","ia","Sepia","Solarize","Threshold","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","ns","definition","chunkId","globalThis","Function","needAttach","charset","nc","onScriptComplete","doneFns","scriptUrl","importScripts","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal"],"sourceRoot":""}