{"version":3,"file":"addons.js","mappings":"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,8BAAH,EAAG,GAnPpC,IAmPiC,4IA/LjC,aAAuD,MAAvD,kEAAqB,2BA1Cb,mCtFmJskb,MuFqDlkb,ExF3MD,EA6WqE,IAAQ,IwFlK5E,QAAX,MAAW,MDvMwB,EvFwLzC,EAoGiE,KuF5RrB,EvFwL5C,EAiHiE,KuF/N1B,EAzE1B,GAAY,EAAF,GAAc,KAAxB,EAA4B,GAAE,OtFNlB,MA6EjB,EwFoUqC,WFzY/B,OA8EmD,ItFMzD,SsFxFK,EAIa,uBANsB,cACb,sCA4DG,WACF,WACD,WACP,mBAAc,iBACH,WACkB,WACf,WACI,WACI,WACV,WACQ,WACE,WACT,WACE,WAEM,WACZ,WACwB,WACZ,aACR,WACA,WACY,WACR,WACQ,WACZ,aAER,WACG,WACE,WACC,WACF,WAEY,WACA,aAED,WACO,WACC,WACE,WACC,WAEhB,WACG,WACE,WACC,WACF,WAEA,WACG,WACE,WACC,WACF,WAEd,WACG,WACE,WACC,WACF,WAEC,WACd,mBAAc,iBACH,WAER,WACA,WACc,WACV,WACK,WACP,WAEM,WACJ,WAEF,WACM,WACQ,WACZ,WACE,WACA,WACN,WACM,WACO,WACH,WAEF,WAEE,WAEF,WACY,WACN,WACA,WACJ,WACM,WACI,WAChB,WACM,WACI,WACA,WACU,WACI,WACN,aAEX,WACP,WAEH,WACO,WAEU,WACJ,WAEL,WACS,WACR,WACM,WAEd,WACY,WACE,WACC,WACF,WACF,WACA,WACC,aACA,WAEN,WACE,WACP,WACC,WACG,WACW,WACD,WACX,WACC,aACA,WACO,WACY,WAEvB,WACY,WACE,WACC,WACF,WACA,WACV,WAEJ,WACQ,WACC,WAEO,WACnB,WAEa,WACJ,WACU,WACJ,WACE,WACR,WACX,mBAAc,iBACb,mBAAc,iBACH,WACG,WACE,WACM,WAEV,WAEM,WACN,WAEA,aACA,WACF,WACQ,WACV,WAEP,iCGlMd,+CAFA,aAAsB,2BChCtB,+CAFA,aAAsB,2BCAtB,+CAFA,aAAsB,0BCLtB,+CAFC,aAAuB,urBZwP9B,4CACA,4CACA,4CAIA,4CAGA,4CAEA,sDhF/Gykb,MgF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IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEAC,GAAY,CACZ,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,ICvgBJ,SAASC,GAAMC,EAAWC,EAASC,EAASC,EAAOC,GAC/C,IAAIC,EAAYH,EAAUD,EAASK,EAAUF,EAAQD,EACrD,OAAkB,IAAdE,EACOF,EAAQG,EAAU,EAEb,IAAZA,EACOH,EAGDG,IADCN,EAAYC,GAAWI,GAC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","sources":["webpack://addons/webpack/universalModuleDefinition","webpack://addons/webpack/runtime/create fake namespace object","webpack://addons/webpack/runtime/load script","webpack://addons/../../node_modules/jwt-decode/lib/atob.js","webpack://addons/../../node_modules/jwt-decode/lib/base64_url_decode.js","webpack://addons/../../node_modules/jwt-decode/lib/index.js","webpack://addons/../../node_modules/preact/src/constants.js","webpack://addons/../../node_modules/preact/src/util.js","webpack://addons/../../node_modules/preact/src/options.js","webpack://addons/../../node_modules/preact/src/create-element.js","webpack://addons/../../node_modules/preact/src/component.js","webpack://addons/../../node_modules/preact/src/create-context.js","webpack://addons/../../node_modules/preact/src/diff/children.js","webpack://addons/../../node_modules/preact/src/diff/props.js","webpack://addons/../../node_modules/preact/src/diff/index.js","webpack://addons/../../node_modules/preact/src/render.js","webpack://addons/../../node_modules/preact/src/clone-element.js","webpack://addons/../../node_modules/preact/src/diff/catch-error.js","webpack://addons/../../node_modules/prismjs/prism.js","webpack://addons/../../node_modules/signature_pad/src/point.ts","webpack://addons/../../node_modules/signature_pad/src/bezier.ts","webpack://addons/../../node_modules/signature_pad/src/signature_pad.ts","webpack://addons/../../node_modules/signature_pad/src/signature_event_target.ts","webpack://addons/../../node_modules/signature_pad/src/throttle.ts","webpack://addons/../../node_modules/trim-canvas/build/index.js","webpack://addons/../../../../../Trace.common.kt","webpack://addons/../../../../../AtomicFU.kt","webpack://addons/../../../../../<js-code>","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/CoroutineContext.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Arrays.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Collections.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashSet.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sets.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sequences.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Ranges.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Sequences.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractList.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Collections.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Iterables.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Maps.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Standard.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/CoroutineContextImpl.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/intrinsics/Intrinsics.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/properties/ObservableProperty.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Appendable.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Char.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/char.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/dynamic.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Strings.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/string.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Lazy.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Result.kt","webpack://addons/../../../../../src/kotlin/exceptions.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Tuples.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/ProgressionIterators.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Progressions.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Ranges.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/internal/progressionUtil.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/runtime/primitiveCompanionObjects.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections.kt","webpack://addons/../../../../../runtime/kotlinHacks.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableCollection.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableList.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableSet.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/ArrayList.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Preconditions.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashSet.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalHashCodeMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashMap.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/KClassImpl.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/primitives.kt","webpack://addons/../../../../../builtins/Library.kt","webpack://addons/../../../../../runtime/typeCheckUtils.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/reflection.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/StringBuilderJs.kt","webpack://addons/../../../../../src/generated/_WhitespaceChars.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/CharCode.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/regex.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/stringsCode.kt","webpack://addons/../../../../../builtins/Char.kt","webpack://addons/../../../../../builtins/Enum.kt","webpack://addons/../../../../../runtime/arrays.kt","webpack://addons/../../../../../runtime/noPackageHacks.kt","webpack://addons/../../../../../runtime/bitUtils.kt","webpack://addons/../../../../../runtime/charSequence.kt","webpack://addons/../../../../../runtime/numberConversion.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/unsigned/src/kotlin/UShort.kt","webpack://addons/../../../../../runtime/collectionsHacks.kt","webpack://addons/../../../../../runtime/compareTo.kt","webpack://addons/../../../../../runtime/coreRuntime.kt","webpack://addons/../../../../../runtime/hacks.kt","webpack://addons/../../../../../runtime/long.kt","webpack://addons/../../../../../runtime/longjs.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/numbers.kt","webpack://addons/../../../../../runtime/rangeTo.kt","webpack://addons/../../../../../runtime/reflectRuntime.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/JsClass.kt","webpack://addons/../../../../../src/generated/_ArraysJs.kt","webpack://addons/../../../../../src/kotlin/coroutines_13/CoroutineImpl.kt","webpack://addons/../../../../../src/kotlin/coroutines_13/IntrinsicsJs.kt","webpack://addons/../../../../../src/kotlin/jsOperators.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractCollection.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractSet.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Iterators.kt","webpack://addons/../../../../../jsMainSources/core/builtins/src/kotlin/Unit.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/EqualityComparator.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Strings.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/regexp.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/Continuation.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalMap.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/kotlin/MathH.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/coroutines/cancellation/CancellationException.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Iterators.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/MutableCollections.kt","webpack://addons/../../../../../src/generated/_ComparisonsJs.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/coroutines/ContinuationInterceptor.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/math.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/kotlinx/dom/Mutations.kt","webpack://addons/../../../../../CssBuilder.kt","webpack://addons/../../../../../Extensions.kt","webpack://addons/../../../../../Rule.kt","webpack://addons/../../../../../StyleDimensions.kt","webpack://addons/../../../../../StyleEnums.kt","webpack://addons/../../../../../StyleList.kt","webpack://addons/../../../../../StyledElement.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Maps.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/StringBuilder.kt","webpack://addons/../../../../../Animation.kt","webpack://addons/../../../../../BoxShadow.kt","webpack://addons/../../../../../Transform.kt","webpack://addons/../../../../../Transition.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/HashCode.kt","webpack://addons/../../../../../RuleContainer.kt","webpack://addons/../../../../../Border.kt","webpack://addons/../../../../../api.kt","webpack://addons/../../../../../attributes.kt","webpack://addons/../../../../../delegating-map.kt","webpack://addons/../../../../../gen-attributes.kt","webpack://addons/../../../../../gen-enums.kt","webpack://addons/../../../../../gen-tags-a.kt","webpack://addons/../../../../../gen-tags-c.kt","webpack://addons/../../../../../gen-tags-d.kt","webpack://addons/../../../../../gen-tags-h.kt","webpack://addons/../../../../../gen-tags-i.kt","webpack://addons/../../../../../gen-tags-l.kt","webpack://addons/../../../../../gen-tags-p.kt","webpack://addons/../../../../../gen-tags-t.kt","webpack://addons/../../../../../htmltag.kt","webpack://addons/../../../../../gen-event-attrs-js.kt","webpack://addons/../../../../../gen-attr-traits.kt","webpack://addons/../../../../../Job.kt","webpack://addons/../../../../../AbstractCoroutine.kt","webpack://addons/../../../../../Builders.common.kt","webpack://addons/../../../../../CoroutineContext.kt","webpack://addons/../../../../../DispatchedTask.kt","webpack://addons/../../../../../CancellableContinuationImpl.kt","webpack://addons/../../../../../CompletionHandler.kt","webpack://addons/../../../../../AtomicFU.common.kt","webpack://addons/../../../../../CompletionState.kt","webpack://addons/../../../../../CoroutineDispatcher.kt","webpack://addons/../../../../../CoroutineExceptionHandler.kt","webpack://addons/../../../../../EventLoop.common.kt","webpack://addons/../../../../../Exceptions.common.kt","webpack://addons/../../../../../JobSupport.kt","webpack://addons/../../../../../Concurrent.kt","webpack://addons/../../../../../LinkedList.kt","webpack://addons/../../../../../Synchronized.kt","webpack://addons/../../../../../MainCoroutineDispatcher.kt","webpack://addons/../../../../../Supervisor.kt","webpack://addons/../../../../../Unconfined.kt","webpack://addons/../../../../../ArrayQueue.kt","webpack://addons/../../../../../DispatchedContinuation.kt","webpack://addons/../../../../../ThreadContext.kt","webpack://addons/../../../../../Scopes.kt","webpack://addons/../../../../../Symbol.kt","webpack://addons/../../../../../Cancellable.kt","webpack://addons/../../../../../Window.kt","webpack://addons/../../../../../CoroutineExceptionHandlerImpl.kt","webpack://addons/../../../../../Debug.kt","webpack://addons/../../../../../Dispatchers.kt","webpack://addons/../../../../../EventLoop.kt","webpack://addons/../../../../../Exceptions.kt","webpack://addons/../../../../../JSDispatcher.kt","webpack://addons/../../../../../StackTraceRecovery.kt","webpack://addons/../../../../../ThreadLocal.kt","webpack://addons/../../../../../CoroutineStart.kt","webpack://addons/../../../../../Undispatched.kt","webpack://addons/../../../../../ProbesSupport.kt","webpack://addons/../../../../../CompletionHandler.common.kt","webpack://addons/../../../../../SchedulerTask.kt","webpack://addons/../../../../../Delay.kt","webpack://addons/../../../../../CancellableContinuation.kt","webpack://addons/../../../../../CoroutineScope.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/helpers.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/AddonExamplesApp.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/HomePage.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/chartjs/ChartJsExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/index.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/routes.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/jwtdecode/JwtDecodeExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/konva/KonvaExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/marked/MarkedExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/prismjs/PrismJsExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/signaturepad/SignaturePadExample.kt","webpack://addons/../../../../examples/addons/src/main/kotlin/konva/KonvaExampleStage.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/Prism.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/ChartJsComponent.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/chartjs_builder.kt","webpack://addons/../../../../addons/chartjs/src/jsMain/kotlin/chartjs_utils.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/FieldOptionsBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/routes.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/GenericFormField.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/dom_events.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/events.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/ActiveRoute.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/MountedRoute.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/Router.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/RouterBuilder.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/RouterComponent.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/distinct.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/middleware.kt","webpack://addons/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/regex/RegexExtensions.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/field_textarea.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/form_helpers.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/semanticui/forms/settings.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/styling/inline_style.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/Component.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/Ctx.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/PureComponent.kt","webpack://addons/../../../../core/src/jsMain/kotlin/components/state/ComponentStateProperty.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/MessageBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/MessagesHandler.kt","webpack://addons/../../../../core/src/jsMain/kotlin/messages/messages.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamMapper.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamSourceImpl.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamWrapper.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/StreamWrapperBase.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/map.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/addons/ticker.kt","webpack://addons/../../../../core/src/jsMain/kotlin/utils/async.kt","webpack://addons/../../../../core/src/jsMain/kotlin/utils/jsHelpers.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/VDom.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/VDomEngine.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactElements.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactLLC.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactTagConsumer.kt","webpack://addons/../../../../core/src/jsMain/kotlin/vdom/preact/PreactVDomEngine.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/SemanticTag.kt","webpack://addons/../../../../core/src/jsMain/kotlin/streams/streams.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/forms/FormField.kt","webpack://addons/../../../../core/src/jsMain/kotlin/addons/routing/routing.kt","webpack://addons/../../../../core/src/jsMain/kotlin/jsbridges/jwt_decode_helpers.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/PrismJsInternals.kt","webpack://addons/../../../../addons/prismjs/src/jsMain/kotlin/PrismPlugin.kt","webpack://addons/../../../../../gen-tag-groups.kt","webpack://addons/../../../../../jsMainSources/libraries/stdlib/js/src/org.w3c/org.w3c.dom.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/internals.kt","webpack://addons/../../../../semanticui/src/commonMain/kotlin/index.kt","webpack://addons/../../../../addons/signaturepad/src/jsMain/kotlin/SignaturePad.kt","webpack://addons/../../../../../RunSync.kt","webpack://addons/../../node_modules/marked/lib/marked.cjs","webpack://addons/../../node_modules/chart.js/dist/chunks/helpers.segment.mjs","webpack://addons/../../node_modules/chart.js/dist/chart.mjs","webpack://addons/../../node_modules/konva/lib/Global.js","webpack://addons/../../node_modules/konva/lib/Util.js","webpack://addons/../../node_modules/konva/lib/Validators.js","webpack://addons/../../node_modules/konva/lib/Factory.js","webpack://addons/../../node_modules/konva/lib/Context.js","webpack://addons/../../node_modules/konva/lib/Canvas.js","webpack://addons/../../node_modules/konva/lib/DragAndDrop.js","webpack://addons/../../node_modules/konva/lib/Node.js","webpack://addons/../../node_modules/konva/lib/Container.js","webpack://addons/../../node_modules/konva/lib/PointerEvents.js","webpack://addons/../../node_modules/konva/lib/Stage.js","webpack://addons/../../node_modules/konva/lib/Shape.js","webpack://addons/../../node_modules/konva/lib/Layer.js","webpack://addons/../../node_modules/konva/lib/FastLayer.js","webpack://addons/../../node_modules/konva/lib/Group.js","webpack://addons/../../node_modules/konva/lib/Animation.js","webpack://addons/../../node_modules/konva/lib/Tween.js","webpack://addons/../../node_modules/konva/lib/_CoreInternals.js","webpack://addons/../../node_modules/konva/lib/shapes/Arc.js","webpack://addons/../../node_modules/konva/lib/shapes/Line.js","webpack://addons/../../node_modules/konva/lib/shapes/Path.js","webpack://addons/../../node_modules/konva/lib/shapes/Arrow.js","webpack://addons/../../node_modules/konva/lib/shapes/Circle.js","webpack://addons/../../node_modules/konva/lib/shapes/Ellipse.js","webpack://addons/../../node_modules/konva/lib/shapes/Image.js","webpack://addons/../../node_modules/konva/lib/shapes/Label.js","webpack://addons/../../node_modules/konva/lib/shapes/Rect.js","webpack://addons/../../node_modules/konva/lib/shapes/RegularPolygon.js","webpack://addons/../../node_modules/konva/lib/shapes/Ring.js","webpack://addons/../../node_modules/konva/lib/shapes/Sprite.js","webpack://addons/../../node_modules/konva/lib/shapes/Star.js","webpack://addons/../../node_modules/konva/lib/shapes/Text.js","webpack://addons/../../node_modules/konva/lib/shapes/TextPath.js","webpack://addons/../../node_modules/konva/lib/shapes/Transformer.js","webpack://addons/../../node_modules/konva/lib/shapes/Wedge.js","webpack://addons/../../node_modules/konva/lib/filters/Blur.js","webpack://addons/../../node_modules/konva/lib/filters/Enhance.js","webpack://addons/../../node_modules/konva/lib/filters/Mask.js","webpack://addons/../../node_modules/konva/lib/filters/Brighten.js","webpack://addons/../../node_modules/konva/lib/filters/Contrast.js","webpack://addons/../../node_modules/konva/lib/filters/Emboss.js","webpack://addons/../../node_modules/konva/lib/filters/HSL.js","webpack://addons/../../node_modules/konva/lib/filters/HSV.js","webpack://addons/../../node_modules/konva/lib/filters/Kaleidoscope.js","webpack://addons/../../node_modules/konva/lib/filters/Noise.js","webpack://addons/../../node_modules/konva/lib/filters/Pixelate.js","webpack://addons/../../node_modules/konva/lib/filters/Posterize.js","webpack://addons/../../node_modules/konva/lib/filters/RGB.js","webpack://addons/../../node_modules/konva/lib/filters/RGBA.js","webpack://addons/../../node_modules/konva/lib/filters/Threshold.js","webpack://addons/../../node_modules/konva/lib/_FullInternals.js","webpack://addons/../../node_modules/konva/lib/index.js","webpack://addons/../../node_modules/konva/lib/filters/Grayscale.js","webpack://addons/../../node_modules/konva/lib/filters/Invert.js","webpack://addons/../../node_modules/konva/lib/filters/Sepia.js","webpack://addons/../../node_modules/konva/lib/filters/Solarize.js","webpack://addons/webpack/bootstrap","webpack://addons/webpack/runtime/define property getters","webpack://addons/webpack/runtime/ensure chunk","webpack://addons/webpack/runtime/get javascript chunk filename","webpack://addons/webpack/runtime/global","webpack://addons/webpack/runtime/hasOwnProperty shorthand","webpack://addons/webpack/runtime/make namespace object","webpack://addons/webpack/runtime/publicPath","webpack://addons/webpack/runtime/jsonp chunk loading","webpack://addons/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"addons\"] = factory();\n\telse\n\t\troot[\"addons\"] = factory();\n})(this, () => {\nreturn ","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"addons:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || setTimeout)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","// Interface for point data structure used e.g. in SignaturePad#fromData method\nexport interface BasicPoint {\n  x: number;\n  y: number;\n  pressure: number;\n  time: number;\n}\n\nexport class Point implements BasicPoint {\n  public x: number;\n  public y: number;\n  public pressure: number;\n  public time: number;\n\n  constructor(x: number, y: number, pressure?: number, time?: number) {\n    if (isNaN(x) || isNaN(y)) {\n      throw new Error(`Point is invalid: (${x}, ${y})`);\n    }\n    this.x = +x;\n    this.y = +y;\n    this.pressure = pressure || 0;\n    this.time = time || Date.now();\n  }\n\n  public distanceTo(start: BasicPoint): number {\n    return Math.sqrt(\n      Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2),\n    );\n  }\n\n  public equals(other: BasicPoint): boolean {\n    return (\n      this.x === other.x &&\n      this.y === other.y &&\n      this.pressure === other.pressure &&\n      this.time === other.time\n    );\n  }\n\n  public velocityFrom(start: BasicPoint): number {\n    return this.time !== start.time\n      ? this.distanceTo(start) / (this.time - start.time)\n      : 0;\n  }\n}\n","import { BasicPoint, Point } from './point';\n\nexport class Bezier {\n  public static fromPoints(\n    points: Point[],\n    widths: { start: number; end: number },\n  ): Bezier {\n    const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n    const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n\n    return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n  }\n\n  private static calculateControlPoints(\n    s1: BasicPoint,\n    s2: BasicPoint,\n    s3: BasicPoint,\n  ): {\n    c1: BasicPoint;\n    c2: BasicPoint;\n  } {\n    const dx1 = s1.x - s2.x;\n    const dy1 = s1.y - s2.y;\n    const dx2 = s2.x - s3.x;\n    const dy2 = s2.y - s3.y;\n\n    const m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n    const m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n\n    const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n    const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n\n    const dxm = m1.x - m2.x;\n    const dym = m1.y - m2.y;\n\n    const k = l2 / (l1 + l2);\n    const cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n\n    const tx = s2.x - cm.x;\n    const ty = s2.y - cm.y;\n\n    return {\n      c1: new Point(m1.x + tx, m1.y + ty),\n      c2: new Point(m2.x + tx, m2.y + ty),\n    };\n  }\n\n  constructor(\n    public startPoint: Point,\n    public control2: BasicPoint,\n    public control1: BasicPoint,\n    public endPoint: Point,\n    public startWidth: number,\n    public endWidth: number,\n  ) {}\n\n  // Returns approximated length. Code taken from https://www.lemoda.net/maths/bezier-length/index.html.\n  public length(): number {\n    const steps = 10;\n    let length = 0;\n    let px;\n    let py;\n\n    for (let i = 0; i <= steps; i += 1) {\n      const t = i / steps;\n      const cx = this.point(\n        t,\n        this.startPoint.x,\n        this.control1.x,\n        this.control2.x,\n        this.endPoint.x,\n      );\n      const cy = this.point(\n        t,\n        this.startPoint.y,\n        this.control1.y,\n        this.control2.y,\n        this.endPoint.y,\n      );\n\n      if (i > 0) {\n        const xdiff = cx - (px as number);\n        const ydiff = cy - (py as number);\n\n        length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n      }\n\n      px = cx;\n      py = cy;\n    }\n\n    return length;\n  }\n\n  // Calculate parametric value of x or y given t and the four point coordinates of a cubic bezier curve.\n  private point(\n    t: number,\n    start: number,\n    c1: number,\n    c2: number,\n    end: number,\n  ): number {\n    // prettier-ignore\n    return (       start * (1.0 - t) * (1.0 - t)  * (1.0 - t))\n         + (3.0 *  c1    * (1.0 - t) * (1.0 - t)  * t)\n         + (3.0 *  c2    * (1.0 - t) * t          * t)\n         + (       end   * t         * t          * t);\n  }\n}\n","/**\n * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:\n * http://corner.squareup.com/2012/07/smoother-signatures.html\n *\n * Implementation of interpolation using cubic Bzier curves is taken from:\n * https://web.archive.org/web/20160323213433/http://www.benknowscode.com/2012/09/path-interpolation-using-cubic-bezier_9742.html\n *\n * Algorithm for approximated length of a Bzier curve is taken from:\n * http://www.lemoda.net/maths/bezier-length/index.html\n */\n\nimport { Bezier } from './bezier';\nimport { BasicPoint, Point } from './point';\nimport { SignatureEventTarget } from './signature_event_target';\nimport { throttle } from './throttle';\n\ndeclare global {\n  interface CSSStyleDeclaration {\n    msTouchAction: string | null;\n  }\n}\n\nexport type SignatureEvent = MouseEvent | Touch | PointerEvent;\n\nexport interface FromDataOptions {\n  clear?: boolean;\n}\n\nexport interface PointGroupOptions {\n  dotSize: number;\n  minWidth: number;\n  maxWidth: number;\n  penColor: string;\n}\n\nexport interface Options extends Partial<PointGroupOptions> {\n  minDistance?: number;\n  velocityFilterWeight?: number;\n  backgroundColor?: string;\n  throttle?: number;\n}\n\nexport interface PointGroup extends PointGroupOptions {\n  points: BasicPoint[];\n}\n\nexport default class SignaturePad extends SignatureEventTarget {\n  // Public stuff\n  public dotSize: number;\n  public minWidth: number;\n  public maxWidth: number;\n  public penColor: string;\n  public minDistance: number;\n  public velocityFilterWeight: number;\n  public backgroundColor: string;\n  public throttle: number;\n\n  // Private stuff\n  /* tslint:disable: variable-name */\n  private _ctx: CanvasRenderingContext2D;\n  private _drawningStroke: boolean;\n  private _isEmpty: boolean;\n  private _lastPoints: Point[]; // Stores up to 4 most recent points; used to generate a new curve\n  private _data: PointGroup[]; // Stores all points in groups (one group per line or dot)\n  private _lastVelocity: number;\n  private _lastWidth: number;\n  private _strokeMoveUpdate: (event: SignatureEvent) => void;\n  /* tslint:enable: variable-name */\n\n  constructor(private canvas: HTMLCanvasElement, options: Options = {}) {\n    super();\n    this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n    this.minWidth = options.minWidth || 0.5;\n    this.maxWidth = options.maxWidth || 2.5;\n    this.throttle = ('throttle' in options ? options.throttle : 16) as number; // in milisecondss\n    this.minDistance = (\n      'minDistance' in options ? options.minDistance : 5\n    ) as number; // in pixels\n    this.dotSize = options.dotSize || 0;\n    this.penColor = options.penColor || 'black';\n    this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n\n    this._strokeMoveUpdate = this.throttle\n      ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle)\n      : SignaturePad.prototype._strokeUpdate;\n    this._ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n\n    this.clear();\n\n    // Enable mouse and touch event handlers\n    this.on();\n  }\n\n  public clear(): void {\n    const { _ctx: ctx, canvas } = this;\n\n    // Clear canvas using background color\n    ctx.fillStyle = this.backgroundColor;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    this._data = [];\n    this._reset();\n    this._isEmpty = true;\n  }\n\n  public fromDataURL(\n    dataUrl: string,\n    options: {\n      ratio?: number;\n      width?: number;\n      height?: number;\n      xOffset?: number;\n      yOffset?: number;\n    } = {},\n  ): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      const ratio = options.ratio || window.devicePixelRatio || 1;\n      const width = options.width || this.canvas.width / ratio;\n      const height = options.height || this.canvas.height / ratio;\n      const xOffset = options.xOffset || 0;\n      const yOffset = options.yOffset || 0;\n\n      this._reset();\n\n      image.onload = (): void => {\n        this._ctx.drawImage(image, xOffset, yOffset, width, height);\n        resolve();\n      };\n      image.onerror = (error): void => {\n        reject(error);\n      };\n      image.crossOrigin = 'anonymous';\n      image.src = dataUrl;\n\n      this._isEmpty = false;\n    });\n  }\n\n  public toDataURL(type = 'image/png', encoderOptions?: number): string {\n    switch (type) {\n      case 'image/svg+xml':\n        return this._toSVG();\n      default:\n        return this.canvas.toDataURL(type, encoderOptions);\n    }\n  }\n\n  public on(): void {\n    // Disable panning/zooming when touching canvas element\n    this.canvas.style.touchAction = 'none';\n    this.canvas.style.msTouchAction = 'none';\n    this.canvas.style.userSelect = 'none';\n\n    const isIOS =\n      /Macintosh/.test(navigator.userAgent) && 'ontouchstart' in document;\n\n    // The \"Scribble\" feature of iOS intercepts point events. So that we can lose some of them when tapping rapidly.\n    // Use touch events for iOS platforms to prevent it. See https://developer.apple.com/forums/thread/664108 for more information.\n    if (window.PointerEvent && !isIOS) {\n      this._handlePointerEvents();\n    } else {\n      this._handleMouseEvents();\n\n      if ('ontouchstart' in window) {\n        this._handleTouchEvents();\n      }\n    }\n  }\n\n  public off(): void {\n    // Enable panning/zooming when touching canvas element\n    this.canvas.style.touchAction = 'auto';\n    this.canvas.style.msTouchAction = 'auto';\n    this.canvas.style.userSelect = 'auto';\n\n    this.canvas.removeEventListener('pointerdown', this._handlePointerStart);\n    this.canvas.removeEventListener('pointermove', this._handlePointerMove);\n    this.canvas.ownerDocument.removeEventListener(\n      'pointerup',\n      this._handlePointerEnd,\n    );\n\n    this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n    this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n    this.canvas.ownerDocument.removeEventListener(\n      'mouseup',\n      this._handleMouseUp,\n    );\n\n    this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n    this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n    this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n  }\n\n  public isEmpty(): boolean {\n    return this._isEmpty;\n  }\n\n  public fromData(\n    pointGroups: PointGroup[],\n    { clear = true }: FromDataOptions = {},\n  ): void {\n    if (clear) {\n      this.clear();\n    }\n\n    this._fromData(\n      pointGroups,\n      this._drawCurve.bind(this),\n      this._drawDot.bind(this),\n    );\n\n    this._data = this._data.concat(pointGroups);\n  }\n\n  public toData(): PointGroup[] {\n    return this._data;\n  }\n\n  // Event handlers\n  private _handleMouseDown = (event: MouseEvent): void => {\n    if (event.buttons === 1) {\n      this._drawningStroke = true;\n      this._strokeBegin(event);\n    }\n  };\n\n  private _handleMouseMove = (event: MouseEvent): void => {\n    if (this._drawningStroke) {\n      this._strokeMoveUpdate(event);\n    }\n  };\n\n  private _handleMouseUp = (event: MouseEvent): void => {\n    if (event.buttons === 1 && this._drawningStroke) {\n      this._drawningStroke = false;\n      this._strokeEnd(event);\n    }\n  };\n\n  private _handleTouchStart = (event: TouchEvent): void => {\n    // Prevent scrolling.\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    if (event.targetTouches.length === 1) {\n      const touch = event.changedTouches[0];\n      this._strokeBegin(touch);\n    }\n  };\n\n  private _handleTouchMove = (event: TouchEvent): void => {\n    // Prevent scrolling.\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    const touch = event.targetTouches[0];\n    this._strokeMoveUpdate(touch);\n  };\n\n  private _handleTouchEnd = (event: TouchEvent): void => {\n    const wasCanvasTouched = event.target === this.canvas;\n    if (wasCanvasTouched) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      const touch = event.changedTouches[0];\n      this._strokeEnd(touch);\n    }\n  };\n\n  private _handlePointerStart = (event: PointerEvent): void => {\n    this._drawningStroke = true;\n    event.preventDefault();\n    this._strokeBegin(event);\n  };\n\n  private _handlePointerMove = (event: PointerEvent): void => {\n    if (this._drawningStroke) {\n      event.preventDefault();\n      this._strokeMoveUpdate(event);\n    }\n  };\n\n  private _handlePointerEnd = (event: PointerEvent): void => {\n    if (this._drawningStroke) {\n      event.preventDefault();\n      this._drawningStroke = false;\n      this._strokeEnd(event);\n    }\n  };\n\n  // Private methods\n  private _strokeBegin(event: SignatureEvent): void {\n    this.dispatchEvent(new CustomEvent('beginStroke', { detail: event }));\n\n    const newPointGroup: PointGroup = {\n      dotSize: this.dotSize,\n      minWidth: this.minWidth,\n      maxWidth: this.maxWidth,\n      penColor: this.penColor,\n      points: [],\n    };\n\n    this._data.push(newPointGroup);\n    this._reset();\n    this._strokeUpdate(event);\n  }\n\n  private _strokeUpdate(event: SignatureEvent): void {\n    if (this._data.length === 0) {\n      // This can happen if clear() was called while a signature is still in progress,\n      // or if there is a race condition between start/update events.\n      this._strokeBegin(event);\n      return;\n    }\n\n    this.dispatchEvent(\n      new CustomEvent('beforeUpdateStroke', { detail: event }),\n    );\n\n    const x = event.clientX;\n    const y = event.clientY;\n    const pressure =\n      (event as PointerEvent).pressure !== undefined\n        ? (event as PointerEvent).pressure\n        : (event as Touch).force !== undefined\n        ? (event as Touch).force\n        : 0;\n\n    const point = this._createPoint(x, y, pressure);\n    const lastPointGroup = this._data[this._data.length - 1];\n    const lastPoints = lastPointGroup.points;\n    const lastPoint =\n      lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n    const isLastPointTooClose = lastPoint\n      ? point.distanceTo(lastPoint) <= this.minDistance\n      : false;\n    const { penColor, dotSize, minWidth, maxWidth } = lastPointGroup;\n\n    // Skip this point if it's too close to the previous one\n    if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n      const curve = this._addPoint(point);\n\n      if (!lastPoint) {\n        this._drawDot(point, {\n          penColor,\n          dotSize,\n          minWidth,\n          maxWidth,\n        });\n      } else if (curve) {\n        this._drawCurve(curve, {\n          penColor,\n          dotSize,\n          minWidth,\n          maxWidth,\n        });\n      }\n\n      lastPoints.push({\n        time: point.time,\n        x: point.x,\n        y: point.y,\n        pressure: point.pressure,\n      });\n    }\n\n    this.dispatchEvent(new CustomEvent('afterUpdateStroke', { detail: event }));\n  }\n\n  private _strokeEnd(event: SignatureEvent): void {\n    this._strokeUpdate(event);\n\n    this.dispatchEvent(new CustomEvent('endStroke', { detail: event }));\n  }\n\n  private _handlePointerEvents(): void {\n    this._drawningStroke = false;\n\n    this.canvas.addEventListener('pointerdown', this._handlePointerStart);\n    this.canvas.addEventListener('pointermove', this._handlePointerMove);\n    this.canvas.ownerDocument.addEventListener(\n      'pointerup',\n      this._handlePointerEnd,\n    );\n  }\n\n  private _handleMouseEvents(): void {\n    this._drawningStroke = false;\n\n    this.canvas.addEventListener('mousedown', this._handleMouseDown);\n    this.canvas.addEventListener('mousemove', this._handleMouseMove);\n    this.canvas.ownerDocument.addEventListener('mouseup', this._handleMouseUp);\n  }\n\n  private _handleTouchEvents(): void {\n    this.canvas.addEventListener('touchstart', this._handleTouchStart);\n    this.canvas.addEventListener('touchmove', this._handleTouchMove);\n    this.canvas.addEventListener('touchend', this._handleTouchEnd);\n  }\n\n  // Called when a new line is started\n  private _reset(): void {\n    this._lastPoints = [];\n    this._lastVelocity = 0;\n    this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n    this._ctx.fillStyle = this.penColor;\n  }\n\n  private _createPoint(x: number, y: number, pressure: number): Point {\n    const rect = this.canvas.getBoundingClientRect();\n\n    return new Point(\n      x - rect.left,\n      y - rect.top,\n      pressure,\n      new Date().getTime(),\n    );\n  }\n\n  // Add point to _lastPoints array and generate a new curve if there are enough points (i.e. 3)\n  private _addPoint(point: Point): Bezier | null {\n    const { _lastPoints } = this;\n\n    _lastPoints.push(point);\n\n    if (_lastPoints.length > 2) {\n      // To reduce the initial lag make it work with 3 points\n      // by copying the first point to the beginning.\n      if (_lastPoints.length === 3) {\n        _lastPoints.unshift(_lastPoints[0]);\n      }\n\n      // _points array will always have 4 points here.\n      const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2]);\n      const curve = Bezier.fromPoints(_lastPoints, widths);\n\n      // Remove the first element from the list, so that there are no more than 4 points at any time.\n      _lastPoints.shift();\n\n      return curve;\n    }\n\n    return null;\n  }\n\n  private _calculateCurveWidths(\n    startPoint: Point,\n    endPoint: Point,\n  ): { start: number; end: number } {\n    const velocity =\n      this.velocityFilterWeight * endPoint.velocityFrom(startPoint) +\n      (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n    const newWidth = this._strokeWidth(velocity);\n\n    const widths = {\n      end: newWidth,\n      start: this._lastWidth,\n    };\n\n    this._lastVelocity = velocity;\n    this._lastWidth = newWidth;\n\n    return widths;\n  }\n\n  private _strokeWidth(velocity: number): number {\n    return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n  }\n\n  private _drawCurveSegment(x: number, y: number, width: number): void {\n    const ctx = this._ctx;\n\n    ctx.moveTo(x, y);\n    ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n    this._isEmpty = false;\n  }\n\n  private _drawCurve(curve: Bezier, options: PointGroupOptions): void {\n    const ctx = this._ctx;\n    const widthDelta = curve.endWidth - curve.startWidth;\n    // '2' is just an arbitrary number here. If only lenght is used, then\n    // there are gaps between curve segments :/\n    const drawSteps = Math.ceil(curve.length()) * 2;\n\n    ctx.beginPath();\n    ctx.fillStyle = options.penColor;\n\n    for (let i = 0; i < drawSteps; i += 1) {\n      // Calculate the Bezier (x, y) coordinate for this step.\n      const t = i / drawSteps;\n      const tt = t * t;\n      const ttt = tt * t;\n      const u = 1 - t;\n      const uu = u * u;\n      const uuu = uu * u;\n\n      let x = uuu * curve.startPoint.x;\n      x += 3 * uu * t * curve.control1.x;\n      x += 3 * u * tt * curve.control2.x;\n      x += ttt * curve.endPoint.x;\n\n      let y = uuu * curve.startPoint.y;\n      y += 3 * uu * t * curve.control1.y;\n      y += 3 * u * tt * curve.control2.y;\n      y += ttt * curve.endPoint.y;\n\n      const width = Math.min(\n        curve.startWidth + ttt * widthDelta,\n        options.maxWidth,\n      );\n      this._drawCurveSegment(x, y, width);\n    }\n\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private _drawDot(point: BasicPoint, options: PointGroupOptions): void {\n    const ctx = this._ctx;\n    const width =\n      options.dotSize > 0\n        ? options.dotSize\n        : (options.minWidth + options.maxWidth) / 2;\n\n    ctx.beginPath();\n    this._drawCurveSegment(point.x, point.y, width);\n    ctx.closePath();\n    ctx.fillStyle = options.penColor;\n    ctx.fill();\n  }\n\n  private _fromData(\n    pointGroups: PointGroup[],\n    drawCurve: SignaturePad['_drawCurve'],\n    drawDot: SignaturePad['_drawDot'],\n  ): void {\n    for (const group of pointGroups) {\n      const { penColor, dotSize, minWidth, maxWidth, points } = group;\n\n      if (points.length > 1) {\n        for (let j = 0; j < points.length; j += 1) {\n          const basicPoint = points[j];\n          const point = new Point(\n            basicPoint.x,\n            basicPoint.y,\n            basicPoint.pressure,\n            basicPoint.time,\n          );\n\n          // All points in the group have the same color, so it's enough to set\n          // penColor just at the beginning.\n          this.penColor = penColor;\n\n          if (j === 0) {\n            this._reset();\n          }\n\n          const curve = this._addPoint(point);\n\n          if (curve) {\n            drawCurve(curve, {\n              penColor,\n              dotSize,\n              minWidth,\n              maxWidth,\n            });\n          }\n        }\n      } else {\n        this._reset();\n\n        drawDot(points[0], {\n          penColor,\n          dotSize,\n          minWidth,\n          maxWidth,\n        });\n      }\n    }\n  }\n\n  private _toSVG(): string {\n    const pointGroups = this._data;\n    const ratio = Math.max(window.devicePixelRatio || 1, 1);\n    const minX = 0;\n    const minY = 0;\n    const maxX = this.canvas.width / ratio;\n    const maxY = this.canvas.height / ratio;\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n    svg.setAttribute('width', this.canvas.width.toString());\n    svg.setAttribute('height', this.canvas.height.toString());\n\n    this._fromData(\n      pointGroups,\n\n      (curve, { penColor }) => {\n        const path = document.createElement('path');\n\n        // Need to check curve for NaN values, these pop up when drawing\n        // lines on the canvas that are not continuous. E.g. Sharp corners\n        // or stopping mid-stroke and than continuing without lifting mouse.\n        /* eslint-disable no-restricted-globals */\n        if (\n          !isNaN(curve.control1.x) &&\n          !isNaN(curve.control1.y) &&\n          !isNaN(curve.control2.x) &&\n          !isNaN(curve.control2.y)\n        ) {\n          const attr =\n            `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(\n              3,\n            )} ` +\n            `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ` +\n            `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ` +\n            `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n          path.setAttribute('d', attr);\n          path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n          path.setAttribute('stroke', penColor);\n          path.setAttribute('fill', 'none');\n          path.setAttribute('stroke-linecap', 'round');\n\n          svg.appendChild(path);\n        }\n        /* eslint-enable no-restricted-globals */\n      },\n\n      (point, { penColor, dotSize, minWidth, maxWidth }) => {\n        const circle = document.createElement('circle');\n        const size = dotSize > 0 ? dotSize : (minWidth + maxWidth) / 2;\n        circle.setAttribute('r', size.toString());\n        circle.setAttribute('cx', point.x.toString());\n        circle.setAttribute('cy', point.y.toString());\n        circle.setAttribute('fill', penColor);\n\n        svg.appendChild(circle);\n      },\n    );\n\n    const prefix = 'data:image/svg+xml;base64,';\n    const header =\n      '<svg' +\n      ' xmlns=\"http://www.w3.org/2000/svg\"' +\n      ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' +\n      ` viewBox=\"${minX} ${minY} ${this.canvas.width} ${this.canvas.height}\"` +\n      ` width=\"${maxX}\"` +\n      ` height=\"${maxY}\"` +\n      '>';\n    let body = svg.innerHTML;\n\n    // IE hack for missing innerHTML property on SVGElement\n    if (body === undefined) {\n      const dummy = document.createElement('dummy');\n      const nodes = svg.childNodes;\n      dummy.innerHTML = '';\n\n      // tslint:disable-next-line: prefer-for-of\n      for (let i = 0; i < nodes.length; i += 1) {\n        dummy.appendChild(nodes[i].cloneNode(true));\n      }\n\n      body = dummy.innerHTML;\n    }\n\n    const footer = '</svg>';\n    const data = header + body + footer;\n\n    return prefix + btoa(data);\n  }\n}\n","export class SignatureEventTarget implements EventTarget {\n  /* tslint:disable: variable-name */\n  private _et: EventTarget;\n  /* tslint:enable: variable-name */\n\n  constructor() {\n    try {\n      this._et = new EventTarget();\n    } catch (error) {\n      // Using document as EventTarget to support iOS 13 and older.\n      // Because EventTarget constructor just exists at iOS 14 and later.\n      this._et = document;\n    }\n  }\n\n  addEventListener(\n    type: string,\n    listener: EventListenerOrEventListenerObject | null,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    this._et.addEventListener(type, listener, options);\n  }\n\n  dispatchEvent(event: Event): boolean {\n    return this._et.dispatchEvent(event);\n  }\n\n  removeEventListener(\n    type: string,\n    callback: EventListenerOrEventListenerObject | null,\n    options?: boolean | EventListenerOptions,\n  ): void {\n    this._et.removeEventListener(type, callback, options);\n  }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any, @typescript-eslint/no-this-alias */\n// Slightly simplified version of http://stackoverflow.com/a/27078401/815507\n\nexport function throttle(\n  fn: (...args: any[]) => any,\n  wait = 250,\n): (this: any, ...args: any[]) => any {\n  let previous = 0;\n  let timeout: number | null = null;\n  let result: any;\n  let storedContext: any;\n  let storedArgs: any[];\n\n  const later = (): void => {\n    previous = Date.now();\n    timeout = null;\n    result = fn.apply(storedContext, storedArgs);\n\n    if (!timeout) {\n      storedContext = null;\n      storedArgs = [];\n    }\n  };\n\n  return function wrapper(this: any, ...args: any[]): any {\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n\n    storedContext = this;\n    storedArgs = args;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = fn.apply(storedContext, storedArgs);\n\n      if (!timeout) {\n        storedContext = null;\n        storedArgs = [];\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.trimCanvas=t():e.trimCanvas=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p=\"\",t(0)}([function(e,t){\"use strict\";function r(e){var t=e.getContext(\"2d\"),r=e.width,n=e.height,o=t.getImageData(0,0,r,n).data,f=a(!0,r,n,o),i=a(!1,r,n,o),c=u(!0,r,n,o),d=u(!1,r,n,o),p=d-c+1,l=i-f+1,s=t.getImageData(c,f,p,l);return e.width=p,e.height=l,t.clearRect(0,0,p,l),t.putImageData(s,0,0),e}function n(e,t,r,n){return{red:n[4*(r*t+e)],green:n[4*(r*t+e)+1],blue:n[4*(r*t+e)+2],alpha:n[4*(r*t+e)+3]}}function o(e,t,r,o){return n(e,t,r,o).alpha}function a(e,t,r,n){for(var a=e?1:-1,u=e?0:r-1,f=u;e?f<r:f>-1;f+=a)for(var i=0;i<t;i++)if(o(i,f,t,n))return f;return null}function u(e,t,r,n){for(var a=e?1:-1,u=e?0:t-1,f=u;e?f<t:f>-1;f+=a)for(var i=0;i<r;i++)if(o(f,i,t,n))return f;return null}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r}])});",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.KraftDsl\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.Tag\n\n/**\n * Markup Element key\n */\n@KraftDsl\nvar CommonAttributeGroupFacade.key: String\n    get() = attributes[\"key\"] ?: \"\"\n    set(value) {\n        attributes[\"key\"] = value\n    }\n\n/**\n * Gets the \"debug-id\" attribute\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.debugId(): String? = attributes[\"debug-id\"]\n\n/**\n * Sets the \"debug-id\" attribute to [id]\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.debugId(id: String) {\n    (consumer as? VDomTagConsumer)\n        ?.takeIf { it.isDebugMode }\n        ?.let { attributes[\"debug-id\"] = id }\n}\n\n/**\n * Gets the \"data-[id]\" attribute\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.data(id: String): String? = attributes[\"data-$id\"]\n\n/**\n * Sets the \"data-[id]\" attribute to [value]\n */\n@KraftDsl\nfun CommonAttributeGroupFacade.data(id: String, value: String) {\n    attributes[\"data-$id\"] = value\n}\n\n/**\n * Adds a child component to the current tag\n */\n@KraftDsl\ninline fun <P, reified C : Component<P>> Tag.comp(props: P, noinline component: (Ctx<P>) -> C): ComponentRef<C> {\n    return (this.consumer as VDomTagConsumer).onComponent(props, component, C::class)\n}\n\n/**\n * Adds a parameterless child component to the current tag\n */\n@KraftDsl\ninline fun <reified C : Component<Any?>> Tag.comp(noinline component: (NoProps) -> C): ComponentRef<C> {\n    return comp(null, component)\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.RouterComponent\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\n\n@Suppress(\"FunctionName\")\nfun Tag.AddonExamplesApp() = comp {\n    AddonExamplesApp(it)\n}\n\nclass AddonExamplesApp(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @Suppress(\"unused\")\n    private val activeRoute by subscribingTo(router.current)\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.container {\n\n            ui.basic.segment {\n                ui.header H1 { +\"KRAFT addon examples\" }\n            }\n\n            ui.basic.segment {\n                RouterComponent(router = router)\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.noui\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.px\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\n\n@Suppress(\"FunctionName\")\nfun Tag.HomePage() = comp {\n    HomePage(it)\n}\n\nclass HomePage(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.four.link.cards {\n\n            noui.card A {\n                href = routes.chartJs()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://www.chartjs.org/img/chartjs-logo.svg\",\n                        alt = \"ChartJS Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"ChartJS\"\n                }\n            }\n\n            noui.card A {\n                href = routes.jwtDecode()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://user-images.githubusercontent.com/83319/31722733-de95bbde-b3ea-11e7-96bf-4f4e8f915588.png\",\n                        alt = \"JWT Decode Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"JWT Decode\"\n                }\n            }\n\n            noui.card A {\n                href = routes.konva()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://camo.githubusercontent.com/8ee88dda37d12638ee55035971e01ce818f0564584264cd9a688188846ce7e34/68747470733a2f2f6b6f6e76616a732e6f72672f616e64726f69642d6368726f6d652d313932783139322e706e67\",\n                        alt = \"Konva Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"Konva\"\n                }\n            }\n\n            noui.card A {\n                href = routes.marked()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://marked.js.org/img/logo-black.svg\",\n                        alt = \"Marked Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"Marked\"\n                }\n            }\n\n            noui.card A {\n                href = routes.prismjs()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://pbs.twimg.com/profile_images/2451426554/Screen_Shot_2012-07-31_at_21.57.03__400x400.png\",\n                        alt = \"PrismJs Logo\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"PrismJs\"\n                }\n            }\n\n            noui.card A {\n                href = routes.signaturePad()\n\n                noui.center.aligned.content {\n                    renderLogo(\n                        src = \"https://camo.githubusercontent.com/fcd5a5ab2be5419d00fcb803f14c55652cf60696d7f6d9828b99c1783d9f14a3/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f393837332f3236383034362f39636564333435342d386566632d313165322d383136652d6139623137306135313030342e706e67\",\n                        alt = \"Signature Pad\",\n                    )\n                }\n                noui.center.aligned.content {\n                    +\"Signature Pad\"\n                }\n            }\n        }\n    }\n\n    private fun FlowContent.renderLogo(src: String, alt: String) {\n        ui.image Img {\n            css {\n                height = 100.px\n            }\n            this.src = src\n            this.alt = alt\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.chartjs\n\nimport de.peekandpoke.kraft.addons.chartjs.ChartJs\nimport de.peekandpoke.kraft.addons.chartjs.chartJsData\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.streams.addons.map\nimport de.peekandpoke.kraft.streams.addons.ticker\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.vh\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlin.math.PI\nimport kotlin.math.pow\nimport kotlin.math.sin\n\n@Suppress(\"FunctionName\")\nfun Tag.ChartJsExample() = comp {\n    ChartJsExample(it)\n}\n\nclass ChartJsExample(ctx: NoProps) : PureComponent(ctx) {\n\n    ////  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private val factor by subscribingTo(ticker(1000).map { 1.0 + sin(it * 10 * PI / 180.0) })\n\n    ////  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n\n            ui.header H2 { +\"Chart.js demos\" }\n\n            ui.two.cards {\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleBarChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Bar Chart\" }\n                        ui.meta {\n                            a(\n                                href = \"https://www.chartjs.org/docs/latest/samples/bar/vertical.html\",\n                                target = \"_blank\"\n                            ) {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleLineChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Line Chart\" }\n                        ui.meta {\n                            a(href = \"https://www.chartjs.org/docs/latest/samples/line/line.html\", target = \"_blank\") {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n\n                ui.card {\n                    ui.content {\n                        css { height = 50.vh }\n                        simpleDoughnutChart()\n                    }\n                    ui.content {\n                        ui.header { +\"Doughnut Chart\" }\n                        ui.meta {\n                            a(\n                                href = \"https://www.chartjs.org/docs/latest/samples/other-charts/doughnut.html\",\n                                target = \"_blank\"\n                            ) {\n                                +\"Docs\"\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private fun FlowContent.simpleBarChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"bar\"\n                data = jsObject {\n                    labels = arrayOf(\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\")\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"# of votes\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3).map { it * factor }.toTypedArray()\n                            color = value(\"#444\")\n                            backgroundColor = value(\n                                \"rgba(255, 99, 132, 0.2)\",\n                                \"rgba(54, 162, 235, 0.2)\",\n                                \"rgba(255, 206, 86, 0.2)\",\n                                \"rgba(75, 192, 192, 0.2)\",\n                                \"rgba(153, 102, 255, 0.2)\",\n                                \"rgba(255, 159, 64, 0.2)\",\n                            )\n                            borderColor = value(\n                                \"rgba(255, 99, 132, 1)\",\n                                \"rgba(54, 162, 235, 1)\",\n                                \"rgba(255, 206, 86, 1)\",\n                                \"rgba(75, 192, 192, 1)\",\n                                \"rgba(153, 102, 255, 1)\",\n                                \"rgba(255, 159, 64, 1)\",\n                            )\n                            borderWidth = value(1)\n                        }\n                    )\n                }\n\n                options = jsObject {\n                    scales = jsObject {\n                        yAxes = jsObject {\n                            ticks = jsObject {\n                                suggestedMin = 0\n                                suggestedMax = 40\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n\n    private fun FlowContent.simpleLineChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"line\"\n                data = jsObject {\n                    labels = numberLabels(6)\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"# of votes\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3).map { it * factor }.toTypedArray()\n                            color = value(\"#444\")\n                            backgroundColor = value(\"rgba(255, 99, 132, 0.2)\")\n                            borderColor = value(\"rgba(255, 99, 132, 1)\")\n                            borderWidth = value(3)\n                        }\n                    )\n                }\n\n                options = jsObject {\n                    scales = jsObject {\n                        yAxes = jsObject {\n                            ticks = jsObject {\n                                suggestedMin = 0\n                                suggestedMax = 40\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n\n    private fun FlowContent.simpleDoughnutChart() {\n        val data = chartJsData {\n            jsObject {\n                type = \"doughnut\"\n                data = jsObject {\n                    labels = numberLabels(6)\n                    datasets = arrayOf(\n                        jsObject {\n                            label = \"Dataset #1\"\n                            data = arrayOf(12, 19, 3, 5, 2, 3)\n                                .mapIndexed { index, it -> it * (index + 1).toDouble().pow(factor) }\n                                .toTypedArray()\n                            backgroundColor = value(\n                                \"rgba(255, 99, 132, 0.2)\",\n                                \"rgba(54, 162, 235, 0.2)\",\n                                \"rgba(255, 206, 86, 0.2)\",\n                                \"rgba(75, 192, 192, 0.2)\",\n                                \"rgba(153, 102, 255, 0.2)\",\n                                \"rgba(255, 159, 64, 0.2)\",\n                            )\n                        }\n                    )\n                }\n            }\n        }\n\n        ChartJs(data)\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.Router\nimport de.peekandpoke.kraft.addons.routing.router\nimport de.peekandpoke.kraft.vdom.preact.PreactVDomEngine\nimport kotlinx.browser.document\nimport org.w3c.dom.HTMLElement\n\nval routes = Routes()\n\nval router: Router = router {\n    mount(routes)\n}\n\nfun main() {\n    val mountPoint = document.getElementById(\"spa\") as HTMLElement\n\n    PreactVDomEngine(mountPoint) {\n        AddonExamplesApp()\n    }\n\n    router.resolveCurrentRoute()\n}\n","package de.peekandpoke.kraft.examples.jsaddons\n\nimport de.peekandpoke.kraft.addons.routing.RouterBuilder\nimport de.peekandpoke.kraft.addons.routing.Static\nimport de.peekandpoke.kraft.examples.jsaddons.chartjs.ChartJsExample\nimport de.peekandpoke.kraft.examples.jsaddons.jwtdecode.JwtDecodeExample\nimport de.peekandpoke.kraft.examples.jsaddons.konva.KonvaExample\nimport de.peekandpoke.kraft.examples.jsaddons.marked.MarkedExample\nimport de.peekandpoke.kraft.examples.jsaddons.prismjs.PrismJsExample\nimport de.peekandpoke.kraft.examples.jsaddons.signaturepad.SignaturePadExample\n\nclass Routes {\n\n    val home = Static(\"\")\n    val homeSlash = Static(\"/\")\n\n    val chartJs = Static(\"/example/chart-js\")\n    val jwtDecode = Static(\"/example/jwt-decode\")\n    val konva = Static(\"/example/konva\")\n    val marked = Static(\"/example/marked\")\n    val prismjs = Static(\"/example/prism-js\")\n    val signaturePad = Static(\"/example/signature-pad\")\n}\n\nfun RouterBuilder.mount(routes: Routes) {\n    mount(routes.home) { HomePage() }\n    mount(routes.homeSlash) { HomePage() }\n\n    mount(routes.chartJs) { ChartJsExample() }\n    mount(routes.jwtDecode) { JwtDecodeExample() }\n    mount(routes.konva) { KonvaExample() }\n    mount(routes.marked) { MarkedExample() }\n    mount(routes.prismjs) { PrismJsExample() }\n    mount(routes.signaturePad) { SignaturePadExample() }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.jwtdecode\n\nimport de.peekandpoke.kraft.addons.semanticui.forms.UiTextArea\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.jsbridges.decodeJwt\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.pre\n\n@Suppress(\"FunctionName\")\nfun Tag.JwtDecodeExample() = comp {\n    JwtDecodeExample(it)\n}\n\nclass JwtDecodeExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var jwt by value(\n        \" eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.cThIIoDvwdueQB468K5xDc5633seEFoqwxjF_xSJyQQ\"\n    )\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"jwt_decode\" }\n\n            ui.two.column.grid {\n                ui.column {\n                    ui.form {\n                        UiTextArea(jwt, { jwt = it }) {\n                            label(\"JWT\")\n                        }\n                    }\n                }\n                ui.column {\n                    pre {\n                        +JSON.stringify(decodeJwt(jwt))\n                    }\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.konva\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.height\nimport kotlinx.css.pct\nimport kotlinx.css.vh\nimport kotlinx.css.width\nimport kotlinx.html.Tag\nimport kotlinx.html.div\n\n@Suppress(\"FunctionName\")\nfun Tag.KonvaExample() = comp {\n    KonvaExample(it)\n}\n\nclass KonvaExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n\n        ui.segment {\n            ui.header H2 { +\"Konva\" }\n\n            div {\n                css {\n                    width = 100.pct\n                    height = 50.vh\n                }\n                KonvaExampleStage()\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.marked\n\nimport de.peekandpoke.kraft.addons.marked.marked\nimport de.peekandpoke.kraft.addons.semanticui.forms.UiTextArea\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.*\n\n@Suppress(\"FunctionName\")\nfun Tag.MarkedExample() = comp {\n    MarkedExample(it)\n}\n\nclass MarkedExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var input by value(\n        \"\"\"\n            # Header 1                         \n            ## Header 2                         \n            ### Header 3                         \n\n            - item 1\n            - item 2\n            \n            1. item 1\n            2. item 2\n            \n            `code`\n        \"\"\".trimIndent()\n    )\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"Marked JS\" }\n\n            p {\n                a(href = \"https://www.npmjs.com/package/marked\", target = \"_blank\") {\n                    +\"https://www.npmjs.com/package/marked\"\n                }\n            }\n\n            p {\n                a(href= \"https://www.markdownguide.org/cheat-sheet/\", target = \"_blank\") {\n                    +\"Markdown Cheat Sheet\"\n                }\n            }\n\n            ui.form {\n                UiTextArea(input, { input = it })\n            }\n\n            ui.segment {\n                unsafe {\n                    +marked.parse(\n                        input\n                    )\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.prismjs\n\nimport de.peekandpoke.kraft.addons.prismjs.*\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.CopyToClipboard.Companion.copyToClipboard\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.InlineColor.Companion.inlineColor\nimport de.peekandpoke.kraft.addons.prismjs.PrismPlugin.LineNumbers.Companion.lineNumbers\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlinx.html.a\nimport kotlinx.html.p\n\n@Suppress(\"FunctionName\")\nfun Tag.PrismJsExample() = comp {\n    PrismJsExample(it)\n}\n\nclass PrismJsExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"PrismJs syntax highlighter\" }\n\n            ui.header H3 { +\"Plugin Examples\" }\n            pluginExamples()\n\n            ui.header H3 { +\"Language Examples\" }\n            languageExamples()\n        }\n    }\n\n    private fun FlowContent.pluginExamples() {\n        ui.header { +\"Line numbers\" }\n\n        p {\n            a(href = \"https://prismjs.com/plugins/line-numbers/\") {\n                +\"PrismJs docs\"\n            }\n        }\n\n        p { +\"Usage\" }\n        PrismKotlinScript(\n            \"\"\"\n                PrismKotlin(\"... code ...\") {\n                    lineNumbers(\n                        // line number of the first line, default = 1\n                        start = -5,\n                        // should soft wraps be used, default = false\n                        softWrap = true,\n                    )\n                }            \n            \"\"\".trimIndent()\n        )\n\n        PrismHtml(getPluginExampleHtmlCode()) {\n            lineNumbers(start = -5, softWrap = true)\n        }\n    }\n\n    private fun FlowContent.languageExamples() {\n\n        val configure: PrismOptsBuilder = {\n            inlineColor()\n            lineNumbers()\n            copyToClipboard()\n        }\n\n        ui.header { +\"atom\" }\n        PrismAtom(\n            \"\"\"\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"clike\" }\n        PrismCLike(\n            \"\"\"\n                #include <stdio.h>\n                int main() {\n                    printf(\"Hello, World!\");\n                    return 0;\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"css\" }\n        PrismCss(\n            \"\"\"\n                /* All in red */\n                body {\n                    color: #FF0000;\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"dart\" }\n        PrismDart(\n            \"\"\"\n                /* Hello world from dart */\n                void main() {\n                    print('Hello, World!');\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"html\" }\n        PrismHtml(\n            \"\"\"\n                <!-- Hello world from html -->\n                <div>\n                    Hello, World!\n                </div>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"kotlin\" }\n        PrismKotlin(\n            \"\"\"\n                /** Hello world from kotlin */\n                fun main() {\n                    println(\"Hello, World!\")\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"java\" }\n        PrismJava(\n            \"\"\"\n                /** Hello world from java */\n                class HelloWorld {\n                    public static void main(String[] args) {\n                        System.out.println(\"Hello, World!\"); \n                    }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"javascript\" }\n        PrismJavascript(\n            \"\"\"\n                /** Hello world from javascript */\n                function helloWorld() {\n                    alert( 'Hello, world!' );\n                }\n                \n                helloWorld();\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"json\" }\n        PrismJson(\n            \"\"\"\n                {\n                    \"json\": \"Hello, World!\"                        \n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"json5\" }\n        PrismJson5(\n            \"\"\"\n                {\n                  // comments\n                  unquoted: 'and you can quote me on that',\n                  singleQuotes: 'I can use \"double quotes\" here',\n                  lineBreaks: \"Look, Mom! \\\n                      No \\\\n's!\",\n                  hexadecimal: 0xdecaf,\n                  leadingDecimalPoint: .8675309, andTrailing: 8675309.,\n                  positiveSign: +1,\n                  trailingComma: 'in objects', andIn: ['arrays',],\n                  \"backwardsCompatible\": \"with JSON\",\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"jsonp\" }\n        PrismJsonp(\n            \"\"\"\n                myFunc(\n                    '{ \"name\":\"John\", \"age\":30, \"city\":\"New York\" }'\n                );\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"less\" }\n        PrismLess(\n            \"\"\"\n                @header-color: #FFAA88;\n                \n                #header {\n                  color: @header-color;\n                  .navigation {\n                    font-size: 12px;\n                  }\n                  .logo {\n                    width: 300px;\n                  }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"markup\" }\n        PrismMarkup(\n            \"\"\"\n                <!-- Hello world from markup -->\n                <div>\n                    Hello, World!\n                </div>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"php\" }\n        PrismPhp(\n            \"\"\"\n                <?php\n                    // Hello world from PHP\n                    phpinfo(); \n                \n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"plain\" }\n        PrismPlain(\n            \"\"\"\n                This is just a plain text.\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"regex\" }\n        PrismRegex(\n            \"\"\"\n                [-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"ruby\" }\n        PrismRuby(\n            \"\"\"\n                # Hello world from ruby\n                puts 'Hello, world!'\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"rust\" }\n        PrismRust(\n            \"\"\"\n                // This is the main function\n                fn main() {\n                    // Statements here are executed when the compiled binary is called\n\n                    // Print text to the console\n                    println!(\"Hello World!\");\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"rss\" }\n        PrismRss(\n            \"\"\"\n                <?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n                <rss version=\"2.0\">\n                  <channel>\n                    <title>W3Schools Home Page</title>\n                    <link>https://www.w3schools.com</link>\n                    <description>Free web building tutorials</description>\n                    <item>\n                      <title>RSS Tutorial</title>\n                      <link>https://www.w3schools.com/xml/xml_rss.asp</link>\n                      <description>New RSS tutorial on W3Schools</description>\n                    </item>\n                    <item>\n                      <title>XML Tutorial</title>\n                      <link>https://www.w3schools.com/xml</link>\n                      <description>New XML tutorial on W3Schools</description>\n                    </item>\n                  </channel>\n                </rss>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"sass\" }\n        PrismSass(\n            \"\"\"\n                ${\"$\"}font-stack: Helvetica, sans-serif\n                ${\"$\"}primary-color: #333\n                \n                body                      \n                  div                      \n                    font: 100% ${'$'}font-stack\n                    color: ${'$'}primary-color\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"scss\" }\n        PrismScss(\n            \"\"\"\n                ${\"$\"}font-stack: Helvetica, sans-serif;\n                ${\"$\"}primary-color: #333;\n                \n                body {\n                  div {                      \n                    font: 100% ${'$'}font-stack;\n                    color: ${'$'}primary-color;\n                  }\n                }\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"ssml\" }\n        PrismSsml(\n            \"\"\"\n                <speak>\n                  Here are <say-as interpret-as=\"characters\">SSML</say-as> samples.\n                  I can pause <break time=\"3s\"/>.\n                  I can play a sound\n                  <audio src=\"https://www.example.com/MY_MP3_FILE.mp3\">didn't get your MP3 audio file</audio>.\n                  I can speak in cardinals. Your number is <say-as interpret-as=\"cardinal\">10</say-as>.\n                  Or I can speak in ordinals. You are <say-as interpret-as=\"ordinal\">10</say-as> in line.\n                  Or I can even speak in digits. The digits for ten are <say-as interpret-as=\"characters\">10</say-as>.\n                  I can also substitute phrases, like the <sub alias=\"World Wide Web Consortium\">W3C</sub>.\n                  Finally, I can speak a paragraph with two sentences.\n                  <p><s>This is sentence one.</s><s>This is sentence two.</s></p>\n                </speak>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"svg\" }\n        PrismSvg(\n            \"\"\"\n                <svg width=\"400\" height=\"180\">\n                  <rect x=\"50\" y=\"20\" rx=\"20\" ry=\"20\" width=\"150\" height=\"150\" style=\"fill:red;stroke:black;stroke-width:5;opacity:0.5\" />\n                  Sorry, your browser does not support inline SVG.\n                </svg>\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"text\" }\n        PrismText(\n            \"\"\"\n                This is just a plain text.\n                Hello World!\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"typescript\" }\n        PrismTypescript(\n            \"\"\"\n                let message: string = 'Hello, World!';\n                // create a new heading 1 element\n                let heading = document.createElement('h1');\n                heading.textContent = message;\n                // add the heading the document\n                document.body.appendChild(heading);\n            \"\"\".trimIndent(),\n            configure,\n        )\n\n        ui.header { +\"xml\" }\n        PrismXml(\n            \"\"\"\n                <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n                <text>\n                  <para>hello world</para>\n                </text>\n            \"\"\".trimIndent(),\n            configure,\n        )\n    }\n\n    private fun getPluginExampleHtmlCode(): String = \"\"\"\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n\n        <meta charset=\"utf-8\" />\n        <link rel=\"icon\" href=\"assets/favicon.png\" />\n        <title>Line Numbers  Prism plugins</title>\n        <base href=\"../..\" />\n        <link rel=\"stylesheet\" href=\"assets/style.css\" />\n        <link rel=\"stylesheet\" href=\"themes/prism.css\" data-noprefix />\n        <link rel=\"stylesheet\" href=\"plugins/line-numbers/prism-line-numbers.css\" data-noprefix />\n        <script src=\"assets/vendor/prefixfree.min.js\"></script>\n\n        <script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>\n        <script src=\"https://www.google-analytics.com/ga.js\" async></script>\n        </head>\n        <body class=\"language-none\">\n\n        <header data-plugin-header=\"line-numbers\"></header>\n\n        <section class=\"language-markup\">\n          <h1>How to use</h1>\n\n          <p>Obviously, this is supposed to work only for code blocks (<code>&lt;pre>&lt;code></code>) and not for inline code.</p>\n          <p>Add the <code>line-numbers</code> class to your desired <code>&lt;pre></code> or any of its ancestors, and the Line Numbers plugin will take care of the rest. To give all code blocks line numbers, add the <code>line-numbers</code> class to the <code>&lt;body></code> of the page. This is part of a general activation mechanism where adding the <code>line-numbers</code> (or <code>no-line-numbers</code>) class to any element will enable (or disable) the Line Numbers plugin for all code blocks in that element. <br> Example:</p>\n\n          <pre><code>&lt;body class=\"line-numbers\"> &lt;!-- enabled for the whole page -->\n\n            &lt;!-- with line numbers -->\n            &lt;pre>&lt;code>...&lt;/code>&lt;/pre>\n            &lt;!-- disabled for a specific element - without line numbers -->\n            &lt;pre class=\"no-line-numbers\">&lt;code>...&lt;/code>&lt;/pre>\n\n            &lt;div class=\"no-line-numbers\"> &lt;!-- disabled for this subtree -->\n\n                &lt;!-- without line numbers -->\n                &lt;pre>&lt;code>...&lt;/code>&lt;/pre>\n                &lt;!-- enabled for a specific element - with line numbers -->\n                &lt;pre class=\"line-numbers\">&lt;code>...&lt;/code>&lt;/pre>\n\n            &lt;/div>\n        &lt;/body></code></pre>\n\n          <p>Optional: You can specify the <code>data-start</code> (Number) attribute on the <code>&lt;pre></code> element. It will shift the line counter.</p>\n          <p>Optional: To support multiline line numbers using soft wrap, apply the CSS <code>white-space: pre-line;</code> or <code>white-space: pre-wrap;</code> to your desired <code>&lt;pre></code>.</p>\n        </section>\n\n        <section class=\"line-numbers\">\n          <h1>Examples</h1>\n\n          <h2>JavaScript</h2>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/prism-line-numbers.js\"></pre>\n\n          <h2>CSS</h2>\n          <p>Please note that this <code class=\"language-markup\">&lt;pre></code> does not have the <code>line-numbers</code> class but its parent does.</p>\n          <pre data-src=\"plugins/line-numbers/prism-line-numbers.css\"></pre>\n\n          <h2>HTML</h2>\n          <p>Please note the <code>data-start=\"-5\"</code> in the code below.</p>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/index.html\" data-start=\"-5\"></pre>\n\n          <h2>Unknown languages</h2>\n          <pre class=\"language-none line-numbers\"><code>This raw text\n        is not highlighted\n        but it still has\n        line numbers</code></pre>\n\n          <h2>Soft wrap support</h2>\n          <p>Please note the <code>style=\"white-space:pre-wrap;\"</code> in the code below.</p>\n          <pre class=\"line-numbers\" data-src=\"plugins/line-numbers/index.html\" data-start=\"-5\" style=\"white-space:pre-wrap;\"></pre>\n\n        </section>\n\n        <footer data-src=\"assets/templates/footer.html\" data-type=\"text/html\"></footer>\n\n        <script src=\"prism.js\"></script>\n        <script src=\"plugins/line-numbers/prism-line-numbers.js\"></script>\n        <script src=\"assets/vendor/utopia.js\"></script>\n        <script src=\"components.js\"></script>\n        <script src=\"assets/code.js\"></script>\n\n        </body>\n        </html>\n    \"\"\".trimIndent()\n}\n","package de.peekandpoke.kraft.examples.jsaddons.signaturepad\n\nimport de.peekandpoke.kraft.addons.signaturepad.SignaturePad\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.css.*\nimport kotlinx.css.properties.border\nimport kotlinx.html.Tag\nimport kotlinx.html.div\nimport kotlinx.html.img\n\n@Suppress(\"FunctionName\")\nfun Tag.SignaturePadExample() = comp {\n    SignaturePadExample(it)\n}\n\nclass SignaturePadExample(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var dataPng: String? by value(null)\n    private var dataPngTrimmed: String? by value(null)\n    private var dataSvg: String? by value(null)\n    private var dataSvgTrimmed: String? by value(null)\n    private var dataJpg: String? by value(null)\n    private var dataJpgTrimmed: String? by value(null)\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        ui.segment {\n            ui.header H2 { +\"Signature Pad\" }\n\n            div {\n                css {\n                    width = 100.pct\n                    height = 20.vh\n                    backgroundColor = Color.lightGrey\n                }\n\n                SignaturePad {\n                    dataPng = it.getPng()\n                    dataPngTrimmed = it.getPngTrimmed()\n\n                    dataSvg = it.getSvg()\n                    dataSvgTrimmed = it.getSvgTrimmed()\n\n                    dataJpg = it.getJpg(0.5)\n                    dataJpgTrimmed = it.getJpgTrimmed(0.5)\n                }\n            }\n\n            ui.divider {}\n\n            ui.two.column.grid {\n\n                listOf(\n                    \"PNG\" to dataPng,\n                    \"PNG trimmed\" to dataPngTrimmed,\n                    \"SVG\" to dataSvg,\n                    \"SVG trimmed\" to dataSvgTrimmed,\n                    \"JPG\" to dataJpg,\n                    \"JPG trimmed\" to dataJpgTrimmed,\n                ).forEach { (name, data) ->\n\n                    ui.column {\n\n                        ui.header { +name }\n\n                        ui.fitted.image {\n\n                            css {\n                                border(width = 1.px, style = BorderStyle.dotted, color = Color.gray)\n                            }\n\n                            data?.let {\n                                img { src = data }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.examples.jsaddons.konva\n\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.NoProps\nimport de.peekandpoke.kraft.components.PureComponent\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.key\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport konva.Circle\nimport konva.Layer\nimport konva.LayerConfig\nimport konva.Stage\nimport kotlinx.css.height\nimport kotlinx.css.pct\nimport kotlinx.css.width\nimport kotlinx.html.Tag\nimport kotlinx.html.div\nimport kotlin.math.max\n\n@Suppress(\"FunctionName\")\nfun Tag.KonvaExampleStage() = comp {\n    KonvaExampleStage(it)\n}\n\nclass KonvaExampleStage(ctx: NoProps) : PureComponent(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun onMount() {\n        dom?.let { d ->\n\n            val clientWidth = d.clientWidth\n            val clientHeight = d.clientHeight\n\n            val stage = Stage(\n                jsObject {\n                    container = d\n                    width = clientWidth\n                    height = clientHeight\n                }\n            )\n\n            var viewScale = 1.0\n\n            val layer = Layer(\n                jsObject<LayerConfig> {\n                    listening = true\n                    x = (clientWidth / 2)\n                    y = (clientHeight / 2)\n                }\n            )\n            stage.add(layer)\n\n            layer.add(\n                Circle(\n                    jsObject {\n                        id = \"circle\"\n                        x = 0\n                        y = 0\n                        radius = 200\n                        fill = \"#FFAAAA\"\n                        stroke = \"#888888\"\n                        strokeWidth = 1\n                    }\n                )\n            )\n\n            stage.on(\"wheel\") { event ->\n                viewScale = max(0.1, viewScale + (event.evt.asDynamic().wheelDelta as Double / 2000.0))\n                layer.scaleX(viewScale)\n                layer.scaleY(viewScale)\n            }\n        }\n    }\n\n    override fun VDom.render() {\n        div {\n            key = \"stage\"\n\n            css {\n                width = 100.pct\n                height = 100.pct\n            }\n        }\n    }\n}\n","@file:Suppress(\"FunctionName\", \"NOTHING_TO_INLINE\")\n\npackage de.peekandpoke.kraft.addons.prismjs\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.utils.launch\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.document\nimport kotlinx.dom.clear\nimport kotlinx.html.Tag\nimport kotlinx.html.code\nimport kotlinx.html.div\nimport kotlinx.html.pre\nimport org.intellij.lang.annotations.Language\nimport org.w3c.dom.HTMLElement\nimport org.w3c.dom.HTMLPreElement\n\ntypealias PrismOptsBuilder = Prism.OptionsBuilder.() -> Unit\n\nfun Tag.Prism(language: String, code: String, options: PrismOptsBuilder) = comp(\n    Prism.Props(\n        language = language,\n        code = code,\n        options = Prism.OptionsBuilder().apply(options).build()\n    )\n) { Prism(it) }\n\ninline fun Tag.PrismAtom(@Language(\"atom\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"atom\", code = code, options = options)\n\ninline fun Tag.PrismCLike(@Language(\"c\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"clike\", code = code, options = options)\n\ninline fun Tag.PrismCss(@Language(\"css\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"css\", code = code, options = options)\n\ninline fun Tag.PrismDart(@Language(\"dart\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"dart\", code = code, options = options)\n\ninline fun Tag.PrismHtml(@Language(\"html\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"html\", code = code, options = options)\n\ninline fun Tag.PrismKotlin(@Language(\"kotlin\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"kotlin\", code = code, options = options)\n\ninline fun Tag.PrismKotlinScript(@Language(\"kts\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"kts\", code = code, options = options)\n\ninline fun Tag.PrismJava(@Language(\"java\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"java\", code = code, options = options)\n\ninline fun Tag.PrismJavascript(@Language(\"javascript\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"javascript\", code = code, options = options)\n\ninline fun Tag.PrismJson(@Language(\"json\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"json\", code = code, options = options)\n\ninline fun Tag.PrismJson5(@Language(\"json5\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"json5\", code = code, options = options)\n\ninline fun Tag.PrismJsonp(@Language(\"jsonp\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"jsonp\", code = code, options = options)\n\ninline fun Tag.PrismLess(@Language(\"less\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"less\", code = code, options = options)\n\ninline fun Tag.PrismMarkup(@Language(\"markup\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"markup\", code = code, options = options)\n\ninline fun Tag.PrismPhp(@Language(\"php\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"php\", code = code, options = options)\n\ninline fun Tag.PrismPlain(code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"plain\", code = code, options = options)\n\ninline fun Tag.PrismRegex(@Language(\"regex\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"regex\", code = code, options = options)\n\ninline fun Tag.PrismRuby(@Language(\"ruby\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"ruby\", code = code, options = options)\n\ninline fun Tag.PrismRust(@Language(\"rust\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"rust\", code = code, options = options)\n\ninline fun Tag.PrismRss(@Language(\"rss\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"rss\", code = code, options = options)\n\ninline fun Tag.PrismSass(@Language(\"sass\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"sass\", code = code, options = options)\n\ninline fun Tag.PrismScss(@Language(\"scss\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"scss\", code = code, options = options)\n\ninline fun Tag.PrismSsml(@Language(\"ssml\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"ssml\", code = code, options = options)\n\ninline fun Tag.PrismSvg(@Language(\"svg\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"svg\", code = code, options = options)\n\ninline fun Tag.PrismText(code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"text\", code = code, options = options)\n\ninline fun Tag.PrismTypescript(@Language(\"typescript\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"typescript\", code = code, options = options)\n\ninline fun Tag.PrismXml(@Language(\"xml\") code: String, noinline options: PrismOptsBuilder = {}) =\n    Prism(language = \"xml\", code = code, options = options)\n\nclass Prism(ctx: Ctx<Props>) : Component<Prism.Props>(ctx) {\n\n    //  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    data class Props(\n        val language: String,\n        val code: String,\n        val options: Options,\n    )\n\n    data class Options(\n        val plugins: List<PrismPlugin>,\n    )\n\n    class OptionsBuilder internal constructor() {\n        private val plugins = mutableListOf<PrismPlugin>()\n\n        internal fun build() = Options(\n            plugins = plugins,\n        )\n\n        fun usePlugin(plugin: PrismPlugin) {\n            plugins.add(plugin)\n        }\n    }\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    init {\n        launch {\n            prismJsInternals.styles.loadDefaultTheme()\n\n            props.options.plugins.forEach { it.load() }\n\n            prismJsInternals.languages.load(props.language)\n\n            createContent()\n        }\n    }\n\n    private fun createContent() {\n\n        dom?.let { d ->\n            val pre = (document.createElement(\"pre\") as HTMLPreElement).also { pre ->\n\n                pre.className = \"language-${props.language} copy-to-clipboard\"\n\n                props.options.plugins.forEach { it.applyTo(pre) }\n\n                (document.createElement(\"code\") as HTMLElement).also { code ->\n\n                    val text = document.createTextNode(props.code)\n\n                    code.append(text)\n                    pre.append(code)\n                }\n            }\n\n            d.clear()\n            d.append(pre)\n\n            PrismJsDefinition.highlightAllUnder(d)\n        }\n    }\n\n    override fun VDom.render() {\n        // Initially we create a placeholder which is filled by [createContent]\n        div(\"prism\") {\n\n            pre(\"language-${props.language}\") {\n                code {\n                    +props.code\n                }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.Tag\nimport kotlinx.html.canvas\nimport kotlinx.html.style\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.HTMLCanvasElement\n\n@Suppress(\"FunctionName\")\nfun Tag.ChartJs(\n    data: ChartConfig\n) = comp(\n    ChartJsComponent.Props(data = data)\n) {\n    ChartJsComponent(it)\n}\n\nclass ChartJsComponent(ctx: Ctx<Props>) : Component<ChartJsComponent.Props>(ctx) {\n\n    ////  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    data class Props(\n        val data: ChartConfig\n    )\n\n    ////  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private var chart: Chart? = null\n\n    ////  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    init {\n        ChartJsUtils.registerAllModules()\n    }\n\n    override fun onMount() {\n        super.onMount()\n\n        val canvas = dom as HTMLCanvasElement\n\n//        console.log(\"chart-data\", props.data)\n\n        chart = Chart(\n            ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D,\n            data = props.data,\n        )\n\n//        console.log(chart)\n    }\n\n    override fun shouldRedraw(nextProps: Props): Boolean {\n\n//        return super.shouldRedraw(nextProps)\n\n        chart?.let { c ->\n\n            try {\n//                console.log(Chart)\n//                console.log(Object.getOwnPropertyNames(Chart))\n\n                // Update the options\n                c.options = nextProps.data.options\n\n                // Merge data sets\n                val currentData = c.data.datasets\n                val nextData = nextProps.data.data.datasets\n\n                nextData.forEachIndexed { sid, dataset ->\n\n                    val current = currentData.getOrNull(sid)\n\n                    if (current != null) {\n                        current.data = dataset.data\n                    } else {\n                        currentData[sid].data = dataset.data\n                    }\n                }\n\n                c.update()\n\n            } catch (e: Throwable) {\n                console.error(\"Updating the chart failed\")\n                console.error(e)\n            }\n        }\n\n        return super.shouldRedraw(nextProps)\n    }\n\n    override fun onUnmount() {\n        chart?.destroy()\n        chart = null\n    }\n\n    override fun VDom.render() {\n\n        canvas {\n            style = \"width: 100%; height: 100%;\"\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nimport kotlinx.css.Color\n\n@Suppress(\"unused\")\ninterface SingleOrArray<T>\n\ntypealias StringOrArray = SingleOrArray<String>\n\ntypealias NumberOrArray = SingleOrArray<Number>\n\nfun chartJsData(builder: ChartJsDataBuilder.() -> ChartConfig): ChartConfig {\n    return ChartJsDataBuilder().builder()\n}\n\nclass ChartJsDataBuilder {\n\n    val colors = arrayOf(\n        \"#4dc9f6\",\n        \"#f67019\",\n        \"#f53794\",\n        \"#537bc4\",\n        \"#acc236\",\n        \"#166a8f\",\n        \"#00a950\",\n        \"#58595b\",\n        \"#8549ba\"\n    )\n\n    private var nextColorIdx = 0\n\n    fun nextColor() = Color(colors[nextColorIdx]).also {\n        nextColorIdx = (nextColorIdx + 1) % colors.size\n    }\n\n    fun <T> value(value: T) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun <T> value(value: Array<T>) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun <T> value(vararg value: T) = value.unsafeCast<SingleOrArray<T>>()\n\n    fun numberLabels(count: Int): Array<String> = ChartJsUtils.numberLabels(count)\n\n    fun numberLabels(range: IntRange): Array<String> = ChartJsUtils.numberLabels(range)\n}\n","package de.peekandpoke.kraft.addons.chartjs\n\nobject ChartJsUtils {\n\n    private var alreadyRegistered = false\n\n    fun registerAllModules() {\n        if (!alreadyRegistered) {\n            alreadyRegistered = true\n\n//            console.info(\"Chart.register\", Chart.Companion::register)\n//            console.info(\"registerables\", registerables)\n\n            Chart.register(*registerables)\n        }\n    }\n\n    fun numberLabels(count: Int): Array<String> = numberLabels(1..count)\n\n    fun numberLabels(range: IntRange) = range.map { it.toString() }.toTypedArray()\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.addons.forms.validation.Rule\nimport de.peekandpoke.kraft.semanticui.RenderFunc\nimport de.peekandpoke.ultra.common.MutableTypedAttributes\nimport de.peekandpoke.ultra.common.TypedKey\nimport kotlinx.html.InputType\nimport kotlinx.html.LABEL\n\ntypealias SettingsBuilder<T> = FieldOptions<T>.() -> Unit\n\ninterface FieldOptions<T> {\n    companion object {\n        operator fun <T> invoke(): FieldOptions<T> = Base()\n\n        private val labelKey = TypedKey<RenderFunc<LABEL>>(\"label\")\n        private val placeholderKey = TypedKey<String>(\"placeholder\")\n        private val nameKey = TypedKey<String>(\"name\")\n    }\n\n    open class Base<T> : FieldOptions<T> {\n\n        override val attributes: MutableTypedAttributes = MutableTypedAttributes.empty()\n\n        @KraftFormsSettingDsl\n        override val rules: MutableList<Rule<T>> = mutableListOf()\n\n        /** Adds a validation rule */\n        @KraftFormsSettingDsl\n        override fun accepts(vararg rules: Rule<T>) {\n            this.rules.addAll(rules)\n        }\n\n        @KraftFormsSettingDsl\n        override fun label(label: String) {\n            label { +label }\n        }\n    }\n\n    class Access<T, X>(private val settings: FieldOptions<T>, private val key: TypedKey<X>) {\n\n        @KraftFormsSettingDsl\n        operator fun invoke(value: X) {\n            settings.set(key, value)\n        }\n\n        @KraftFormsSettingDsl\n        operator fun invoke(): X? {\n            return settings.get(key)\n        }\n\n        @KraftFormsSettingDsl\n        fun getOrDefault(default: X): X {\n            return invoke() ?: default\n        }\n\n        @KraftFormsSettingDsl\n        fun getOrPut(produce: () -> X): X {\n            return settings.getOrPut(key, produce)\n        }\n    }\n\n    val attributes: MutableTypedAttributes\n\n    @KraftFormsSettingDsl\n    val rules: List<Rule<T>>\n\n    @KraftFormsSettingDsl\n    val label get() = access(labelKey)\n\n    @KraftFormsSettingDsl\n    val placeholder get() = access(placeholderKey)\n\n    @KraftFormsSettingDsl\n    val name get() = access(nameKey)\n\n    /** Adds a validation rule */\n    @KraftFormsSettingDsl\n    fun accepts(vararg rules: Rule<T>)\n\n    @KraftFormsSettingDsl\n    fun label(label: String)\n\n    private fun <X> set(key: TypedKey<X>, value: X) {\n        attributes[key] = value\n    }\n\n    private fun <X> get(key: TypedKey<X>): X? {\n        return attributes[key]\n    }\n\n    private fun <X> getOrPut(key: TypedKey<X>, produce: () -> X): X {\n        return attributes.getOrPut(key, produce)\n    }\n\n    fun <X> access(key: TypedKey<X>) = Access(this, key)\n}\n\ninterface CheckboxOptions<T> : FieldOptions<T> {\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n}\n\ninterface InputOptions<T> : FieldOptions<T> {\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n        private val stepKey = TypedKey<Number>(\"step\")\n        private val typeKey = TypedKey<InputType>(\"type\")\n        private val formatValueKey = TypedKey<String>(\"format-value\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    val formatValue get() = access(formatValueKey)\n\n    @KraftFormsSettingDsl\n    val step get() = access(stepKey)\n\n    @KraftFormsSettingDsl\n    val type get() = access(typeKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n\n    @KraftFormsSettingDsl\n    fun asDateInput() {\n        type(InputType.date)\n        formatValue(\"yyyy-MM-dd\")\n    }\n\n    @KraftFormsSettingDsl\n    fun asDateTimeInput() {\n        type(InputType.dateTimeLocal)\n        formatValue(\"yyyy-MM-ddTHH:mm:ss\")\n    }\n\n    @KraftFormsSettingDsl\n    fun asTimeInput() {\n        type(InputType.time)\n        formatValue(\"HH:mm:ss\")\n    }\n}\n\ninterface TextAreaOptions<T> : FieldOptions<T> {\n\n    companion object {\n        private val autofocusKey = TypedKey<Boolean>(\"autofocus\")\n        private val verticalAutoResizeKey = TypedKey<Boolean>(\"verticalAutoResize\")\n    }\n\n    @KraftFormsSettingDsl\n    val autofocusValue get() = access(autofocusKey)\n\n    @KraftFormsSettingDsl\n    val verticalAutoResize get() = access(verticalAutoResizeKey)\n\n    @KraftFormsSettingDsl\n    fun autofocus(focus: Boolean = true) {\n        autofocusValue(focus)\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.utils.decodeURIComponent\nimport de.peekandpoke.kraft.utils.encodeURIComponent\n\n/**\n * Common Route representation\n */\ninterface Route {\n\n    /**\n     * Represents a route match\n     */\n    data class Match(\n        val route: Route,\n        /** Route params extract from url placeholder */\n        val routeParams: Map<String, String>,\n        /** Query params after like ?p=1&t=2 */\n        val queryParams: Map<String, String>,\n    ) {\n        companion object {\n            val default = Match(route = Route.default, routeParams = emptyMap(), queryParams = emptyMap())\n        }\n\n        /** Shortcut to the pattern of the [route] */\n        val pattern = route.pattern\n\n        /** Combination of route and query params */\n        val allParams = routeParams.plus(queryParams)\n\n        /** Gets the route param with the given [key] / name */\n        operator fun get(key: String) = param(key)\n\n        /** Gets the route param with the given [name] or defaults to [default] */\n        fun param(name: String, default: String = \"\"): String = routeParams[name] ?: default\n\n        /** Returns a new instance with the query params set */\n        fun withQueryParams(params: Map<String, String?>): Match {\n            @Suppress(\"UNCHECKED_CAST\")\n            return copy(\n                queryParams = params.filterValues { v -> v != null } as Map<String, String>\n            )\n        }\n\n        /** Returns a new instance with the query params set */\n        fun withQueryParams(vararg params: Pair<String, String?>): Match = withQueryParams(params.toMap())\n    }\n\n    companion object {\n        /** Basic default route */\n        val default = Static(\"\")\n    }\n\n    /** The pattern of the route */\n    val pattern: String\n\n    /**\n     * Matches the given [uri] against the [pattern] of the route.\n     *\n     * Returns an instance of [Match] or null if the pattern did not match.\n     */\n    fun match(uri: String): Match?\n\n    /**\n     * Internal helper for building uris\n     */\n    fun String.replacePlaceholder(placeholder: String, value: String) =\n        replace(\"{$placeholder}\", encodeURIComponent(value))\n\n    /**\n     * Builds a uri with the given [routeParams]\n     */\n    fun buildUri(vararg routeParams: String): String\n\n    /**\n     * Builds a uri with the given [routeParams] and [queryParams]\n     */\n    fun buildUri(routeParams: Map<String, String>, queryParams: Map<String, String>): String\n}\n\n/**\n * A parameterized route with one route parameter\n */\nabstract class RouteBase(final override val pattern: String, numParams: Int) : Route {\n\n    companion object {\n        @Suppress(\"RegExpRedundantEscape\")\n        val placeholderRegex = \"\\\\{([^}]*)\\\\}\".toRegex()\n        const val extractRegexPattern = \"([^/]*)\"\n    }\n\n    /**\n     * We extract all placeholders from the pattern\n     */\n    private val placeholders = placeholderRegex\n        .findAll(pattern)\n        .map { it.groupValues[1] }\n        .toList()\n\n    /**\n     * We construct a regex for matching the whole pattern with param placeholders\n     */\n    private val matchingRegex =\n        placeholders.fold(pattern) { acc, placeholder ->\n            acc.replace(\"{$placeholder}\", extractRegexPattern)\n        }.replace(\"/\", \"\\\\/\").toRegex()\n\n\n    init {\n        // Sanity check\n        if (numParams != placeholders.size) {\n            error(\"The route '$pattern' has [${placeholders.size}] route-params but should have [$numParams]\")\n        }\n    }\n\n    /**\n     * Tries to match the given [uri] against the [pattern] of the route.\n     */\n    override fun match(uri: String): Route.Match? {\n\n        val (route, query) = when (val queryIdx = uri.indexOf(\"?\")) {\n            -1 -> arrayOf(uri, \"\")\n            else -> arrayOf(uri.substring(0, queryIdx), uri.substring(queryIdx + 1))\n        }\n\n        val match = matchingRegex.matchEntire(route) ?: return null\n\n//        console.log(placeholders)\n//        console.log(match)\n//        console.log(match.groupValues)\n\n        val routeParams = placeholders\n            .zip(match.groupValues.drop(1).map(::decodeURIComponent))\n            .toMap()\n\n        val queryParams = when (query.isEmpty()) {\n            true -> emptyMap()\n            else -> query.split(\"&\").associate {\n                when (val equalsIdx = it.indexOf(\"=\")) {\n                    -1 -> Pair(it, \"\")\n                    else -> Pair(\n                        it.substring(0, equalsIdx),\n                        decodeURIComponent(it.substring(equalsIdx + 1)),\n                    )\n                }\n            }\n        }\n\n        return Route.Match(route = this, routeParams = routeParams, queryParams = queryParams)\n    }\n\n    /**\n     * Builds a uri with the given [routeParams]\n     */\n    override fun buildUri(vararg routeParams: String): String =\n        routeParams.foldIndexed(\"#$pattern\") { idx, pattern, param ->\n            pattern.replacePlaceholder(placeholders[idx], param)\n        }\n\n    /**\n     * Builds a uri with the given [routeParams] and [queryParams]\n     */\n    override fun buildUri(routeParams: Map<String, String>, queryParams: Map<String, String>): String {\n\n        val withoutQuery = routeParams.entries.fold(\"#$pattern\") { pattern, entry ->\n            pattern.replacePlaceholder(entry.key, entry.value)\n        }\n\n        return when (queryParams.isEmpty()) {\n            true -> withoutQuery\n            else -> \"$withoutQuery?\" + queryParams\n                .map { \"${it.key}=${encodeURIComponent(it.value)}\" }.joinToString(\"&\")\n        }\n    }\n}\n\n\n/**\n * A static route is a route that does not have any route parameters\n */\nopen class Static(pattern: String) : RouteBase(pattern, 0) {\n    operator fun invoke() = buildUri()\n}\n\n/**\n * A parameterized route with one route parameter\n */\nopen class Route1(pattern: String) : RouteBase(pattern, 1) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String) = buildUri(p1)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route2(pattern: String) : RouteBase(pattern, 2) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String) = buildUri(p1, p2)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route3(pattern: String) : RouteBase(pattern, 3) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String, p3: String) = buildUri(p1, p2, p3)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route4(pattern: String) : RouteBase(pattern, 4) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String, p3: String, p4: String) = buildUri(p1, p2, p3, p4)\n}\n\n/**\n * A parameterized route with two route parameter\n */\nopen class Route5(pattern: String) : RouteBase(pattern, 5) {\n    /** Builds the uri with the given parameters */\n    fun build(p1: String, p2: String, p3: String, p4: String, p5: String) = buildUri(p1, p2, p3, p4, p5)\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.onClick\nimport de.peekandpoke.kraft.messages.sendMessage\nimport de.peekandpoke.kraft.semanticui.noui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.html.*\nimport org.w3c.dom.HTMLElement\nimport org.w3c.dom.events.MouseEvent\n\n@Suppress(\"FunctionName\")\nfun <T> Tag.GenericFormField(\n    value: T,\n    onChange: (T) -> Unit,\n    options: FieldOptions<T>,\n) = comp(\n    GenericFormField.DefaultProps(\n        value = value,\n        onChange = onChange,\n        options = options,\n    )\n) {\n    GenericFormField(it)\n}\n\nopen class GenericFormField<T, O : FieldOptions<T>, P : GenericFormField.Props<T, O>>(ctx: Ctx<P>) :\n    Component<P>(ctx),\n    FormField<T> {\n\n    //  PROPS  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    interface Props<T, O : FieldOptions<T>> {\n        val value: T\n        val onChange: (T) -> Unit\n        val options: O\n    }\n\n    data class DefaultProps<T, O : FieldOptions<T>>(\n        override val value: T,\n        override val onChange: (T) -> Unit,\n        override val options: O,\n    ) : Props<T, O>\n\n    val options: O get() = props.options\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    class InputValue<T>(val value: T)\n\n    override var touched by value(false)\n\n    override var errors: List<String> by value(emptyList())\n\n    private var inputValue: InputValue<T>? = null\n\n    val currentValue\n        get() = when (val input = inputValue) {\n            null -> props.value\n            else -> input.value\n        }\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun touch() {\n        touched = true\n    }\n\n    override fun untouch() {\n        touched = false\n    }\n\n    override fun validate(): Boolean {\n\n        if (touched) {\n            errors = props.options.rules\n                .filter { !it.check(currentValue) }\n                .map { it.getMessage(currentValue) }\n        }\n\n        return errors.isEmpty()\n    }\n\n    override fun onMount() {\n        sendMessage(FormFieldMountedMessage(this))\n    }\n\n    override fun onUnmount() {\n        sendMessage(FormFieldUnmountedMessage(this))\n    }\n\n    override fun VDom.render() {\n    }\n\n    fun focus(cssSelector: String) {\n        (dom?.querySelector(cssSelector) as? HTMLElement)?.focus()\n    }\n\n    fun setValue(value: T) {\n        touch()\n\n        inputValue = InputValue(value)\n\n        if (validate()) {\n            props.onChange(currentValue)\n        }\n    }\n\n    // Label Helpers\n\n    fun FlowContent.renderLabel(focusCssSelector: String? = null) {\n\n        renderLabel(\n            onClick = focusCssSelector?.let { sel ->\n                { focus(sel) }\n            }\n        )\n    }\n\n    fun FlowContent.renderLabel(onClick: ((evt: MouseEvent) -> Unit)? = null) {\n        options.label()?.let { l ->\n            noui Label {\n                l()\n\n                onClick?.let { on ->\n                    onClick { evt ->\n                        on(evt)\n                    }\n                }\n            }\n        }\n    }\n}\n","@file:Suppress(\"Detekt.TooManyFunctions\", \"unused\", \"UnsafeCastFromDynamic\")\n\npackage de.peekandpoke.kraft.components\n\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.js.*\nimport org.w3c.dom.events.*\n\n/**\n * Adds an onAnimationEnd handler.\n *\n * The event is raised when a css animation ends.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/animationend_event\n */\nfun CommonAttributeGroupFacade.onAnimationEnd(handler: (Event) -> Unit) {\n    consumer.onTagEvent(this, \"onanimationend\", handler.asDynamic())\n}\n\n/**\n * Adds an onBlur handler.\n *\n * This event does NOT bubble while [onFocusOut] does.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/blur_event\n */\nfun CommonAttributeGroupFacade.onBlur(handler: (Event) -> Unit) {\n    onBlurFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onChange handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/change_event\n */\nfun CommonAttributeGroupFacade.onChange(handler: (Event) -> Unit) {\n    onChangeFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onClick handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event\n */\nfun CommonAttributeGroupFacade.onClick(handler: (MouseEvent) -> Unit) {\n    onClickFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onClick handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/error_event\n */\nfun CommonAttributeGroupFacade.onError(handler: (Event) -> Unit) {\n    onErrorFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onFocus handler.\n *\n * This event does NOT bubble while [onFocusIn] does.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focus_event\n */\nfun CommonAttributeGroupFacade.onFocus(handler: (FocusEvent) -> Unit) {\n    onFocusFunction = handler.asDynamic()\n}\n\n/**\n * Add an onFocusIn handler.\n *\n * The event DOES bubble while [onFocus] does not.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focusin_event\n */\nfun CommonAttributeGroupFacade.onFocusIn(handler: (FocusEvent) -> Unit) {\n    onFocusInFunction = handler.asDynamic()\n}\n\n/**\n * Add an onFocusOut handler.\n *\n * This event DOES bubble while [onBlur] does not.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/focusout_event\n */\nfun CommonAttributeGroupFacade.onFocusOut(handler: (FocusEvent) -> Unit) {\n    onFocusOutFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onInput handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event\n */\nfun CommonAttributeGroupFacade.onInput(handler: (InputEvent) -> Unit) {\n    onInputFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event\n */\nfun CommonAttributeGroupFacade.onKeyDown(handler: (KeyboardEvent) -> Unit) {\n    onKeyDownFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyPress handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keypress_event\n */\n@Deprecated(\"Use onKeyDown instead\", ReplaceWith(\"onKeyDown\"))\nfun CommonAttributeGroupFacade.onKeyPress(handler: (KeyboardEvent) -> Unit) {\n    onKeyPressFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onKeyUp handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/keyup_event\n */\nfun CommonAttributeGroupFacade.onKeyUp(handler: (KeyboardEvent) -> Unit) {\n    onKeyUpFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mousedown_event\n */\nfun CommonAttributeGroupFacade.onMouseDown(handler: (MouseEvent) -> Unit) {\n    onMouseDownFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event\n */\nfun CommonAttributeGroupFacade.onMouseEnter(handler: (MouseEvent) -> Unit) {\n    consumer.onTagEvent(this, \"onmouseenter\", handler.asDynamic())\n}\n\n/**\n * Adds an onMouseDown handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseleave_event\n */\nfun CommonAttributeGroupFacade.onMouseLeave(handler: (MouseEvent) -> Unit) {\n    consumer.onTagEvent(this, \"onmouseleave\", handler.asDynamic())\n}\n\n/**\n * Adds an onMouseMove handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mousemove_event\n */\nfun CommonAttributeGroupFacade.onMouseMove(handler: (MouseEvent) -> Unit) {\n    onMouseMoveFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseOver handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseover_event\n */\nfun CommonAttributeGroupFacade.onMouseOver(handler: (MouseEvent) -> Unit) {\n    onMouseOverFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseOut handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseout_event\n */\nfun CommonAttributeGroupFacade.onMouseOut(handler: (MouseEvent) -> Unit) {\n    onMouseOutFunction = handler.asDynamic()\n}\n\n/**\n * Adds an onMouseUp handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseup_event\n */\nfun CommonAttributeGroupFacade.onMouseUp(handler: (MouseEvent) -> Unit) {\n    onMouseUpFunction = handler.asDynamic()\n}\n\n/**\n * Add an onSelect handler.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/select_event\n */\nfun CommonAttributeGroupFacade.onSelect(handler: (InputEvent) -> Unit) {\n    onSelectFunction = handler.asDynamic()\n}\n\n/**\n * onSubmit handler\n */\nfun CommonAttributeGroupFacade.onSubmit(handler: (Event) -> Unit) {\n    onSubmitFunction = {\n        it.preventDefault()\n        handler(it.asDynamic())\n    }\n}\n","package de.peekandpoke.kraft.addons.forms\n\nimport de.peekandpoke.kraft.messages.MessageBase\n\n\nclass FormFieldInputChanged<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n\nclass FormFieldMountedMessage<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n\nclass FormFieldUnmountedMessage<P>(val field: FormField<P>) : MessageBase<FormField<P>>(field)\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Represent the route that is currently selected as active route by a [Router]\n */\ndata class ActiveRoute(\n    val uri: String,\n    val matchedRoute: Route.Match,\n    val mountedRoute: MountedRoute\n) {\n    /** Shortcut for getting the pattern of the route */\n    val pattern: String = matchedRoute.pattern\n\n    /** Shortcut for getting the route definition */\n    val route: Route = matchedRoute.route\n\n    /**\n     * Renders the content which is associated with the [mountedRoute]\n     */\n    fun render(flow: FlowContent) = mountedRoute.view(flow, matchedRoute)\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Represents a [Route] that is mounted by a [Router]\n *\n * The [middlewares] are called in order once this [route] is matched and is about to become the [ActiveRoute].\n *\n * The [view] is the displayable content associated with the [route]\n */\ndata class MountedRoute(\n    val route: Route,\n    val middlewares: List<RouterMiddleware>,\n    val view: FlowContent.(Route.Match) -> Unit\n) {\n    companion object {\n        val default = MountedRoute(Route.default, emptyList()) {}\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\nimport kotlinx.browser.window\nimport org.w3c.dom.events.Event\n\n/**\n * The Router\n */\nclass Router(private val mountedRoutes: List<MountedRoute>, private var enabled: Boolean) {\n\n    data class History(\n        val router: Router,\n        val entries: List<ActiveRoute>\n    ) {\n        val canGoBack: Boolean = entries.size > 1\n\n        fun navBack() {\n            router.navBack()\n        }\n    }\n\n    private val prefix = \"#\"\n\n    /** Writable stream with the current [ActiveRoute] */\n    private val _current = StreamSource(ActiveRoute(\"\", Route.Match.default, MountedRoute.default))\n\n    /** Public readonly stream with the current [ActiveRoute] */\n    val current: Stream<ActiveRoute> = _current\n\n    private val _historyEntries: MutableList<ActiveRoute> = mutableListOf()\n\n    private val _history = StreamSource(History(this, _historyEntries.toList()))\n    val history: Stream<History> = _history\n\n    init {\n        window.addEventListener(\"hashchange\", ::windowListener)\n\n        current.subscribeToStream {\n            _historyEntries.add(it)\n            _history(History(this, _historyEntries.toList()))\n        }\n    }\n\n    fun disable() {\n        enabled = false\n    }\n\n    fun enable() {\n        enabled = true\n    }\n\n    /**\n     * Navigates to the given uri.\n     */\n    fun navToUri(uri: String) {\n        if (window.location.hash != uri) {\n            window.location.hash = uri\n        } else {\n            resolveCurrentRoute()\n        }\n    }\n\n    /**\n     * Navigates to the [route] by filling in the given [routeParams] and [queryParams].\n     */\n    fun navToUri(route: Route, routeParams: Map<String, String>, queryParams: Map<String, String>) {\n        navToUri(\n            route.buildUri(routeParams = routeParams, queryParams = queryParams)\n        )\n    }\n\n    /**\n     * Navigates to the [route].\n     */\n    fun navToUri(route: Route.Match) {\n        navToUri(route = route.route, routeParams = route.routeParams, queryParams = route.queryParams)\n    }\n\n    /**\n     * Replaces the current uri with changing the history\n     */\n    fun replaceUri(uri: String) {\n\n        if (window.location.hash != uri) {\n            window.history.replaceState(\n                null,\n                \"\",\n                window.location.pathname + uri\n            )\n            // Remove the last from the history\n            _historyEntries.removeLast()\n            // Resolve the next route\n            resolveCurrentRoute()\n        }\n    }\n\n    /**\n     * Replaces the current uri without changing the browser history.\n     */\n    fun replaceUri(route: Route, routeParams: Map<String, String>, queryParams: Map<String, String>) {\n        replaceUri(\n            route.buildUri(routeParams = routeParams, queryParams = queryParams)\n        )\n    }\n\n    /**\n     * Replaces the current uri without changing the browser history.\n     */\n    fun replaceUri(route: Route.Match) {\n        replaceUri(\n            route.route, routeParams = route.routeParams, queryParams = route.queryParams\n        )\n    }\n\n    /**\n     * Navigates to the given uri while clearing the navigation history.\n     */\n    fun clearHistoryAndNavTo(uri: String) {\n        _historyEntries.clear()\n        navToUri(uri)\n    }\n\n    /**\n     * Navigates to the previous route, when this is possible.\n     */\n    fun navBack() {\n        if (history().canGoBack) {\n            // remove the current active route\n            _historyEntries.removeLast()\n            // remove the previous active route and go back to it\n            navToUri(_historyEntries.removeLast().uri)\n        }\n    }\n\n    /**\n     * Tries to resolve the next [ActiveRoute] by looking at the browser current location.\n     *\n     * If a route is resolved then the [current] stream will be updated.\n     */\n    fun resolveCurrentRoute() {\n        // get the location from the browser\n        val location = window.location.hash.removePrefix(prefix)\n\n        // Go through all routes and try to find the first one that matches the current location\n        val resolved = mountedRoutes.asSequence()\n            // Find matches\n            .map { mounted -> mounted.route.match(location)?.let { mounted to it } }\n            // Skip all that did not match\n            .filterNotNull()\n            // Get the first match, if there is any\n            .firstOrNull()\n\n        if (resolved == null) {\n            console.error(\"Could not resolve route: $location\")\n        }\n\n        resolved?.let { (mounted, match) ->\n            // Create a context for the router middlewares\n            val ctx = RouterMiddlewareContext(this, match.route)\n            // Call all the middlewares\n            mounted.middlewares.forEach { it(ctx) }\n\n            // Do we have a redirect ?\n            when (val redirect = ctx.redirectToUri) {\n                null -> {\n                    // Notify all subscribers that the active route has changed\n                    _current(ActiveRoute(location, match, mounted))\n                }\n                else -> {\n                    // Yes so let's go to the redirect\n                    navToUri(redirect)\n                }\n            }\n        }\n    }\n\n    /**\n     * Private listener for the \"hashchange\" event\n     */\n    private fun windowListener(event: Event) {\n        if (enabled) {\n            event.preventDefault()\n\n            resolveCurrentRoute()\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport kotlinx.html.FlowContent\n\n/**\n * Helper class for building a [Router]\n */\nclass RouterBuilder {\n\n    private var enabled = true\n\n    private val mounted = mutableListOf<MountedRoute>()\n\n    private val middlewares = mutableListOf<RouterMiddleware>()\n\n    fun build() = Router(mounted.toList(), enabled)\n\n    /**\n     * Creates a router that is enabled from the beginning\n     */\n    fun enable() {\n        enabled = true\n    }\n\n    /**\n     * Creates a router that is disabled from the beginning\n     */\n    fun disabled() {\n        enabled = false\n    }\n\n    /**\n     * Mounts a [route] and associates it with the given [view].\n     *\n     * The route is mounted with all [middlewares] that are defined in the current scope.\n     */\n    fun mount(route: Route, view: FlowContent.(Route.Match) -> Unit) {\n        mounted.add(\n            MountedRoute(route, middlewares.toList(), view)\n        )\n    }\n\n    /**\n     * Uses one or multiple [RouterMiddleware]s.\n     *\n     * All routes the are mounted inside of the [scope] will be using the given [wares].\n     *\n     * The [using] function can be nested\n     */\n    fun using(vararg wares: RouterMiddleware, scope: RouterBuilder.() -> Unit) {\n        // add them all to the scope\n        middlewares.addAll(wares)\n        // run the scope\n        scope()\n        // remove all middlewares from the scope\n        repeat(wares.size) { middlewares.removeLast() }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.key\nimport de.peekandpoke.kraft.streams.addons.distinct\nimport de.peekandpoke.kraft.streams.addons.map\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.window\nimport kotlinx.html.Tag\nimport kotlinx.html.div\n\n/**\n * The router component displays the view that is associated with the [ActiveRoute] of the given [Router]\n */\n@Suppress(\"FunctionName\")\nfun Tag.RouterComponent(router: Router) = comp(RouterComponent.Props(router)) {\n    RouterComponent(it)\n}\n\nclass RouterComponent internal constructor(ctx: Ctx<Props>) : Component<RouterComponent.Props>(ctx) {\n\n    data class Props(\n        val router: Router\n    )\n\n    ////  STATE  ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private val current: ActiveRoute by subscribingTo(props.router.current)\n\n    private val currentUri: String by subscribingTo(\n        props.router.current\n            .map { it.uri.split(\"?\").firstOrNull() ?: \"\" }\n            .distinct()\n    ) {\n        scrollUp()\n    }\n\n    ////  IMPL  ////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private fun scrollUp() {\n        dom?.let {\n            window.scrollTo(0.0, 0.0)\n        }\n    }\n\n    override fun VDom.render() {\n        div(classes = \"router\") {\n            // We define a key, so that the VDomEngine does a full redraw of the content, when the matched route changes\n            key = currentUri\n\n            current.render(this)\n        }\n    }\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamWrapper\n\n/**\n * Ignores duplicate values and thus only publishes when the value has changed.\n *\n * By default, the comparison between the previous and current value is not strict ==.\n * You can set [strict] to true to use strict === comparison\n */\nfun <T> Stream<T>.distinct(strict: Boolean = false): Stream<T> =\n    StreamDistinctOperator(wrapped = this, strict = strict)\n\n/**\n * Ignores duplicate values and thus only publishes when the value has changed.\n *\n * The comparison between the previous and current value is NOT strict, using ==.\n */\nfun <T> Stream<T>.distinct(): Stream<T> =\n    StreamDistinctOperator(wrapped = this, strict = false)\n\n/**\n * Ignores duplicate values and thus only publishes when the value has changed.\n *\n * The comparison between the previous and current value IS strict, using ===.\n */\nfun <T> Stream<T>.distinctStrict(): Stream<T> =\n    StreamDistinctOperator(wrapped = this, strict = true)\n\n/**\n * Operator impl\n */\nprivate class StreamDistinctOperator<T>(\n    wrapped: Stream<T>,\n    private val strict: Boolean,\n) : StreamWrapper<T>(wrapped = wrapped) {\n\n    private var latest: T = wrapped()\n\n    override fun invoke(): T = latest\n\n    override fun handleIncoming(value: T) {\n\n        val accept = when (strict) {\n            true -> value !== latest\n            else -> value != latest\n        }\n\n        latest = value\n\n        if (accept) {\n            super.handleIncoming(value)\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.routing\n\n/**\n * A [RouterMiddleware] is just a function with [RouterMiddlewareContext] as the receiver\n */\ntypealias RouterMiddleware = RouterMiddlewareContext.() -> Unit\n\n/**\n * Helper for defining a router middleware\n */\nfun routerMiddleware(func: RouterMiddleware): RouterMiddleware = func\n\n/**\n * The context for all middle wares\n */\nclass RouterMiddlewareContext(\n    val router: Router,\n    val route: Route,\n) {\n    var redirectToUri: String? = null\n        private set\n\n    fun redirectTo(uri: String) {\n        redirectToUri = uri\n    }\n}\n",null,"package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.FieldOptions\nimport de.peekandpoke.kraft.addons.forms.GenericFormField\nimport de.peekandpoke.kraft.addons.forms.KraftFormsDsl\nimport de.peekandpoke.kraft.addons.forms.TextAreaOptions\nimport de.peekandpoke.kraft.addons.semanticui.forms.UiTextAreaComponent.Options\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.components.onInput\nimport de.peekandpoke.kraft.semanticui.ui\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.window\nimport kotlinx.css.Overflow\nimport kotlinx.css.maxHeight\nimport kotlinx.css.overflowY\nimport kotlinx.css.vh\nimport kotlinx.html.TEXTAREA\nimport kotlinx.html.Tag\nimport kotlinx.html.textArea\nimport org.w3c.dom.HTMLTextAreaElement\n\n@Suppress(\"FunctionName\")\n@KraftFormsDsl\nfun Tag.UiTextArea(\n    value: String,\n    onChange: (String) -> Unit,\n    builder: Options.() -> Unit = {},\n) = comp(\n    UiTextAreaComponent.Props(\n        value = value,\n        onChange = onChange,\n        options = Options().apply(builder),\n    )\n) {\n    UiTextAreaComponent(it)\n}\n\nclass UiTextAreaComponent(ctx: Ctx<Props>) :\n    GenericFormField<String, Options, UiTextAreaComponent.Props>(ctx) {\n\n    class Options : FieldOptions.Base<String>(), TextAreaOptions<String>, SemanticOptions<String>\n\n    data class Props(\n        override val value: String,\n        override val onChange: (String) -> Unit,\n        override val options: Options,\n    ) : GenericFormField.Props<String, Options>\n\n    override fun onMount() {\n        super.onMount()\n\n        options.autofocusValue()?.takeIf { it }?.let {\n            focus(\"textarea\")\n        }\n    }\n\n    private val isVerticalAutoResize get() = options.verticalAutoResize.getOrDefault(true)\n\n    override fun VDom.render() {\n        ui.with(options.appear.getOrDefault { this }).given(hasErrors) { error }.field {\n\n            renderLabel(\"textarea\")\n\n            textArea {\n                css {\n                    maxHeight = 50.vh\n                    overflowY = Overflow.auto\n                }\n\n                applyAll()\n\n                +currentValue\n            }\n\n            renderErrors(this)\n        }\n\n        // Apply automatic vertical resize\n        if (isVerticalAutoResize) {\n            window.requestAnimationFrame {\n                val textarea = dom?.querySelector(\"textarea\") as? HTMLTextAreaElement\n\n                textarea?.let { t ->\n                    t.style.height = \"auto\"\n                    t.style.height = \"${t.scrollHeight + 2}px\"\n                }\n            }\n        }\n    }\n\n    fun TEXTAREA.applyAll() {\n        track()\n\n        applyName()\n        applyPlaceholder()\n    }\n\n    fun TEXTAREA.track() {\n        onInput {\n            val target = it.target as HTMLTextAreaElement\n\n//            if (options.verticalAutoResize() == true) {\n//                target.style.height = \"auto\"\n//                target.style.height = \"${target.scrollHeight + 6}px\"\n//            }\n\n            setValue(target.value)\n        }\n    }\n\n    private fun TEXTAREA.applyName() {\n        options.placeholder()?.let { name = it }\n    }\n\n    private fun TEXTAREA.applyPlaceholder() {\n        options.placeholder()?.takeIf { it.isNotBlank() }?.let {\n            placeholder = it\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.FormField\nimport de.peekandpoke.kraft.semanticui.ui\nimport kotlinx.html.FlowContent\n\nfun <P> FormField<P>.renderErrors(flow: FlowContent) {\n    renderErrors(this, flow)\n}\n\nfun <P> renderErrors(field: FormField<P>, flow: FlowContent) {\n    flow.apply {\n        if (field.touched) {\n            field.errors.filter { it.isNotBlank() }.forEach { error ->\n                ui.basic.red.pointing.label { +error }\n            }\n        }\n    }\n}\n","package de.peekandpoke.kraft.addons.semanticui.forms\n\nimport de.peekandpoke.kraft.addons.forms.CheckboxOptions\nimport de.peekandpoke.kraft.addons.forms.FieldOptions\nimport de.peekandpoke.kraft.addons.forms.InputOptions\nimport de.peekandpoke.kraft.addons.forms.KraftFormsSettingDsl\nimport de.peekandpoke.kraft.components.onClick\nimport de.peekandpoke.kraft.semanticui.*\nimport de.peekandpoke.ultra.common.TypedKey\nimport kotlinx.html.DIV\nimport kotlinx.html.InputType\n\ninterface SemanticOptions<T> : FieldOptions<T> {\n\n    companion object {\n        val appearKey = TypedKey<SemanticFn>(\"appear\")\n    }\n\n    interface Checkbox<T> : CheckboxOptions<T> {\n\n        companion object {\n            val styleKey = TypedKey<SemanticFn>(\"style\")\n        }\n\n        @KraftFormsSettingDsl\n        val style get() = access(styleKey)\n\n        @KraftFormsSettingDsl\n        fun toggle() {\n            style { toggle }\n        }\n\n        @KraftFormsSettingDsl\n        fun slider() {\n            style { slider }\n        }\n    }\n\n    interface Input<T> : InputOptions<T> {\n        companion object {\n            val wrapFieldWithKey = TypedKey<SemanticFn>(\"wrap-field-with\")\n            val beforeFieldKey = TypedKey<DIV.(UiInputFieldComponent<*, *>) -> Unit>(\"before-field\")\n            val afterFieldKey = TypedKey<DIV.(UiInputFieldComponent<*, *>) -> Unit>(\"after-field\")\n        }\n\n        @JsName(\"rightIcon\")\n        @KraftFormsSettingDsl\n        fun rightIcon(iconFn: SemanticIconFn) {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = { icon.iconFn().invoke() }\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"clearingRightIcon\")\n        @KraftFormsSettingDsl\n        fun rightClearingIcon(iconFn: SemanticIconFn = { grey.times }) {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = {\n                icon.link.iconFn().invoke {\n                    onClick { _ ->\n                        it.setInput(\"\")\n                        it.focus(\"input\")\n                    }\n                }\n            }\n\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"revealRevealPasswordIcon\")\n        @KraftFormsSettingDsl\n        fun revealRevealPasswordIcon() {\n            attributes[wrapFieldWithKey] = semantic { right.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = {\n\n                val type = it.effectiveType ?: InputType.password\n\n                val iconFn = when (type) {\n                    InputType.password -> semanticIcon { eye_outline }\n                    else -> semanticIcon { eye_slash_outline }\n                }\n\n                icon.link.iconFn().invoke {\n                    onClick { _ ->\n                        it.typeOverride = when (type) {\n                            InputType.password -> InputType.text\n                            else -> InputType.password\n                        }\n                    }\n                }\n            }\n\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"leftIcon\")\n        @KraftFormsSettingDsl\n        fun leftIcon(iconFn: SemanticIconFn) {\n            attributes[wrapFieldWithKey] = semantic { left.icon.input }\n\n            val fn: DIV.(UiInputFieldComponent<*, *>) -> Unit = { icon.iconFn().invoke() }\n            attributes[afterFieldKey] = fn\n        }\n\n        @JsName(\"rightLabel\")\n        @KraftFormsSettingDsl\n        fun rightLabel(labelFn: DIV.(UiInputFieldComponent<T, *>) -> Unit) {\n            attributes[wrapFieldWithKey] = semantic { right.labeled.input }\n\n            @Suppress(\"UNCHECKED_CAST\")\n            attributes[afterFieldKey] = labelFn as DIV.(UiInputFieldComponent<*, *>) -> Unit\n        }\n\n        @JsName(\"leftLabel\")\n        @KraftFormsSettingDsl\n        fun leftLabel(labelFn: DIV.(UiInputFieldComponent<T, *>) -> Unit) {\n            attributes[wrapFieldWithKey] = semantic { left.labeled.input }\n\n            @Suppress(\"UNCHECKED_CAST\")\n            attributes[beforeFieldKey] = labelFn as DIV.(UiInputFieldComponent<*, *>) -> Unit\n        }\n\n        @KraftFormsSettingDsl\n        fun wrapFieldWith(): (SemanticTag.() -> SemanticTag)? = attributes[wrapFieldWithKey]\n\n        @KraftFormsSettingDsl\n        fun renderBeforeField(): (DIV.(UiInputFieldComponent<*, *>) -> Unit)? = attributes[beforeFieldKey]\n\n        @KraftFormsSettingDsl\n        fun renderAfterField(): (DIV.(UiInputFieldComponent<*, *>) -> Unit)? = attributes[afterFieldKey]\n    }\n\n    @KraftFormsSettingDsl\n    val appear get() = access(appearKey)\n}\n\n","package de.peekandpoke.kraft.addons.styling\n\nimport kotlinx.css.CssBuilder\nimport kotlinx.html.CommonAttributeGroupFacade\nimport kotlinx.html.style\n\ndata class InlineStyle(val css: String)\n\nfun inlineStyle(block: CssBuilder.() -> Unit): InlineStyle = InlineStyle(CssBuilder().apply(block).toString())\n\nfun CommonAttributeGroupFacade.css(block: CssBuilder.() -> Unit) = css(CssBuilder().apply(block))\n\nfun CommonAttributeGroupFacade.css(builder: CssBuilder) {\n    style = builder.toString()\n}\n\nfun CommonAttributeGroupFacade.css(css: InlineStyle) {\n    style = css.css\n}\n\n","package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.components.state.ComponentStateProperty\nimport de.peekandpoke.kraft.components.state.ComponentStreamProperty\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\nimport de.peekandpoke.kraft.streams.Unsubscribe\nimport de.peekandpoke.kraft.utils.launch\nimport de.peekandpoke.kraft.vdom.VDom\nimport de.peekandpoke.kraft.vdom.VDomEngine\nimport de.peekandpoke.ultra.common.MutableTypedAttributes\nimport kotlinx.coroutines.delay\nimport org.w3c.dom.HTMLElement\nimport kotlin.properties.ReadOnlyProperty\n\n/**\n * Base class of all Components\n */\n@Suppress(\"FunctionName\", \"Detekt.TooManyFunctions\")\nabstract class Component<PROPS>(val ctx: Ctx<PROPS>) {\n\n    /** The attributes of the component */\n    val attributes: MutableTypedAttributes = MutableTypedAttributes.empty()\n\n    /** Accessor for the parent component */\n    val parent: Component<*>? get() = _parent\n\n    /** Public getter for the Props */\n    val props: PROPS get() = _props\n\n    /** The Dom node to which the component is rendered */\n    val dom: HTMLElement? get() = _dom\n\n    /** Pointer to the low level bridge Component for example for Preact */\n    internal var lowLevelBridgeComponent: Any? = null\n\n    /** Backing field for the [parent] */\n    private var _parent: Component<*>? = ctx.parent\n\n    /** Backing field for the [props] */\n    private var _props: PROPS = ctx.props\n\n    /** Backing field for the [dom] */\n    private var _dom: HTMLElement? = null\n\n    /** Flag indicating if the component needs to be redrawn */\n    private var needsRedraw = true\n\n    /** Render cache with the last render result */\n    private var renderCache: dynamic = null\n\n    /** A list of stream unsubscribe functions. Will be called when the component is removed */\n    private val unSubscribers = mutableListOf<Unsubscribe>()\n\n    /** Map of state values of any kind */\n    internal val internalData = mutableMapOf<String, Any?>()\n\n    /**\n     * Every component needs to implement this method\n     */\n    abstract fun VDom.render()\n\n    //  Life-cycle hooks  /////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Called when the component is mounted\n     */\n    open fun onMount() {\n    }\n\n    /**\n     * Called when the dom was updated. This is called after the render cycle.\n     */\n    open fun onUpdate() {\n    }\n\n    /**\n     * Called when the component was removed from the dom\n     */\n    open fun onUnmount() {\n    }\n\n    /**\n     * Called when the component is about to receive new props.\n     *\n     * This function is only called when shouldRedraw(nextProps) returns true.\n     *\n     * @param newProps      The new props the component just received\n     * @param previousProps The previous props the component had\n     */\n    open fun onNextProps(newProps: PROPS, previousProps: PROPS) {\n        // noop\n    }\n\n    /**\n     * Returns 'true' when the component should redraw.\n     *\n     * By default, returns [props] != [nextProps]\n     */\n    open fun shouldRedraw(nextProps: PROPS): Boolean {\n//        console.log(\"nextProps\", this, nextProps, props, nextProps != props)\n        return props != nextProps\n    }\n\n    /**\n     * Triggers a redraw\n     */\n    fun triggerRedraw() {\n        if (needsRedraw) {\n            return\n        }\n\n        needsRedraw = true\n\n        ctx.engine.triggerRedraw(this)\n    }\n\n    //  Stream Helpers  ///////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Subscribes to a [Stream].\n     *\n     * When the components is destroyed, the subscription will be unsubscribed automatically.\n     */\n    operator fun <T> Stream<T>.invoke(handler: (T) -> Unit): () -> Unit {\n\n        return this.subscribeToStream(handler).apply {\n            unSubscribers.add(this)\n        }\n    }\n\n    /**\n     * Subscribes to a [Stream].\n     *\n     * When the components is destroyed, the subscription will be unsubscribed automatically.\n     */\n    internal fun <T> Stream<T>.subscribe(handler: (T) -> Unit): () -> Unit = this(handler)\n\n    //  State Helpers  ///////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Creates a read write property for the components state.\n     *\n     * When the value of the property is changed the component will redraw itself.\n     *\n     * @param initial  The initial value of the property\n     * @param onChange Callback to be called when the value has changed\n     */\n    fun <T> value(initial: T, onChange: ((T) -> Unit)? = null): ComponentStateProperty<T> {\n\n        return ComponentStateProperty(\n            component = this,\n            initialValue = initial,\n            onChange = onChange\n        )\n    }\n\n    /**\n     * Creates a property that is subscribed to a stream.\n     *\n     * The property will always contain the current value of the stream.\n     * When a new value is received from the stream the component redraws itself.\n     *\n     * @param stream The stream to subscribe to.\n     */\n    fun <T> subscribingTo(stream: Stream<T>, onNext: ((T) -> Unit)? = null): ReadOnlyProperty<Any?, T> {\n\n        var first = true\n\n        stream {\n\n            // The first value will be received right away.\n            // This can lead to situations where the [onNext] callback tries to use the property right away.\n            // But the property is not yet initialized and a very cryptic null pointer errors will arise.\n            // To work around this, we hold the first value back, because the property will be initialized properly.\n            if (first) {\n                first = false\n\n                launch {\n                    delay(1)\n                    // notify about the change and trigger redraw\n                    onNext?.invoke(it)\n                    // redraw the component\n                    triggerRedraw()\n                }\n            } else {\n                // notify about the change and trigger redraw\n                onNext?.invoke(it)\n                // redraw the component\n                triggerRedraw()\n            }\n        }\n\n        return ReadOnlyProperty { _, _ -> stream() }\n    }\n\n    /**\n     * Creates a property that is backed by a [StreamSource]\n     *\n     * When ever a value is written to the property it will also by passed into the stream.\n     * The stream will be configured using [config] and will be then be subscribed to.\n     *\n     * This way we can implement e.g. debouncing of input values, for example:\n     *\n     * ```\n     * private var search by stream(\"\", { debounce(300) }) { reload() }\n     * ```\n     *\n     * @param initial The initial value\n     * @param config  Configures the stream before subscribing to it\n     * @param handler Handler for values published by the stream\n     */\n    fun <T> stream(\n        initial: T,\n        config: (Stream<T>.() -> Stream<T>)? = null,\n        handler: (T) -> Unit = {}\n    ): ComponentStreamProperty<T> {\n\n        val stream = StreamSource(initial)\n\n        // Configure the stream, subscribe and invoke the handler with all new values\n        val configured = when (config) {\n            null -> stream\n            else -> stream.config()\n        }\n\n        // Subscribe to the configured stream.\n        // NOTICE: little hack here with \"launch\", to prevent the value being published twice.\n        launch {\n            delay(1)\n            configured { handler(it) }\n        }\n\n        return ComponentStreamProperty(component = this, stream = stream)\n    }\n\n    //  Ref Helpers  /////////////////////////////////////////////////////////////////////////////////////////////////\n\n    fun <C : Component<*>> createRef() = ComponentRef.Tracker<C>()\n\n    //  Internal functions  //////////////////////////////////////////////////////////////////////////////////////////\n\n    /**\n     * Internal function for setting the [dom] element of the component\n     */\n    private fun _setDom(dom: HTMLElement?) {\n        this._dom = dom\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component is about to be rendered.\n     *\n     * Return 'true' when the component needs a re-draw.\n     *\n     * The [newCtx] contains the next set of [PROPS]. These are passed to [shouldRedraw].\n     */\n    internal fun _internalShouldComponentUpdate(newCtx: Ctx<PROPS>): Boolean {\n\n        if (shouldRedraw(newCtx.props)) {\n            needsRedraw = true\n        }\n\n        val previousProps = _props\n\n        _props = newCtx.props\n        _parent = newCtx.parent\n\n        onNextProps(_props, previousProps)\n\n        return needsRedraw\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component was mounted.\n     */\n    internal fun _internalOnMount(dom: HTMLElement?) {\n        _setDom(dom)\n        onMount()\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component was updated.\n     */\n    internal fun _internalOnUpdate(dom: HTMLElement?) {\n        _setDom(dom)\n        onUpdate()\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] when the component is removed from the DOM.\n     *\n     * Unsubscribes all async listeners.\n     * Calls [onUnmount] on the component.\n     * Clears the [dom] reference.\n     */\n    internal fun _internalOnUnmount() {\n        // unsubscribe from all stream subscriptions\n        unSubscribers.forEach { it() }\n\n        onUnmount()\n\n        _setDom(null)\n    }\n\n    /**\n     * Internal function called by the [VDomEngine] to render the component.\n     *\n     * This method checks for [needsRedraw].\n     * When 'true' then [render] method of the component is called and the result is put into the [renderCache].\n     * When 'false' the [render] method is not called and the [renderCache] is returned.\n     */\n    internal fun _internalRender(): dynamic {\n        if (!needsRedraw) {\n            return renderCache\n        }\n\n        needsRedraw = false\n\n//        console.log(\"rendering component\", this)\n\n        renderCache = ctx.engine.render(this) { render() }\n\n        return renderCache\n    }\n}\n","package de.peekandpoke.kraft.components\n\nimport de.peekandpoke.kraft.vdom.VDomEngine\n\ntypealias NoProps = Ctx<Any?>\n\ndata class Ctx<out PROPS>(\n    val engine: VDomEngine,\n    val parent: Component<*>?,\n    val props: PROPS\n) {\n    companion object {\n        fun of(engine: VDomEngine) = Ctx(engine, null, null)\n    }\n}\n","package de.peekandpoke.kraft.components\n\n/**\n * Base component that has no props and no state\n */\nabstract class PureComponent(ctx: NoProps) : Component<Any?>(ctx)\n","package de.peekandpoke.kraft.components.state\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.utils.launch\nimport kotlin.properties.ObservableProperty\nimport kotlin.reflect.KProperty\n\nclass ComponentStateProperty<T>(\n    private val component: Component<*>,\n    private val initialValue: T,\n    private val onChange: ((T) -> Unit)? = null,\n) : ObservableProperty<T>(initialValue) {\n\n    override fun afterChange(property: KProperty<*>, oldValue: T, newValue: T) {\n        if (oldValue != newValue) {\n            // notify about the change and trigger redraw\n            onChange?.invoke(newValue)\n            // force the component to redraw\n            component.triggerRedraw()\n        }\n    }\n\n    infix fun setupBy(block: suspend () -> Unit): ComponentStateProperty<T> = apply {\n        launch { block() }\n    }\n\n    infix fun onChange(onChange: (T) -> Unit): ComponentStateProperty<T> =\n        ComponentStateProperty(component = component, initialValue = initialValue, onChange = onChange)\n}\n","package de.peekandpoke.kraft.messages\n\n/**\n * Base impl for [Message].\n */\nabstract class MessageBase<S>(override val sender: S) : Message<S> {\n    /** Property indicating if the propagation of the message was stopped */\n    override val isStopped get() = _isStopped\n\n    /** Backing field for isStopped */\n    private var _isStopped = false\n\n    /** Stops the event from propagation */\n    fun stop() {\n        _isStopped = true\n    }\n}\n\n","package de.peekandpoke.kraft.messages\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSource\n\nclass MessagesHandler {\n    private val _stream = StreamSource<Message<*>?>(null)\n\n    val stream: Stream<Message<*>?> = _stream\n\n    fun send(message: Message<*>) {\n        _stream(message)\n    }\n}\n","package de.peekandpoke.kraft.messages\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.ultra.common.TypedKey\n\n/**\n * The key used to store the [MessagesHandler] on the components properties\n */\nprivate val MessagesKey = TypedKey<MessagesHandler>(\"messages\")\n\n/**\n * Get the [MessagesHandler] for the [Component]\n */\nval Component<*>.messages: MessagesHandler\n    get() = attributes.getOrPut(MessagesKey) {\n        MessagesHandler()\n    }\n\n/**\n * Listens for a [Message] of the given type [M].\n */\ninline fun <reified M : Message<*>> Component<*>.onMessage(noinline handler: (M) -> Unit) {\n    messages.stream { next ->\n        next?.let {\n            (next as? M)?.let {\n                handler(it)\n            }\n        }\n    }\n}\n\n/**\n * Send the given [message].\n */\nfun <M : Message<*>> Component<*>.sendMessage(message: M) {\n\n    // We do not dispatch the message on the component that sent it\n    if (message.sender != this) {\n        messages.send(message)\n    } else {\n        // but we will trigger a re-draw\n        triggerRedraw()\n    }\n\n    // Continue with the parent if the message was not stopped\n    if (!message.isStopped) {\n        parent?.sendMessage(message)\n    }\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for stream wrappers that map the value type from [WRAPPED] to [RESULT]\n *\n * @param WRAPPED The value type of the wrapped stream\n * @param RESULT  The value type of the resulting stream\n */\nopen class StreamMapper<WRAPPED, RESULT>(\n    /** The wrapped stream */\n    private val wrapped: Stream<WRAPPED>,\n    /** Maps the value of the [wrapped] stream to the result ([WRAPPED] to [RESULT]) */\n    private val mapper: (WRAPPED) -> RESULT,\n    /** Calculates the initial value */\n    private val initial: () -> RESULT = { mapper(wrapped()) }\n) : StreamWrapperBase<WRAPPED, RESULT>(\n    wrapped = wrapped\n) {\n    private var latest: RESULT? = null\n\n    override fun invoke(): RESULT = latest ?: initial().also { latest = it }\n\n    override fun handleIncoming(value: WRAPPED) {\n        mapper(value)?.let {\n            latest = it\n            publish(it)\n        }\n    }\n}\n","package de.peekandpoke.kraft.streams\n\nopen class StreamSourceImpl<T>(initialValue: T) : StreamSource<T> {\n\n    /**\n     * The current value of the stream\n     */\n    protected var current: T = initialValue\n\n    /**\n     * All subscriptions to the stream\n     */\n    override val subscriptions: MutableSet<(T) -> Unit> = mutableSetOf()\n\n    /**\n     * @see StreamSource.invoke\n     */\n    override operator fun invoke(): T = current\n\n    /**\n     * @see StreamSource.invoke\n     */\n    override operator fun invoke(next: T) {\n        current = next\n        subscriptions.forEach { it(current) }\n    }\n\n    /**\n     * @see StreamSource.subscribeToStream\n     */\n    override fun subscribeToStream(sub: StreamHandler<T>): Unsubscribe {\n        this.subscriptions.add(sub)\n\n        onSub()\n\n        sub(current)\n\n        return {\n            subscriptions.remove(sub)\n            onUnSub()\n        }\n    }\n\n    /**\n     * @see StreamSource.removeAllSubscriptions\n     */\n    override fun removeAllSubscriptions() {\n        this.subscriptions.clear()\n    }\n\n    /**\n     * Hook called when a subscription was added\n     */\n    protected open fun onSub() {}\n\n    /**\n     * Hook called when a subscription was unsubscribed\n     */\n    protected open fun onUnSub() {}\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for stream wrappers that keep the value type\n *\n * @param [wrapped] The wrapped stream\n */\nabstract class StreamWrapper<T>(private val wrapped: Stream<T>) : StreamWrapperBase<T, T>(\n    wrapped = wrapped\n) {\n    override fun invoke(): T = wrapped()\n\n    override fun handleIncoming(value: T): Unit = publish(value)\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base class for all stream wrappers\n */\nabstract class StreamWrapperBase<WRAPPED, RESULT>(\n    /** The wrapped stream */\n    private val wrapped: Stream<WRAPPED>,\n) : Stream<RESULT> {\n\n    /** Unsubscribe function for the subscription on the wrapped stream */\n    private var wrappedUnsubscribe: Unsubscribe? = null\n\n    /** All subscriptions to this stream */\n    private val subscriptions = mutableSetOf<StreamHandler<RESULT>>()\n\n    /**\n     * Handles the next incoming value of the wrapped stream\n     */\n    protected abstract fun handleIncoming(value: WRAPPED)\n\n    /**\n     * Adds a subscription to the stream.\n     *\n     * On subscribing the subscription is immediately called with the current value.\n     *\n     * Returns an unsubscribe function. Calling this function unsubscribes from the stream.\n     *\n     * NOTICE: It is the callers' obligation to unsubscribe from the stream.\n     */\n    override fun subscribeToStream(sub: StreamHandler<RESULT>): Unsubscribe {\n\n        // Subscribe to the wrapped stream if necessary\n        if (wrappedUnsubscribe == null) {\n            // console.log(\"Subscribing to wrapped\")\n\n            wrappedUnsubscribe = wrapped.subscribeToStream {\n                handleIncoming(it)\n            }\n        }\n\n        this.subscriptions.add(sub)\n\n        sub(invoke())\n\n        return {\n            subscriptions.remove(sub)\n\n            // Unsubscribe from the wrapped stream if necessary\n            if (subscriptions.isEmpty()) {\n                // console.log(\"Un-Subscribing from wrapped\")\n\n                wrappedUnsubscribe?.invoke()\n                wrappedUnsubscribe = null\n            }\n        }\n    }\n\n    /**\n     * Publishes the next value\n     */\n    protected fun publish(value: RESULT) {\n        subscriptions.forEach { it(value) }\n    }\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamMapper\n\n/**\n * Maps incoming values from type [IN] to type [OUT].\n */\nfun <IN, OUT> Stream<IN>.map(mapper: (IN) -> OUT): Stream<OUT> {\n    return StreamMapper(this, mapper)\n}\n","package de.peekandpoke.kraft.streams.addons\n\nimport de.peekandpoke.kraft.streams.Stream\nimport de.peekandpoke.kraft.streams.StreamSourceImpl\nimport kotlinx.browser.window\nimport kotlin.js.Date\nimport kotlin.math.round\n\nfun ticker(intervalMs: Int): Stream<Long> = Ticker(intervalMs)\n\ninternal class Ticker(\n    private val intervalMs: Int = 1000,\n) : StreamSourceImpl<Long>(0) {\n\n    private val start = Date.now()\n\n    private var interval: Int? = null\n\n    override fun onSub() {\n        if (interval == null) {\n            interval = window.setInterval(::handler, intervalMs)\n        }\n    }\n\n    override fun onUnSub() {\n        if (subscriptions.isEmpty() && interval != null) {\n            window.clearInterval(interval!!)\n            interval = null\n        }\n    }\n\n    private fun handler() {\n        val now = Date.now()\n\n        val counter = round((now - start) / intervalMs).toLong()\n\n        this.invoke(counter)\n    }\n}\n","package de.peekandpoke.kraft.utils\n\nimport kotlinx.coroutines.*\n\nprivate val scopeJob = SupervisorJob()\n\nprivate val scope = CoroutineScope(scopeJob)\n\nfun <T : Any?> launch(block: suspend () -> T) {\n    scope.launch {\n        block()\n    }\n}\n\nfun <T : Any?> async(block: suspend () -> T): Deferred<T> {\n    return scope.async {\n        block()\n    }\n}\n","package de.peekandpoke.kraft.utils\n\nimport kotlinx.js.Object\n\nfun jsIsObject(o: dynamic): Boolean = jsTypeOf(o) == \"object\"\n\n@Suppress(\"UNUSED_PARAMETER\")\nfun jsIsArray(o: dynamic): Boolean = js(\"(Array.isArray(o))\") as Boolean\n\nfun jsObject(): dynamic = js(\"({})\")\nfun jsArray(): dynamic = js(\"([])\")\n\nfun <T> jsObject(block: T.() -> Unit): T {\n    @Suppress(\"UNCHECKED_CAST\")\n    val obj = jsObject() as T\n    block(obj)\n    return obj\n}\n\nfun jsObjectOf(vararg pairs: Pair<String, dynamic>): dynamic {\n    val obj = jsObject()\n\n    pairs.forEach { (k, v) -> obj[k] = v }\n\n    return obj\n}\n\nfun jsObjectToMap(obj: dynamic): Map<String, Any?> {\n    return Object.keys(obj as Any)\n        .associateWith { jsToKotlin(obj[it]) }\n}\n\nfun jsArrayToList(arr: dynamic): List<Any?> {\n    val result = mutableListOf<Any?>()\n\n    arr.forEach { item ->\n        result.add(jsToKotlin(item))\n    }\n\n    return result.toList()\n}\n\nfun jsToKotlin(it: dynamic): Any? {\n    if (it == null) {\n        return null\n    }\n\n    if (jsIsArray(it)) {\n        return jsArrayToList(it)\n    }\n\n    if (jsIsObject(it)) {\n        return jsObjectToMap(it)\n    }\n\n    @Suppress(\"UnsafeCastFromDynamic\")\n    return it\n}\n\n/**\n * Converts a map to a raw javascript object\n */\nval <T> Map<String, T>.js\n    get() : dynamic {\n        val obj = jsObject()\n\n        forEach { (k, v) -> obj[k] = v }\n\n        return obj\n    }\n\nval <T> List<T>.js\n    get(): dynamic {\n        val arr = jsArray()\n\n        @Suppress(\"UnsafeCastFromDynamic\")\n        forEach { arr.push(it) }\n\n        return arr\n    }\n\n","package de.peekandpoke.kraft.vdom\n\nimport de.peekandpoke.kraft.components.Component\nimport kotlinx.html.FlowContent\n\nclass VDom(engine: VDomEngine, val component: Component<*>? = null) : FlowContent {\n\n    fun render(builder: VDom.() -> Any?): dynamic {\n        builder()\n        return consumer.finalize().render()\n    }\n\n    override val consumer = engine.createTagConsumer(component)\n\n    override val attributes: MutableMap<String, String>\n        get() = mutableMapOf()\n\n    override val attributesEntries: Collection<Map.Entry<String, String>>\n        get() = emptyList()\n\n    override val emptyTag: Boolean = false\n\n    override val inlineTag: Boolean = false\n\n    override val namespace: String? = null\n\n    override val tagName: String = \"\"\n\n}\n","package de.peekandpoke.kraft.vdom\n\nimport de.peekandpoke.kraft.components.Component\nimport org.w3c.dom.HTMLElement\n\ninterface VDomEngine {\n\n    data class Options(\n        val debugMode: Boolean = false,\n    ) {\n        companion object {\n            val default = Options()\n        }\n    }\n\n    val options: Options\n\n    fun mount(element: HTMLElement, view: VDom.() -> Any?)\n\n    fun createTagConsumer(host: Component<*>?): VDomTagConsumer\n\n    fun triggerRedraw(component: Component<*>)\n\n    fun render(host: Component<*>? = null, builder: VDom.() -> Any?): dynamic {\n        return VDom(this, host).render { builder() }\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.ComponentRef\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.utils.js\nimport de.peekandpoke.kraft.utils.jsArray\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDomElement\nimport kotlinx.html.Tag\nimport kotlinx.html.Unsafe\nimport kotlinx.html.org.w3c.dom.events.Event\nimport preact.h\nimport kotlin.reflect.KClass\n\ninternal interface PreactElements {\n\n    class PreactComponentRef<C : Component<*>> : ComponentRef<C> {\n\n        internal var ll: PreactLLC? = null\n\n        override fun getComponent(): C? {\n            @Suppress(\"UNCHECKED_CAST\")\n            return ll?.getComponent() as? C?\n        }\n    }\n\n    data class RootElement(\n        val children: MutableList<VDomElement> = mutableListOf(),\n    ) : VDomElement {\n        override fun appendChild(child: VDomElement) {\n            children.add(child)\n        }\n\n        override fun render(): dynamic {\n            val result = jsArray()\n\n            for (child in children) {\n                result.push(child.render())\n            }\n\n            return result\n        }\n    }\n\n    data class ComponentElement<P, C : Component<P>>(\n        private val componentCtx: Ctx<P>,\n        private val creatorFn: (Ctx<P>) -> C,\n        private val cls: KClass<C>,\n    ) : VDomElement {\n\n        val ref = PreactComponentRef<C>()\n        val ctor = PreactLLC.getLowLevelComponentCtor(cls)\n\n        override fun render(): dynamic {\n\n            return h(\n                ctor,\n                jsObject<PreactLLCProps> {\n                    this.__ctx = componentCtx\n                    @Suppress(\"UNCHECKED_CAST\")\n                    this.__ctor = creatorFn as (Ctx<*>) -> Component<*>\n                    this.__ref = ref\n                },\n            )\n        }\n    }\n\n    data class ContentElement(\n        val content: CharSequence,\n    ) : VDomElement {\n        override fun render(): dynamic {\n            return content\n        }\n    }\n\n    data class TagElement(\n        val tag: Tag,\n        val children: MutableList<VDomElement> = mutableListOf(),\n        val events: MutableMap<String, (Event) -> Any?> = mutableMapOf(),\n    ) : VDomElement {\n\n        override fun appendChild(child: VDomElement) {\n            children.add(child)\n        }\n\n        override fun addEvent(name: String, callback: (Event) -> Any?) {\n            events[name] = callback\n        }\n\n        override fun render(): dynamic {\n            // Convert attributes to plain js object\n            val attrs = tag.attributes.js\n\n            // Create a low level array for the render results of the children\n            val childArr = jsArray()\n\n            // map the children to a native array\n            for (child in children) {\n                @Suppress(\"UnsafeCastFromDynamic\")\n                childArr.push(child.render())\n            }\n\n            // Merge the events into the attributes\n            events.forEach { (k, v) -> attrs[k] = v }\n\n            // Render with mithril\n            return h(tag.tagName, attrs, childArr)\n        }\n    }\n\n    class UnsafeContentElement : VDomElement, Unsafe {\n\n        private var _content = \"\"\n\n        val content get() = _content\n\n        override fun String.unaryPlus() {\n            _content += this\n        }\n\n        override fun render(): dynamic {\n            return h(\n                \"span\",\n                jsObject {\n                    dangerouslySetInnerHTML = jsObject {\n                        __html = content\n                    }\n                }\n            )\n        }\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.preact.PreactLLC.Companion.getLowLevelComponentCtor\nimport org.w3c.dom.HTMLElement\nimport kotlin.reflect.KClass\nimport de.peekandpoke.kraft.components.Component as KraftComponent\nimport preact.Component as PreactComponent\n\n/**\n * Internal representation of a low level [PreactComponent].\n *\n * Notice that we create a separate subclass of [PreactLLC] for each component class.\n * This is done in [getLowLevelComponentCtor].\n */\ninternal abstract class PreactLLC(\n    val props: PreactLLCProps,\n    context: dynamic,\n) : PreactComponent(props, context) {\n\n    companion object {\n\n        /**\n         * Caches the low level [PreactComponent] constructor for each [KraftComponent].\n         */\n        private val compClass2LLC = mutableMapOf<KClass<out KraftComponent<*>>, dynamic>()\n\n        /**\n         * Creates a subclass of [PreactLLC] for every unique [cls] given.\n         *\n         * The created subclass is reused for the same [cls].\n         *\n         * Why do we do this:\n         *\n         * This helps the Preact VDOM in diffing.\n         * There are some situation, where one component is swapped with another.\n         * This was leading to a lot of weird [ClassCastException] errors.\n         * This approach seems to prevent the problem.\n         */\n        internal fun getLowLevelComponentCtor(cls: KClass<out KraftComponent<*>>): dynamic {\n            return compClass2LLC.getOrPut(cls) {\n\n                // console.log(\"===== component classes: ${compClass2LLC.size} ==\")\n                // console.log(\"++ \", cls.js)\n\n                //\n                // NOTICE: This needs to be exactly here. Only like this we get a unique subclass for every cls.\n                //\n                class Impl(props: PreactLLCProps, context: dynamic) : PreactLLC(props, context)\n\n                // Return the newly created ctor\n                ::Impl.also { ctor ->\n                    // We need to do this to trick, so Preact will see this as a component type:\n                    // see https://github.com/preactjs/preact/blob/10.5.14/src/diff/index.js#L75\n                    ctor.asDynamic().prototype = jsObject {\n                        render = {}\n                    }\n\n                    // console.log(\">> $ctor\")\n                    // console.log(\">> ${ctor.hashCode()}\")\n                }\n            }\n        }\n    }\n\n    /**\n     * The [KraftComponent] which is wrapped by this low level component\n     */\n    @Suppress(\"UNCHECKED_CAST\")\n    internal var component: KraftComponent<Any?>? = (props.__ctor(props.__ctx) as KraftComponent<Any?>).also {\n        // Set this low level instance on the component\n        it.lowLevelBridgeComponent = this@PreactLLC\n        // Set this low level instance on the ref\n        props.__ref.ll = this@PreactLLC\n    }\n\n    /**\n     * Get the [KraftComponent] which is wrapped by this low level component\n     */\n    internal fun getComponent(): KraftComponent<Any?>? {\n        return component\n    }\n\n    /**\n     * Hook, called when the component was mounted into the DOM\n     *\n     * See [PreactComponent.componentDidMount]\n     */\n    override fun componentDidMount() {\n        component?._internalOnMount(getDom())\n    }\n\n    /**\n     * Hook, called when the component is about to be unmounted from the DOM\n     *\n     * See [PreactComponent.componentWillUnmount]\n     */\n    override fun componentWillUnmount() {\n        component?._internalOnUnmount()\n        component = null\n    }\n\n    /**\n     * Callback to determine whether the component should update / re-render itself\n     *\n     * See [PreactComponent.shouldComponentUpdate]\n     */\n    override fun shouldComponentUpdate(nextProps: PreactLLCProps, nextState: dynamic): Boolean {\n        // Update the ref\n        nextProps.__ref.ll = this\n\n        return component?._internalShouldComponentUpdate(nextProps.__ctx) ?: false\n    }\n\n    /**\n     * Hook, called when the component was updated / re-rendered\n     *\n     * See [PreactComponent.componentDidUpdate]\n     */\n    override fun componentDidUpdate(prevProps: dynamic, prevState: dynamic, snapshot: dynamic) {\n        component?._internalOnUpdate(getDom())\n    }\n\n    /**\n     * Renders the contents of the component.\n     *\n     * See [PreactComponent.render]\n     */\n    override fun render(props: PreactLLCProps, state: dynamic, context: dynamic): dynamic {\n        return component?._internalRender()\n    }\n\n    /**\n     * Catches component errors.\n     *\n     * See [PreactComponent.componentDidCatch]\n     */\n    override fun componentDidCatch(error: dynamic) {\n        console.log(\"componentDidCatch\", component)\n        console.error(\"Error\", error)\n\n        super.componentDidCatch(error)\n    }\n\n    /**\n     * Get the root [HTMLElement] of the rendered content of the component\n     *\n     * See [PreactComponent.base]\n     */\n    private fun getDom(): HTMLElement? = this.base as? HTMLElement\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.ComponentRef\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.vdom.VDomElement\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport kotlinx.html.Entities\nimport kotlinx.html.Tag\nimport kotlinx.html.Unsafe\nimport kotlinx.html.org.w3c.dom.events.Event\nimport kotlin.reflect.KClass\n\n/**\n * Implementation of [VDomTagConsumer] for the mithril engine\n *\n * see: https://mithril.js.org\n */\ninternal class PreactTagConsumer(\n    override val engine: PreactVDomEngine,\n    override val host: Component<*>?,\n) : VDomTagConsumer {\n\n    /** Flag whether the debug mode is enabled */\n    override val isDebugMode: Boolean = engine.options.debugMode\n\n    /** The root element */\n    private val root = PreactElements.RootElement()\n\n    /** The stack of elements we are visiting */\n    private val stack = mutableListOf<VDomElement>(root)\n\n    override fun <P, C : Component<P>> onComponent(\n        props: P,\n        creatorFn: (Ctx<P>) -> C,\n        cls: KClass<C>,\n    ): ComponentRef<C> {\n//        console.log(\"onComponent\", params, component)\n\n        val element = PreactElements.ComponentElement(\n            Ctx(engine, host, props),\n            creatorFn,\n            cls,\n        )\n\n        stack.last().appendChild(element)\n\n        return element.ref\n    }\n\n    override fun finalize(): VDomElement {\n//        console.log(\"finalize\")\n\n        return stack.first()\n    }\n\n    override fun onTagAttributeChange(tag: Tag, attribute: String, value: String?) {\n//        console.log(\"onTagAttributeChange\", tag, attribute, value)\n    }\n\n    override fun onTagComment(content: CharSequence) {\n        console.log(\"onTagComment\", content)\n    }\n\n    override fun onTagContent(content: CharSequence) {\n//        console.log(\"onTagContent\", content)\n\n        stack.last().appendChild(\n            PreactElements.ContentElement(content)\n        )\n    }\n\n    override fun onTagContentEntity(entity: Entities) {\n//        console.log(\"onTagContentEntity\", entity)\n    }\n\n    override fun onTagContentUnsafe(block: Unsafe.() -> Unit) {\n        // see https://github.com/preactjs/preact/issues/844\n        stack.last().appendChild(\n            PreactElements.UnsafeContentElement().apply(block)\n        )\n    }\n\n    override fun onTagEnd(tag: Tag) {\n//        console.log(\"onTagEnd\", tag)\n\n        stack.removeLast()\n    }\n\n    override fun onTagEvent(tag: Tag, event: String, value: (Event) -> Unit) {\n//        console.log(\"onTagEvent\", tag, event, value)\n\n        stack.last().addEvent(event, value)\n    }\n\n    override fun onTagStart(tag: Tag) {\n//        console.log(\"onTagStart\", tag)\n\n        val element = PreactElements.TagElement(\n            tag = tag\n        )\n\n        stack.last().appendChild(element)\n\n        stack.add(element)\n    }\n}\n","package de.peekandpoke.kraft.vdom.preact\n\nimport de.peekandpoke.kraft.utils.jsObject\nimport de.peekandpoke.kraft.vdom.VDom\nimport de.peekandpoke.kraft.vdom.VDomEngine\nimport de.peekandpoke.kraft.vdom.VDomTagConsumer\nimport org.w3c.dom.HTMLElement\nimport de.peekandpoke.kraft.components.Component as KraftComponent\nimport preact.Component as PreactComponent\n\nclass PreactVDomEngine(override val options: VDomEngine.Options) : VDomEngine {\n\n    companion object {\n        operator fun invoke(\n            element: HTMLElement,\n            options: VDomEngine.Options = VDomEngine.Options.default,\n            view: VDom.() -> Any?,\n        ): PreactVDomEngine {\n            return PreactVDomEngine(options).apply {\n                mount(element, view)\n            }\n        }\n    }\n\n    override fun mount(element: HTMLElement, view: VDom.() -> Any?) {\n\n        val lowLevelRoot = render { view() }\n\n        preact.render(lowLevelRoot, element)\n    }\n\n    override fun createTagConsumer(host: KraftComponent<*>?): VDomTagConsumer {\n        return PreactTagConsumer(this, host)\n    }\n\n    override fun triggerRedraw(component: KraftComponent<*>) {\n        (component.lowLevelBridgeComponent as? PreactComponent)?.setState(jsObject())\n    }\n}\n","@file:Suppress(\n        \"Detekt:TooManyFunctions\",\n        \"Detekt:LargeClass\",\n        \"Detekt:LongMethod\",\n        \"Detekt:VariableNaming\",\n)\n\npackage de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.*\n\n@Suppress(\"FunctionName\", \"PropertyName\", \"unused\", \"Detekt:TooManyFunctions\", \"Detekt:VariableNaming\")\nclass SemanticTag(\n        @PublishedApi internal val parent: Tag,\n        @PublishedApi internal val cssClasses: MutableList<String>,\n) {\n    fun _cssClasses(): String = cssClasses.filter { it.isNotBlank() }.joinToString(\" \")\n\n    fun _renderAsTag(block: Tag.() -> Unit) {\n        block(parent)\n    }\n\n    private fun attrs() = attributesMapOf(\"class\", _cssClasses())\n\n    @SemanticUiCssMarker\n    operator fun invoke(block: DIV.() -> Unit = {}): Unit = Div(block)\n\n    @SemanticUiTagMarker\n    infix fun H1(block: H1.() -> Unit): Unit = H1(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H2(block: H2.() -> Unit): Unit = H2(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H3(block: H3.() -> Unit): Unit = H3(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H4(block: H4.() -> Unit): Unit = H4(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H5(block: H5.() -> Unit): Unit = H5(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun H6(block: H6.() -> Unit): Unit = H6(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun A(block: A.() -> Unit): Unit = A(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun B(block: B.() -> Unit): Unit = B(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Button(block: BUTTON.() -> Unit): Unit = BUTTON(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Div(block: DIV.() -> Unit): Unit = DIV(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Form(block: FORM.() -> Unit): Unit = FORM(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun I(block: I.() -> Unit): Unit = I(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Input(block: INPUT.() -> Unit): Unit = INPUT(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Img(block: IMG.() -> Unit): Unit = IMG(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Label(block: LABEL.() -> Unit): Unit = LABEL(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Ol(block: OL.() -> Unit): Unit = OL(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun P(block: P.() -> Unit): Unit = P(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Span(block: SPAN.() -> Unit): Unit = SPAN(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Submit(block: BUTTON.() -> Unit): Unit = BUTTON(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Table(block: TABLE.() -> Unit): Unit = TABLE(attrs(), parent.consumer).visitNoInline(block)\n\n    @SemanticUiTagMarker\n    infix fun Ul(block: UL.() -> Unit): Unit = UL(attrs(), parent.consumer).visitNoInline(block)\n\n    // Adding Css Classes //////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    operator fun plus(cls: String): SemanticTag = apply { cssClasses.add(cls) }\n\n    @SemanticUiCssMarker\n    operator fun plus(classes: Array<out String>): SemanticTag = apply { cssClasses.addAll(classes) }\n\n    @SemanticUiCssMarker\n    inline fun with(block: SemanticTag.() -> SemanticTag): SemanticTag = this.run(block)\n\n    @SemanticUiCssMarker\n    fun with(vararg cls: String): SemanticTag = this + cls\n\n    @SemanticUiCssMarker\n    fun with(vararg cls: String, flow: DIV.() -> Unit): Unit = (this + cls).invoke(flow)\n\n    // Conditional classes\n\n    @SemanticUiConditionalMarker\n    fun given(\n            condition: Boolean,\n            action: SemanticTag.() -> SemanticTag,\n    ): SemanticTag = when (condition) {\n        false -> this\n        else -> this.action()\n    }\n\n    @SemanticUiConditionalMarker\n    fun givenNot(\n            condition: Boolean,\n            action: SemanticTag.() -> SemanticTag,\n    ): SemanticTag = given(!condition, action)\n\n    @SemanticUiConditionalMarker inline val then: SemanticTag get() = this\n\n    // SemanticUI Numbers //////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n    fun number(int: Int): SemanticTag = number(SemanticNumber.of(int))\n\n    @SemanticUiCssMarker\n    fun number(int: Int, flow: DIV.() -> Unit): Unit = number(SemanticNumber.of(int), flow)\n\n    @SemanticUiCssMarker\n    fun number(number: SemanticNumber): SemanticTag = this + number.toString()\n\n    @SemanticUiCssMarker\n    fun number(number: SemanticNumber, flow: DIV.() -> Unit): Unit = with(number.toString(), flow = flow)\n\n    @SemanticUiCssMarker val one: SemanticTag get() = this + \"one\"\n    @SemanticUiCssMarker val two: SemanticTag get() = this + \"two\"\n    @SemanticUiCssMarker val three: SemanticTag get() = this + \"three\"\n    @SemanticUiCssMarker val four: SemanticTag get() = this + \"four\"\n    @SemanticUiCssMarker val five: SemanticTag get() = this + \"five\"\n    @SemanticUiCssMarker val six: SemanticTag get() = this + \"six\"\n    @SemanticUiCssMarker val seven: SemanticTag get() = this + \"seven\"\n    @SemanticUiCssMarker val eight: SemanticTag get() = this + \"eight\"\n    @SemanticUiCssMarker val nine: SemanticTag get() = this + \"nine\"\n    @SemanticUiCssMarker val ten: SemanticTag get() = this + \"ten\"\n    @SemanticUiCssMarker val eleven: SemanticTag get() = this + \"eleven\"\n    @SemanticUiCssMarker val twelve: SemanticTag get() = this + \"twelve\"\n    @SemanticUiCssMarker val thirteen: SemanticTag get() = this + \"thirteen\"\n    @SemanticUiCssMarker val fourteen: SemanticTag get() = this + \"fourteen\"\n    @SemanticUiCssMarker val fifteen: SemanticTag get() = this + \"fifteen\"\n    @SemanticUiCssMarker val sixteen: SemanticTag get() = this + \"sixteen\"\n\n    // SemanticUI Colors ///////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker\n\n    fun color(color: SemanticColor): SemanticTag = when {\n        color.isSet -> with(color.toString())\n        else -> this\n    }\n\n    @SemanticUiCssMarker\n    fun color(color: SemanticColor, flow: DIV.() -> Unit): Unit = with(color.toString(), flow = flow)\n\n    @SemanticUiCssMarker val color: SemanticTag get() = this + \"color\"\n    @SemanticUiCssMarker val inverted: SemanticTag get() = this + \"inverted\"\n    @SemanticUiCssMarker val red: SemanticTag get() = this + \"red\"\n    @SemanticUiCssMarker val orange: SemanticTag get() = this + \"orange\"\n    @SemanticUiCssMarker val yellow: SemanticTag get() = this + \"yellow\"\n    @SemanticUiCssMarker val olive: SemanticTag get() = this + \"olive\"\n    @SemanticUiCssMarker val green: SemanticTag get() = this + \"green\"\n    @SemanticUiCssMarker val teal: SemanticTag get() = this + \"teal\"\n    @SemanticUiCssMarker val blue: SemanticTag get() = this + \"blue\"\n    @SemanticUiCssMarker val violet: SemanticTag get() = this + \"violet\"\n    @SemanticUiCssMarker val purple: SemanticTag get() = this + \"purple\"\n    @SemanticUiCssMarker val pink: SemanticTag get() = this + \"pink\"\n    @SemanticUiCssMarker val brown: SemanticTag get() = this + \"brown\"\n    @SemanticUiCssMarker val grey: SemanticTag get() = this + \"grey\"\n    @SemanticUiCssMarker val black: SemanticTag get() = this + \"black\"\n    @SemanticUiCssMarker val white: SemanticTag get() = this + \"white\"\n\n    // Sizes ///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker val short: SemanticTag get() = this + \"short\"\n    @SemanticUiCssMarker val long: SemanticTag get() = this + \"long\"\n\n    @SemanticUiCssMarker val full: SemanticTag get() = this + \"full\"\n\n    @SemanticUiCssMarker val tall: SemanticTag get() = this + \"tall\"\n\n    @SemanticUiCssMarker val mini: SemanticTag get() = this + \"mini\"\n    @SemanticUiCssMarker val tiny: SemanticTag get() = this + \"tiny\"\n    @SemanticUiCssMarker val small: SemanticTag get() = this + \"small\"\n    @SemanticUiCssMarker val medium: SemanticTag get() = this + \"medium\"\n    @SemanticUiCssMarker val large: SemanticTag get() = this + \"large\"\n    @SemanticUiCssMarker val big: SemanticTag get() = this + \"big\"\n    @SemanticUiCssMarker val huge: SemanticTag get() = this + \"huge\"\n    @SemanticUiCssMarker val massive: SemanticTag get() = this + \"massive\"\n\n    // SemanticUI Emphasis /////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker val primary: SemanticTag get() = this + \"primary\"\n    @SemanticUiCssMarker val secondary: SemanticTag get() = this + \"secondary\"\n    @SemanticUiCssMarker val tertiary: SemanticTag get() = this + \"tertiary\"\n\n    @SemanticUiCssMarker val positive: SemanticTag get() = this + \"positive\"\n    @SemanticUiCssMarker val negative: SemanticTag get() = this + \"negative\"\n\n    @SemanticUiCssMarker val info: SemanticTag get() = this + \"info\"\n    @SemanticUiCssMarker val warning: SemanticTag get() = this + \"warning\"\n    @SemanticUiCssMarker val error: SemanticTag get() = this + \"error\"\n\n    // SemanticUI Brands\n\n    @SemanticUiCssMarker val facebook: SemanticTag get() = this + \"facebook\"\n    @SemanticUiCssMarker val google_plus: SemanticTag get() = this + \"google plus\"\n    @SemanticUiCssMarker val instagram: SemanticTag get() = this + \"instagram\"\n    @SemanticUiCssMarker val linkedin: SemanticTag get() = this + \"linkedin\"\n    @SemanticUiCssMarker val telegram: SemanticTag get() = this + \"telegram\"\n    @SemanticUiCssMarker val twitter: SemanticTag get() = this + \"twitter\"\n    @SemanticUiCssMarker val vk: SemanticTag get() = this + \"vk\"\n    @SemanticUiCssMarker val whatsapp: SemanticTag get() = this + \"whatsapp\"\n    @SemanticUiCssMarker val youtube: SemanticTag get() = this + \"youtube\"\n\n    // /////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // Semantic UI Words ///////////////////////////////////////////////////////////////////////////////////////////////\n    // /////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    @SemanticUiCssMarker val _in: SemanticTag get() = this + \"in\"\n    @SemanticUiCssMarker val accordion: SemanticTag get() = this + \"accordion\"\n    @SemanticUiCssMarker val actions: SemanticTag get() = this + \"actions\"\n    @SemanticUiCssMarker val active: SemanticTag get() = this + \"active\"\n    @SemanticUiCssMarker val aligned: SemanticTag get() = this + \"aligned\"\n    @SemanticUiCssMarker val animated: SemanticTag get() = this + \"animated\"\n    @SemanticUiCssMarker val animating: SemanticTag get() = this + \"animating\"\n    @SemanticUiCssMarker val attached: SemanticTag get() = this + \"attached\"\n    @SemanticUiCssMarker val author: SemanticTag get() = this + \"author\"\n    @SemanticUiCssMarker val avatar: SemanticTag get() = this + \"avatar\"\n    @SemanticUiCssMarker val bar: SemanticTag get() = this + \"bar\"\n    @SemanticUiCssMarker val basic: SemanticTag get() = this + \"basic\"\n    @SemanticUiCssMarker val below: SemanticTag get() = this + \"below\"\n    @SemanticUiCssMarker val block: SemanticTag get() = this + \"block\"\n    @SemanticUiCssMarker val bordered: SemanticTag get() = this + \"bordered\"\n    @SemanticUiCssMarker val bottom: SemanticTag get() = this + \"bottom\"\n    @SemanticUiCssMarker val bulleted: SemanticTag get() = this + \"bulleted\"\n    @SemanticUiCssMarker val button: SemanticTag get() = this + \"button\"\n    @SemanticUiCssMarker val buttons: SemanticTag get() = this + \"buttons\"\n    @SemanticUiCssMarker val card: SemanticTag get() = this + \"card\"\n    @SemanticUiCssMarker val cards: SemanticTag get() = this + \"cards\"\n    @SemanticUiCssMarker val celled: SemanticTag get() = this + \"celled\"\n    @SemanticUiCssMarker val center: SemanticTag get() = this + \"center\"\n    @SemanticUiCssMarker val centered: SemanticTag get() = this + \"centered\"\n    @SemanticUiCssMarker val checkbox: SemanticTag get() = this + \"checkbox\"\n    @SemanticUiCssMarker val circular: SemanticTag get() = this + \"circular\"\n    @SemanticUiCssMarker val clearing: SemanticTag get() = this + \"clearing\"\n    @SemanticUiCssMarker val collapsing: SemanticTag get() = this + \"collapsing\"\n    @SemanticUiCssMarker val column: SemanticTag get() = this + \"column\"\n    @SemanticUiCssMarker val comment: SemanticTag get() = this + \"comment\"\n    @SemanticUiCssMarker val comments: SemanticTag get() = this + \"comments\"\n    @SemanticUiCssMarker val compact: SemanticTag get() = this + \"compact\"\n    @SemanticUiCssMarker val completed: SemanticTag get() = this + \"completed\"\n    @SemanticUiCssMarker val computer: SemanticTag get() = this + \"computer\"\n    @SemanticUiCssMarker val container: SemanticTag get() = this + \"container\"\n    @SemanticUiCssMarker val content: SemanticTag get() = this + \"content\"\n    @SemanticUiCssMarker val corner: SemanticTag get() = this + \"corner\"\n    @SemanticUiCssMarker val default: SemanticTag get() = this + \"default\"\n    @SemanticUiCssMarker val definition: SemanticTag get() = this + \"definition\"\n    @SemanticUiCssMarker val description: SemanticTag get() = this + \"description\"\n    @SemanticUiCssMarker val detail: SemanticTag get() = this + \"detail\"\n    @SemanticUiCssMarker val dimmer: SemanticTag get() = this + \"dimmer\"\n    @SemanticUiCssMarker val disabled: SemanticTag get() = this + \"disabled\"\n    @SemanticUiCssMarker val divided: SemanticTag get() = this + \"divided\"\n    @SemanticUiCssMarker val divider: SemanticTag get() = this + \"divider\"\n    @SemanticUiCssMarker val dividing: SemanticTag get() = this + \"dividing\"\n    @SemanticUiCssMarker val double: SemanticTag get() = this + \"double\"\n    @SemanticUiCssMarker val doubling: SemanticTag get() = this + \"doubling\"\n    @SemanticUiCssMarker val down: SemanticTag get() = this + \"down\"\n    @SemanticUiCssMarker val dropdown: SemanticTag get() = this + \"dropdown\"\n    @SemanticUiCssMarker val elastic: SemanticTag get() = this + \"elastic\"\n    @SemanticUiCssMarker val empty: SemanticTag get() = this + \"empty\"\n    @SemanticUiCssMarker val equal: SemanticTag get() = this + \"equal\"\n    @SemanticUiCssMarker val extra: SemanticTag get() = this + \"extra\"\n    @SemanticUiCssMarker val fade: SemanticTag get() = this + \"fade\"\n    @SemanticUiCssMarker val fast: SemanticTag get() = this + \"fast\"\n    @SemanticUiCssMarker val field: SemanticTag get() = this + \"field\"\n    @SemanticUiCssMarker val fields: SemanticTag get() = this + \"fields\"\n    @SemanticUiCssMarker val fitted: SemanticTag get() = this + \"fitted\"\n    @SemanticUiCssMarker val fixed: SemanticTag get() = this + \"fixed\"\n    @SemanticUiCssMarker val floated: SemanticTag get() = this + \"floated\"\n    @SemanticUiCssMarker val floating: SemanticTag get() = this + \"floating\"\n    @SemanticUiCssMarker val flowing: SemanticTag get() = this + \"flowing\"\n    @SemanticUiCssMarker val fluid: SemanticTag get() = this + \"fluid\"\n    @SemanticUiCssMarker val form: SemanticTag get() = this + \"form\"\n    @SemanticUiCssMarker val front: SemanticTag get() = this + \"front\"\n    @SemanticUiCssMarker val fullscreen: SemanticTag get() = this + \"fullscreen\"\n    @SemanticUiCssMarker val grid: SemanticTag get() = this + \"grid\"\n    @SemanticUiCssMarker val header: SemanticTag get() = this + \"header\"\n    @SemanticUiCssMarker val hidden: SemanticTag get() = this + \"hidden\"\n    @SemanticUiCssMarker val horizontal: SemanticTag get() = this + \"horizontal\"\n    @SemanticUiCssMarker val horizontally: SemanticTag get() = this + \"horizontally\"\n    @SemanticUiCssMarker val icon: SemanticTag get() = this + \"icon\"\n    @SemanticUiCssMarker val icons: SemanticTag get() = this + \"icons\"\n    @SemanticUiCssMarker val image: SemanticTag get() = this + \"image\"\n    @SemanticUiCssMarker val images: SemanticTag get() = this + \"images\"\n    @SemanticUiCssMarker val indeterminate: SemanticTag get() = this + \"indeterminate\"\n    @SemanticUiCssMarker val inline: SemanticTag get() = this + \"inline\"\n    @SemanticUiCssMarker val input: SemanticTag get() = this + \"input\"\n    @SemanticUiCssMarker val instant: SemanticTag get() = this + \"instant\"\n    @SemanticUiCssMarker val internally: SemanticTag get() = this + \"internally\"\n    @SemanticUiCssMarker val item: SemanticTag get() = this + \"item\"\n    @SemanticUiCssMarker val items: SemanticTag get() = this + \"items\"\n    @SemanticUiCssMarker val justified: SemanticTag get() = this + \"justified\"\n    @SemanticUiCssMarker val label: SemanticTag get() = this + \"label\"\n    @SemanticUiCssMarker val labeled: SemanticTag get() = this + \"labeled\"\n    @SemanticUiCssMarker val labels: SemanticTag get() = this + \"labels\"\n    @SemanticUiCssMarker val left: SemanticTag get() = this + \"left\"\n    @SemanticUiCssMarker val line: SemanticTag get() = this + \"line\"\n    @SemanticUiCssMarker val link: SemanticTag get() = this + \"link\"\n    @SemanticUiCssMarker val list: SemanticTag get() = this + \"list\"\n    @SemanticUiCssMarker val loader: SemanticTag get() = this + \"loader\"\n    @SemanticUiCssMarker val loading: SemanticTag get() = this + \"loading\"\n    @SemanticUiCssMarker val logo: SemanticTag get() = this + \"logo\"\n    @SemanticUiCssMarker val menu: SemanticTag get() = this + \"menu\"\n    @SemanticUiCssMarker val message: SemanticTag get() = this + \"message\"\n    @SemanticUiCssMarker val meta: SemanticTag get() = this + \"meta\"\n    @SemanticUiCssMarker val metadata: SemanticTag get() = this + \"metadata\"\n    @SemanticUiCssMarker val middle: SemanticTag get() = this + \"middle\"\n    @SemanticUiCssMarker val minimal: SemanticTag get() = this + \"minimal\"\n    @SemanticUiCssMarker val mobile: SemanticTag get() = this + \"mobile\"\n    @SemanticUiCssMarker val modal: SemanticTag get() = this + \"modal\"\n    @SemanticUiCssMarker val modals: SemanticTag get() = this + \"modals\"\n    @SemanticUiCssMarker val move: SemanticTag get() = this + \"move\"\n    @SemanticUiCssMarker val only: SemanticTag get() = this + \"only\"\n    @SemanticUiCssMarker val ordered: SemanticTag get() = this + \"ordered\"\n    @SemanticUiCssMarker val out: SemanticTag get() = this + \"out\"\n    @SemanticUiCssMarker val overlay: SemanticTag get() = this + \"overlay\"\n    @SemanticUiCssMarker val padded: SemanticTag get() = this + \"padded\"\n    @SemanticUiCssMarker val page: SemanticTag get() = this + \"page\"\n    @SemanticUiCssMarker val pagination: SemanticTag get() = this + \"pagination\"\n    @SemanticUiCssMarker val paragraph: SemanticTag get() = this + \"paragraph\"\n    @SemanticUiCssMarker val piled: SemanticTag get() = this + \"piled\"\n    @SemanticUiCssMarker val placeholder: SemanticTag get() = this + \"placeholder\"\n    @SemanticUiCssMarker val pointing: SemanticTag get() = this + \"pointing\"\n    @SemanticUiCssMarker val popup: SemanticTag get() = this + \"popup\"\n    @SemanticUiCssMarker val progress: SemanticTag get() = this + \"progress\"\n    @SemanticUiCssMarker val pusher: SemanticTag get() = this + \"pusher\"\n    @SemanticUiCssMarker val raised: SemanticTag get() = this + \"raised\"\n    @SemanticUiCssMarker val rectangular: SemanticTag get() = this + \"rectangular\"\n    @SemanticUiCssMarker val relaxed: SemanticTag get() = this + \"relaxed\"\n    @SemanticUiCssMarker val reply: SemanticTag get() = this + \"reply\"\n    @SemanticUiCssMarker val reveal: SemanticTag get() = this + \"reveal\"\n    @SemanticUiCssMarker val reversed: SemanticTag get() = this + \"reversed\"\n    @SemanticUiCssMarker val ribbon: SemanticTag get() = this + \"ribbon\"\n    @SemanticUiCssMarker val right: SemanticTag get() = this + \"right\"\n    @SemanticUiCssMarker val rotate: SemanticTag get() = this + \"rotate\"\n    @SemanticUiCssMarker val rounded: SemanticTag get() = this + \"rounded\"\n    @SemanticUiCssMarker val row: SemanticTag get() = this + \"row\"\n    @SemanticUiCssMarker val scale: SemanticTag get() = this + \"scale\"\n    @SemanticUiCssMarker val scrolling: SemanticTag get() = this + \"scrolling\"\n    @SemanticUiCssMarker val search: SemanticTag get() = this + \"search\"\n    @SemanticUiCssMarker val section: SemanticTag get() = this + \"section\"\n    @SemanticUiCssMarker val segment: SemanticTag get() = this + \"segment\"\n    @SemanticUiCssMarker val segments: SemanticTag get() = this + \"segments\"\n    @SemanticUiCssMarker val selectable: SemanticTag get() = this + \"selectable\"\n    @SemanticUiCssMarker val selected: SemanticTag get() = this + \"selected\"\n    @SemanticUiCssMarker val selection: SemanticTag get() = this + \"selection\"\n    @SemanticUiCssMarker val shrink: SemanticTag get() = this + \"shrink\"\n    @SemanticUiCssMarker val sidebar: SemanticTag get() = this + \"sidebar\"\n    @SemanticUiCssMarker val slider: SemanticTag get() = this + \"slider\"\n    @SemanticUiCssMarker val slow: SemanticTag get() = this + \"slow\"\n    @SemanticUiCssMarker val sortable: SemanticTag get() = this + \"sortable\"\n    @SemanticUiCssMarker val spaced: SemanticTag get() = this + \"spaced\"\n    @SemanticUiCssMarker val square: SemanticTag get() = this + \"square\"\n    @SemanticUiCssMarker val stackable: SemanticTag get() = this + \"stackable\"\n    @SemanticUiCssMarker val stacked: SemanticTag get() = this + \"stacked\"\n    @SemanticUiCssMarker val statistic: SemanticTag get() = this + \"statistic\"\n    @SemanticUiCssMarker val statistics: SemanticTag get() = this + \"statistics\"\n    @SemanticUiCssMarker val step: SemanticTag get() = this + \"step\"\n    @SemanticUiCssMarker val steps: SemanticTag get() = this + \"steps\"\n    @SemanticUiCssMarker val sticky: SemanticTag get() = this + \"sticky\"\n    @SemanticUiCssMarker val stretched: SemanticTag get() = this + \"stretched\"\n    @SemanticUiCssMarker val striped: SemanticTag get() = this + \"striped\"\n    @SemanticUiCssMarker val styled: SemanticTag get() = this + \"styled\"\n    @SemanticUiCssMarker val sub: SemanticTag get() = this + \"sub\"\n    @SemanticUiCssMarker val success: SemanticTag get() = this + \"success\"\n    @SemanticUiCssMarker val tab: SemanticTag get() = this + \"tab\"\n    @SemanticUiCssMarker val table: SemanticTag get() = this + \"table\"\n    @SemanticUiCssMarker val tablet: SemanticTag get() = this + \"tablet\"\n    @SemanticUiCssMarker val tabular: SemanticTag get() = this + \"tabular\"\n    @SemanticUiCssMarker val tag: SemanticTag get() = this + \"tag\"\n    @SemanticUiCssMarker val text: SemanticTag get() = this + \"text\"\n    @SemanticUiCssMarker val threaded: SemanticTag get() = this + \"threaded\"\n    @SemanticUiCssMarker val title: SemanticTag get() = this + \"title\"\n    @SemanticUiCssMarker val toast: SemanticTag get() = this + \"toast\"\n    @SemanticUiCssMarker val toastBox: SemanticTag get() = this + \"toast-box\"\n    @SemanticUiCssMarker val toastContainer: SemanticTag get() = this + \"toast-container\"\n    @SemanticUiCssMarker val toggle: SemanticTag get() = this + \"toggle\"\n    @SemanticUiCssMarker val top: SemanticTag get() = this + \"top\"\n    @SemanticUiCssMarker val transition: SemanticTag get() = this + \"transition\"\n    @SemanticUiCssMarker val transparent: SemanticTag get() = this + \"transparent\"\n    @SemanticUiCssMarker val unstackable: SemanticTag get() = this + \"unstackable\"\n    @SemanticUiCssMarker val up: SemanticTag get() = this + \"up\"\n    @SemanticUiCssMarker val usual: SemanticTag get() = this + \"usual\"\n    @SemanticUiCssMarker val value: SemanticTag get() = this + \"value\"\n    @SemanticUiCssMarker val vertical: SemanticTag get() = this + \"vertical\"\n    @SemanticUiCssMarker val vertically: SemanticTag get() = this + \"vertically\"\n    @SemanticUiCssMarker val very: SemanticTag get() = this + \"very\"\n    @SemanticUiCssMarker val visible: SemanticTag get() = this + \"visible\"\n    @SemanticUiCssMarker val wide: SemanticTag get() = this + \"wide\"\n    @SemanticUiCssMarker val width: SemanticTag get() = this + \"width\"\n    @SemanticUiCssMarker val wireframe: SemanticTag get() = this + \"wireframe\"\n}\n","package de.peekandpoke.kraft.streams\n\n/**\n * Base interface for all streams\n */\ninterface Stream<T> {\n    /**\n     * Returns the current value of the stream\n     */\n    operator fun invoke(): T\n\n    /**\n     * Adds a subscription to the stream.\n     *\n     * On subscribing the subscription is immediately called with the current value.\n     *\n     * Returns an unsubscribe function. Calling this function unsubscribes from the stream.\n     */\n    fun subscribeToStream(sub: (T) -> Unit): Unsubscribe\n}\n\n/**\n * The [Unsubscribe] function is returned when a subscription is created on a [Stream].\n *\n * Calling this function cancels the subscription.\n */\ntypealias Unsubscribe = () -> Unit\n\n/**\n * Handler-function for the incoming values of a [Stream].\n */\ntypealias StreamHandler<T> = (T) -> Unit\n\n/**\n * Subscribes to the stream permanently\n *\n * NOTICE: there is no way to get rid of the subscription anymore. Use with caution.\n */\nfun <T> Stream<T>.permanent(): Stream<T> = apply { subscribeToStream { } }\n\n/**\n * Subscribes to the stream permanently\n *\n * NOTICE: there is no way to get rid of the subscription anymore. Use with caution.\n */\nfun <T> Stream<T>.permanent(handler: (T) -> Unit): Stream<T> = apply { subscribeToStream(handler) }\n\n/**\n * Define a stream source to which new values can be written.\n */\ninterface StreamSource<T> : Stream<T> {\n\n    companion object {\n        operator fun <T> invoke(initial: T): StreamSource<T> = StreamSourceImpl(initial)\n    }\n\n    /**\n     * Get the readonly version of this stream.\n     */\n    val readonly get() = this as Stream<T>\n\n    /**\n     * The subscription the stream source has.\n     */\n    val subscriptions: Set<StreamHandler<T>>\n\n    /**\n     * Returns the current value of the stream\n     */\n    override operator fun invoke(): T\n\n    /**\n     * Sends the next value to the stream\n     */\n    operator fun invoke(next: T)\n\n    /**\n     * Calls the [block] with the current value of the stream and sends to return value to the stream.\n     *\n     * The new value is only sent when it is different from the current value.\n     */\n    operator fun invoke(block: (T) -> T) {\n        val current = this()\n        val next = block(current)\n\n        if (current != next) {\n            this(next)\n        }\n    }\n\n    /**\n     * Modifies the current value by calling the [block] and sends it the result as the next value.\n     *\n     * The [block] will have the current value of the stream as the scopes this pointer.\n     */\n    fun modify(block: T.() -> T): Unit = invoke(block(invoke()))\n\n    /**\n     * Removes all subscriptions\n     */\n    fun removeAllSubscriptions()\n}\n\n/**\n * Define a storage backend for a persistent stream\n */\ninterface StreamStorage<T> {\n\n    fun read(): T?\n\n    fun write(value: T)\n}\n","package de.peekandpoke.kraft.addons.forms\n\ninterface FormField<T> {\n\n    /**\n     * The errors the field currently has\n     */\n    val errors: List<String>\n\n    /**\n     * Returns true when the field has errors\n     */\n    val hasErrors get() = errors.isNotEmpty()\n\n    /**\n     * Marker if the component was touched.\n     */\n    val touched: Boolean\n\n    /**\n     * Marks the form field as touched.\n     */\n    fun touch()\n\n    /**\n     * Marks the form field as not touched.\n     */\n    fun untouch()\n\n    /**\n     * Validates all rules and returns true if all rules are fulfilled.\n     */\n    fun validate(): Boolean\n}\n","package de.peekandpoke.kraft.addons.routing\n\nfun router(builder: RouterBuilder.() -> Unit): Router = RouterBuilder().apply(builder).build()\n\ntypealias RouterProvider = () -> Router\n","package de.peekandpoke.kraft.jsbridges\n\nimport de.peekandpoke.kraft.utils.jsObjectToMap\nimport kotlinx.js.Object\n\n/**\n * Decodes the [jwt] and returns a javascript object\n */\nfun decodeJwt(jwt: String): Object? {\n    return jwt_decode.default(jwt)\n}\n\n/**\n * Decodes the [jwt] and returns a kotlin [Map]\n */\nfun decodeJwtAsMap(jwt: String): Map<String, Any?> {\n    return jsObjectToMap(\n        decodeJwt(jwt)\n    )\n}\n","package de.peekandpoke.kraft.addons.prismjs\n\nimport kotlinx.browser.document\nimport kotlinx.coroutines.delay\nimport kotlinx.js.Module\nimport org.w3c.dom.Element\nimport org.w3c.dom.HTMLHeadElement\nimport org.w3c.dom.HTMLLinkElement\nimport kotlin.js.Date\nimport kotlin.js.Promise\n\n/**\n * See: https://cdnjs.com/libraries/prism/1.28.0 for available assets\n */\nclass PrismJsInternals {\n\n    internal class StylesLoader {\n\n        private val loaded = mutableMapOf<String, Element>()\n\n        private val head: HTMLHeadElement?\n            get() = document.getElementsByTagName(\"head\").item(0) as? HTMLHeadElement\n\n        fun loadDefaultTheme() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism.min.css\",\n                \"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\",\n            )\n\n            loadLineNumbers()\n        }\n\n        fun loadInlineColor() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/inline-color/prism-inline-color.min.css\",\n                \"sha512-jPGdTBr51+zDG6sY0smU+6rV19GOIN9RXAdVT8Gyvb55dToNJwq2n9SgCa764+z0xMuGA3/idik1tkQQhmALSA==\",\n            )\n        }\n\n        fun loadLineNumbers() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css\",\n                \"sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==\",\n            )\n        }\n\n        fun loadToolbar() {\n            loadStyle(\n                \"https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.min.css\",\n                \"sha512-Dqf5696xtofgH089BgZJo2lSWTvev4GFo+gA2o4GullFY65rzQVQLQVlzLvYwTo0Bb2Gpb6IqwxYWtoMonfdhQ==\",\n            )\n        }\n\n        private fun loadStyle(\n            href: String,\n            integrity: String? = null,\n            crossOrigin: String = \"anonymous\",\n            referrerPolicy: String = \"no-referrer\",\n        ) {\n            head?.let { h ->\n                loaded.getOrPut(href) {\n                    (document.createElement(\"link\") as HTMLLinkElement).apply {\n                        this.rel = \"stylesheet\"\n                        this.href = href\n                        integrity?.let {\n                            this.asDynamic().integrity = it\n                        }\n                        this.crossOrigin = crossOrigin\n                        this.referrerPolicy = referrerPolicy\n\n                        h.append(this)\n                    }\n                }\n            }\n        }\n    }\n\n    internal class LanguageLoader {\n\n        private val loaded = mutableMapOf<String, Promise<dynamic>>()\n\n        suspend fun load(language: String): dynamic {\n            return when (val existing = PrismJsDefinition.languages[language]) {\n                null -> try {\n                    when (language) {\n                        \"dart\" -> loadDart()\n                        \"java\" -> loadJava()\n                        \"json\" -> loadJson()\n                        \"json5\" -> loadJson5()\n                        \"jsonp\" -> loadJsonp()\n                        \"kotlin\" -> loadKotlin()\n                        \"kts\" -> loadKotlin()\n                        \"less\" -> loadLess()\n                        \"php\" -> loadPhp()\n                        \"regex\" -> loadRegex()\n                        \"ruby\" -> loadRuby()\n                        \"rust\" -> loadRust()\n                        \"sass\" -> loadSass()\n                        \"scss\" -> loadScss()\n                        \"typescript\" -> loadTypescript()\n                        // fallback\n                        else -> PrismJsDefinition.languages.plain\n                    }\n                } catch (t: Throwable) {\n                    console.error(\"Could not load PrismJs language $language\", t)\n                    // fallback\n                    PrismJsDefinition.languages.plain\n                }\n                else -> existing\n            }\n        }\n\n        // Prerequisite loaders ////////////////////////////////////////////////////////////////////////////////////////\n\n        private suspend fun loadMarkupTemplating(): dynamic = load(\"markup-templating\") {\n            js(\"import('prismjs/components/prism-markup-templating')\") as Promise<Module<*>>\n        }\n\n        // Language loaders ////////////////////////////////////////////////////////////////////////////////////////////\n\n        private suspend fun loadDart(): dynamic = load(\"dart\") {\n            js(\"import('prismjs/components/prism-dart')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJava(): dynamic = load(\"java\") {\n            js(\"import('prismjs/components/prism-java')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJson(): dynamic = load(\"json\") {\n            js(\"import('prismjs/components/prism-json')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadJson5(): dynamic {\n            // requires json to be loaded\n            loadJson()\n\n            return load(\"json5\") {\n                js(\"import('prismjs/components/prism-json5')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadJsonp(): dynamic {\n            // requires json to be loaded\n            loadJson()\n\n            return load(\"jsonp\") {\n                js(\"import('prismjs/components/prism-jsonp')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadKotlin(): dynamic = load(\"kotlin\") {\n            js(\"import('prismjs/components/prism-kotlin')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadLess(): dynamic = load(\"less\") {\n            js(\"import('prismjs/components/prism-less')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadPhp(): dynamic {\n\n            // Why is that? https://github.com/PrismJS/prism/issues/1400#issuecomment-485847919\n            loadMarkupTemplating()\n\n            return load(\"php\") {\n                js(\"import('prismjs/components/prism-php')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun loadRegex(): dynamic = load(\"regex\") {\n            js(\"import('prismjs/components/prism-regex')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadRuby(): dynamic = load(\"ruby\") {\n            js(\"import('prismjs/components/prism-ruby')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadRust(): dynamic = load(\"rust\") {\n            js(\"import('prismjs/components/prism-rust')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadSass(): dynamic = load(\"sass\") {\n            js(\"import('prismjs/components/prism-sass')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadScss(): dynamic = load(\"scss\") {\n            js(\"import('prismjs/components/prism-scss')\") as Promise<Module<*>>\n        }\n\n        private suspend fun loadTypescript(): dynamic = load(\"typescript\") {\n            js(\"import('prismjs/components/prism-typescript')\") as Promise<Module<*>>\n        }\n\n        private suspend fun load(language: String, promise: () -> Promise<Module<*>>): dynamic {\n\n            loaded.getOrPut(language) {\n                promise()\n            }\n\n            val start = Date.now()\n\n            @Suppress(\"UnsafeCastFromDynamic\")\n            while (PrismJsDefinition.languages[language] == undefined && Date.now() - start < 10_000) {\n                delay(10)\n            }\n\n            return PrismJsDefinition.languages[language]\n        }\n    }\n\n    internal class PluginsLoader(private val styles: StylesLoader) {\n\n        private val loaded = mutableMapOf<String, Promise<dynamic>>()\n\n        // Plugin loaders //////////////////////////////////////////////////////////////////////////////////////////////\n\n        suspend fun loadCopyToClipboard(): dynamic {\n            // Depends on the Toolbar plugin to be loaded\n            loadToolbar()\n\n            return load(\"copyToClipboard\", { _, duration -> duration < 100 }) {\n                js(\"import('prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadInlineColor(): dynamic {\n            styles.loadInlineColor()\n\n            return load(\"inlineColor\", { _, duration -> duration < 100 }) {\n                js(\"import('prismjs/plugins/inline-color/prism-inline-color')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadLineNumbers(): dynamic {\n            styles.loadLineNumbers()\n\n            return load(\"lineNumbers\") {\n                js(\"import('prismjs/plugins/line-numbers/prism-line-numbers')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadShowLanguage(): dynamic {\n            // Depends on the Toolbar plugin to be loaded\n            loadToolbar()\n\n            return load(\"showLanguage\", { _, duration -> duration < 10 }) {\n                js(\"import('prismjs/plugins/show-language/prism-show-language')\") as Promise<Module<*>>\n            }\n        }\n\n        suspend fun loadToolbar(): dynamic {\n            styles.loadToolbar()\n\n            return load(\"toolbar\") {\n                js(\"import('prismjs/plugins/toolbar/prism-toolbar')\") as Promise<Module<*>>\n            }\n        }\n\n        private suspend fun load(\n            plugin: String,\n            isLoading: (pluginName: String, duration: Double) -> Boolean = { pluginName, duration ->\n                PrismJsDefinition.plugins[pluginName] == undefined && duration < 10_000\n            },\n            promise: () -> Promise<Module<*>>,\n        ): dynamic {\n\n            loaded.getOrPut(plugin) {\n                promise()\n            }\n\n            val start = Date.now()\n\n            @Suppress(\"UnsafeCastFromDynamic\")\n            while (isLoading(plugin, Date.now() - start)) {\n                delay(10)\n            }\n\n            return PrismJsDefinition.plugins[plugin]\n        }\n    }\n\n    internal val styles = StylesLoader()\n    internal val languages = LanguageLoader()\n    internal val plugins = PluginsLoader(styles)\n}\n\nval prismJsInternals = PrismJsInternals()\n","package de.peekandpoke.kraft.addons.prismjs\n\nimport org.w3c.dom.HTMLPreElement\nimport org.w3c.dom.set\n\nsealed class PrismPlugin {\n\n    abstract suspend fun load()\n    abstract fun applyTo(pre: HTMLPreElement)\n\n    data class CopyToClipboard(\n        val copy: String,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.copyToClipboard(\n                copy: String = \"Copy\",\n            ) = usePlugin(\n                CopyToClipboard(\n                    copy = copy,\n                )\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadCopyToClipboard()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" copy-to-clipboard\"\n            pre.dataset[\"prismjsCopy\"] = copy\n        }\n    }\n\n    data class InlineColor(\n        val enabled: Boolean = true,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.inlineColor() = usePlugin(\n                InlineColor()\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadInlineColor()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" inline-color\"\n        }\n    }\n\n    data class LineNumbers(\n        val start: Int,\n        val softWrap: Boolean,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.lineNumbers(\n                start: Int = 1,\n                softWrap: Boolean = false,\n            ) = usePlugin(\n                LineNumbers(start = start, softWrap = softWrap)\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadLineNumbers()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" line-numbers\"\n            pre.dataset[\"start\"] = start.toString()\n            if (softWrap) {\n                pre.style.whiteSpace = \"pre-wrap\"\n            }\n        }\n    }\n\n    data class ShowLanguage(\n        val language: String?,\n    ) : PrismPlugin() {\n        companion object {\n            fun Prism.OptionsBuilder.showLanguage(\n                language: String? = null,\n            ) = usePlugin(\n                ShowLanguage(language = language)\n            )\n        }\n\n        override suspend fun load() {\n            prismJsInternals.plugins.loadShowLanguage()\n        }\n\n        override fun applyTo(pre: HTMLPreElement) {\n            pre.className += \" show-language\"\n            language?.let {\n                pre.dataset[\"language\"] = it\n            }\n        }\n    }\n}\n",null,null,"package de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.Tag\n\n@PublishedApi\ninternal fun <T : Tag> T.visitNoInline(block: T.() -> Unit) {\n    consumer.onTagStart(this)\n    try {\n        this.block()\n    } catch (err: Throwable) {\n        consumer.onTagError(this, err)\n    } finally {\n        consumer.onTagEnd(this)\n    }\n}\n\n@Suppress(\"unused\")\ninternal object Fn {\n    // #\n    const val f0001: String = \"a\"\n    const val f0002: String = \"b\"\n    const val f0003: String = \"c\"\n    const val f0004: String = \"d\"\n    const val f0005: String = \"e\"\n    const val f0006: String = \"f\"\n    const val f0007: String = \"g\"\n    const val f0008: String = \"h\"\n    const val f0009: String = \"i\"\n    const val f0010: String = \"j\"\n    const val f0011: String = \"k\"\n    const val f0012: String = \"l\"\n    const val f0013: String = \"m\"\n    const val f0014: String = \"n\"\n    const val f0015: String = \"o\"\n    const val f0016: String = \"p\"\n    const val f0017: String = \"q\"\n    const val f0018: String = \"r\"\n    const val f0019: String = \"s\"\n    const val f0020: String = \"t\"\n\n    // a#\n    const val f0021: String = \"aa\"\n    const val f0022: String = \"ab\"\n    const val f0023: String = \"ac\"\n    const val f0024: String = \"ad\"\n    const val f0025: String = \"ae\"\n    const val f0026: String = \"af\"\n    const val f0027: String = \"ag\"\n    const val f0028: String = \"ah\"\n    const val f0029: String = \"ai\"\n    const val f0030: String = \"aj\"\n    const val f0031: String = \"ak\"\n    const val f0032: String = \"al\"\n    const val f0033: String = \"am\"\n    const val f0034: String = \"an\"\n    const val f0035: String = \"ao\"\n    const val f0036: String = \"ap\"\n    const val f0037: String = \"aq\"\n    const val f0038: String = \"ar\"\n    const val f0039: String = \"as\"\n    const val f0040: String = \"at\"\n\n    // b#\n    const val f0041: String = \"ba\"\n    const val f0042: String = \"bb\"\n    const val f0043: String = \"bc\"\n    const val f0044: String = \"bd\"\n    const val f0045: String = \"be\"\n    const val f0046: String = \"bf\"\n    const val f0047: String = \"bg\"\n    const val f0048: String = \"bh\"\n    const val f0049: String = \"bi\"\n    const val f0050: String = \"bj\"\n    const val f0051: String = \"bk\"\n    const val f0052: String = \"bl\"\n    const val f0053: String = \"bm\"\n    const val f0054: String = \"bn\"\n    const val f0055: String = \"bo\"\n    const val f0056: String = \"bp\"\n    const val f0057: String = \"bq\"\n    const val f0058: String = \"br\"\n    const val f0059: String = \"bs\"\n    const val f0060: String = \"bt\"\n\n    // c#\n    const val f0061: String = \"ca\"\n    const val f0062: String = \"cb\"\n    const val f0063: String = \"cc\"\n    const val f0064: String = \"cd\"\n    const val f0065: String = \"ce\"\n    const val f0066: String = \"cf\"\n    const val f0067: String = \"cg\"\n    const val f0068: String = \"ch\"\n    const val f0069: String = \"ci\"\n    const val f0070: String = \"cj\"\n    const val f0071: String = \"ck\"\n    const val f0072: String = \"cl\"\n    const val f0073: String = \"cm\"\n    const val f0074: String = \"cn\"\n    const val f0075: String = \"co\"\n    const val f0076: String = \"cp\"\n    const val f0077: String = \"cq\"\n    const val f0078: String = \"cr\"\n    const val f0079: String = \"cs\"\n    const val f0080: String = \"ct\"\n\n    // d#\n    const val f0081: String = \"da\"\n    const val f0082: String = \"db\"\n    const val f0083: String = \"dc\"\n    const val f0084: String = \"dd\"\n    const val f0085: String = \"de\"\n    const val f0086: String = \"df\"\n    const val f0087: String = \"dg\"\n    const val f0088: String = \"dh\"\n    const val f0089: String = \"di\"\n    const val f0090: String = \"dj\"\n    const val f0091: String = \"dk\"\n    const val f0092: String = \"dl\"\n    const val f0093: String = \"dm\"\n    const val f0094: String = \"dn\"\n    const val f0095: String = \"do\"\n    const val f0096: String = \"dp\"\n    const val f0097: String = \"dq\"\n    const val f0098: String = \"dr\"\n    const val f0099: String = \"ds\"\n    const val f0100: String = \"dt\"\n\n    // e#\n    const val f0101: String = \"ea\"\n    const val f0102: String = \"eb\"\n    const val f0103: String = \"ec\"\n    const val f0104: String = \"ed\"\n    const val f0105: String = \"ee\"\n    const val f0106: String = \"ef\"\n    const val f0107: String = \"eg\"\n    const val f0108: String = \"eh\"\n    const val f0109: String = \"ei\"\n    const val f0110: String = \"ej\"\n    const val f0111: String = \"ek\"\n    const val f0112: String = \"el\"\n    const val f0113: String = \"em\"\n    const val f0114: String = \"en\"\n    const val f0115: String = \"eo\"\n    const val f0116: String = \"ep\"\n    const val f0117: String = \"eq\"\n    const val f0118: String = \"er\"\n    const val f0119: String = \"es\"\n    const val f0120: String = \"et\"\n\n    // f#\n    const val f0121: String = \"fa\"\n    const val f0122: String = \"fb\"\n    const val f0123: String = \"fc\"\n    const val f0124: String = \"fd\"\n    const val f0125: String = \"fe\"\n    const val f0126: String = \"ff\"\n    const val f0127: String = \"fg\"\n    const val f0128: String = \"fh\"\n    const val f0129: String = \"fi\"\n    const val f0130: String = \"fj\"\n    const val f0131: String = \"fk\"\n    const val f0132: String = \"fl\"\n    const val f0133: String = \"fm\"\n    const val f0134: String = \"fn\"\n    const val f0135: String = \"fo\"\n    const val f0136: String = \"fp\"\n    const val f0137: String = \"fq\"\n    const val f0138: String = \"fr\"\n    const val f0139: String = \"fs\"\n    const val f0140: String = \"ft\"\n\n    // g#\n    const val f0141: String = \"ga\"\n    const val f0142: String = \"gb\"\n    const val f0143: String = \"gc\"\n    const val f0144: String = \"gd\"\n    const val f0145: String = \"ge\"\n    const val f0146: String = \"gf\"\n    const val f0147: String = \"gg\"\n    const val f0148: String = \"gh\"\n    const val f0149: String = \"gi\"\n    const val f0150: String = \"gj\"\n    const val f0151: String = \"gk\"\n    const val f0152: String = \"gl\"\n    const val f0153: String = \"gm\"\n    const val f0154: String = \"gn\"\n    const val f0155: String = \"go\"\n    const val f0156: String = \"gp\"\n    const val f0157: String = \"gq\"\n    const val f0158: String = \"gr\"\n    const val f0159: String = \"gs\"\n    const val f0160: String = \"gt\"\n\n    // h#\n    const val f0161: String = \"ha\"\n    const val f0162: String = \"hb\"\n    const val f0163: String = \"hc\"\n    const val f0164: String = \"hd\"\n    const val f0165: String = \"he\"\n    const val f0166: String = \"hf\"\n    const val f0167: String = \"hg\"\n    const val f0168: String = \"hh\"\n    const val f0169: String = \"hi\"\n    const val f0170: String = \"hj\"\n    const val f0171: String = \"hk\"\n    const val f0172: String = \"hl\"\n    const val f0173: String = \"hm\"\n    const val f0174: String = \"hn\"\n    const val f0175: String = \"ho\"\n    const val f0176: String = \"hp\"\n    const val f0177: String = \"hq\"\n    const val f0178: String = \"hr\"\n    const val f0179: String = \"hs\"\n    const val f0180: String = \"ht\"\n\n    // i#\n    const val f0181: String = \"ia\"\n    const val f0182: String = \"ib\"\n    const val f0183: String = \"ic\"\n    const val f0184: String = \"id\"\n    const val f0185: String = \"ie\"\n    const val f0186: String = \"if\"\n    const val f0187: String = \"ig\"\n    const val f0188: String = \"ih\"\n    const val f0189: String = \"ii\"\n    const val f0190: String = \"ij\"\n    const val f0191: String = \"ik\"\n    const val f0192: String = \"il\"\n    const val f0193: String = \"im\"\n    const val f0194: String = \"in\"\n    const val f0195: String = \"io\"\n    const val f0196: String = \"ip\"\n    const val f0197: String = \"iq\"\n    const val f0198: String = \"ir\"\n    const val f0199: String = \"is\"\n    const val f0200: String = \"it\"\n\n    // j#\n    const val f0201: String = \"ja\"\n    const val f0202: String = \"jb\"\n    const val f0203: String = \"jc\"\n    const val f0204: String = \"jd\"\n    const val f0205: String = \"je\"\n    const val f0206: String = \"jf\"\n    const val f0207: String = \"jg\"\n    const val f0208: String = \"jh\"\n    const val f0209: String = \"ji\"\n    const val f0210: String = \"jj\"\n    const val f0211: String = \"jk\"\n    const val f0212: String = \"jl\"\n    const val f0213: String = \"jm\"\n    const val f0214: String = \"jn\"\n    const val f0215: String = \"jo\"\n    const val f0216: String = \"jp\"\n    const val f0217: String = \"jq\"\n    const val f0218: String = \"jr\"\n    const val f0219: String = \"js\"\n    const val f0220: String = \"jt\"\n\n    // k#\n    const val f0221: String = \"ka\"\n    const val f0222: String = \"kb\"\n    const val f0223: String = \"kc\"\n    const val f0224: String = \"kd\"\n    const val f0225: String = \"ke\"\n    const val f0226: String = \"kf\"\n    const val f0227: String = \"kg\"\n    const val f0228: String = \"kh\"\n    const val f0229: String = \"ki\"\n    const val f0230: String = \"kj\"\n    const val f0231: String = \"kk\"\n    const val f0232: String = \"kl\"\n    const val f0233: String = \"km\"\n    const val f0234: String = \"kn\"\n    const val f0235: String = \"ko\"\n    const val f0236: String = \"kp\"\n    const val f0237: String = \"kq\"\n    const val f0238: String = \"kr\"\n    const val f0239: String = \"ks\"\n    const val f0240: String = \"kt\"\n\n    // l#\n    const val f0241: String = \"la\"\n    const val f0242: String = \"lb\"\n    const val f0243: String = \"lc\"\n    const val f0244: String = \"ld\"\n    const val f0245: String = \"le\"\n    const val f0246: String = \"lf\"\n    const val f0247: String = \"lg\"\n    const val f0248: String = \"lh\"\n    const val f0249: String = \"li\"\n    const val f0250: String = \"lj\"\n    const val f0251: String = \"lk\"\n    const val f0252: String = \"ll\"\n    const val f0253: String = \"lm\"\n    const val f0254: String = \"ln\"\n    const val f0255: String = \"lo\"\n    const val f0256: String = \"lp\"\n    const val f0257: String = \"lq\"\n    const val f0258: String = \"lr\"\n    const val f0259: String = \"ls\"\n    const val f0260: String = \"lt\"\n\n    // m#\n    const val f0261: String = \"ma\"\n    const val f0262: String = \"mb\"\n    const val f0263: String = \"mc\"\n    const val f0264: String = \"md\"\n    const val f0265: String = \"me\"\n    const val f0266: String = \"mf\"\n    const val f0267: String = \"mg\"\n    const val f0268: String = \"mh\"\n    const val f0269: String = \"mi\"\n    const val f0270: String = \"mj\"\n    const val f0271: String = \"mk\"\n    const val f0272: String = \"ml\"\n    const val f0273: String = \"mm\"\n    const val f0274: String = \"mn\"\n    const val f0275: String = \"mo\"\n    const val f0276: String = \"mp\"\n    const val f0277: String = \"mq\"\n    const val f0278: String = \"mr\"\n    const val f0279: String = \"ms\"\n    const val f0280: String = \"mt\"\n\n    // n#\n    const val f0281: String = \"na\"\n    const val f0282: String = \"nb\"\n    const val f0283: String = \"nc\"\n    const val f0284: String = \"nd\"\n    const val f0285: String = \"ne\"\n    const val f0286: String = \"nf\"\n    const val f0287: String = \"ng\"\n    const val f0288: String = \"nh\"\n    const val f0289: String = \"ni\"\n    const val f0290: String = \"nj\"\n    const val f0291: String = \"nk\"\n    const val f0292: String = \"nl\"\n    const val f0293: String = \"nm\"\n    const val f0294: String = \"nn\"\n    const val f0295: String = \"no\"\n    const val f0296: String = \"np\"\n    const val f0297: String = \"nq\"\n    const val f0298: String = \"nr\"\n    const val f0299: String = \"ns\"\n    const val f0300: String = \"nt\"\n\n    // A#\n    const val f9001: String = \"Aa\"\n    const val f9002: String = \"Ab\"\n    const val f9003: String = \"Ac\"\n    const val f9004: String = \"Ad\"\n    const val f9005: String = \"Ae\"\n    const val f9006: String = \"Af\"\n    const val f9007: String = \"Ag\"\n    const val f9008: String = \"Ah\"\n    const val f9009: String = \"Ai\"\n    const val f9010: String = \"Aj\"\n    const val f9011: String = \"Ak\"\n    const val f9012: String = \"Al\"\n    const val f9013: String = \"Am\"\n    const val f9014: String = \"An\"\n    const val f9015: String = \"Ao\"\n    const val f9016: String = \"Ap\"\n    const val f9017: String = \"Aq\"\n    const val f9018: String = \"Ar\"\n    const val f9019: String = \"As\"\n    const val f9020: String = \"At\"\n\n    // B#\n    const val f9021: String = \"Ba\"\n    const val f9022: String = \"Bb\"\n    const val f9023: String = \"Bc\"\n    const val f9024: String = \"Bd\"\n    const val f9025: String = \"Be\"\n    const val f9026: String = \"Bf\"\n    const val f9027: String = \"Bg\"\n    const val f9028: String = \"Bh\"\n    const val f9029: String = \"Bi\"\n    const val f9030: String = \"Bj\"\n    const val f9031: String = \"Bk\"\n    const val f9032: String = \"Bl\"\n    const val f9033: String = \"Bm\"\n    const val f9034: String = \"Bn\"\n    const val f9035: String = \"Bo\"\n    const val f9036: String = \"Bp\"\n    const val f9037: String = \"Bq\"\n    const val f9038: String = \"Br\"\n    const val f9039: String = \"Bs\"\n    const val f9040: String = \"Bt\"\n\n    // C#\n    const val f9041: String = \"Ca\"\n    const val f9042: String = \"Cb\"\n    const val f9043: String = \"Cc\"\n    const val f9044: String = \"Cd\"\n    const val f9045: String = \"Ce\"\n    const val f9046: String = \"Cf\"\n    const val f9047: String = \"Cg\"\n    const val f9048: String = \"Ch\"\n    const val f9049: String = \"Ci\"\n    const val f9050: String = \"Cj\"\n    const val f9051: String = \"Ck\"\n    const val f9052: String = \"Cl\"\n    const val f9053: String = \"Cm\"\n    const val f9054: String = \"Cn\"\n    const val f9055: String = \"Co\"\n    const val f9056: String = \"Cp\"\n    const val f9057: String = \"Cq\"\n    const val f9058: String = \"Cr\"\n    const val f9059: String = \"Cs\"\n    const val f9060: String = \"Ct\"\n\n    // D#\n    const val f9061: String = \"Da\"\n    const val f9062: String = \"Db\"\n    const val f9063: String = \"Dc\"\n    const val f9064: String = \"Dd\"\n    const val f9065: String = \"De\"\n    const val f9066: String = \"Df\"\n    const val f9067: String = \"Dg\"\n    const val f9068: String = \"Dh\"\n    const val f9069: String = \"Di\"\n    const val f9070: String = \"Dj\"\n    const val f9071: String = \"Dk\"\n    const val f9072: String = \"Dl\"\n    const val f9073: String = \"Dm\"\n    const val f9074: String = \"Dn\"\n    const val f9075: String = \"Do\"\n    const val f9076: String = \"Dp\"\n    const val f9077: String = \"Dq\"\n    const val f9078: String = \"Dr\"\n    const val f9079: String = \"Ds\"\n    const val f9080: String = \"Dt\"\n}\n","package de.peekandpoke.kraft.semanticui\n\nimport kotlinx.html.FlowContent\nimport kotlinx.html.Tag\nimport kotlin.jvm.JvmName\n\n@SemanticUiDslMarker\nval Tag.ui: SemanticTag\n    get() = SemanticTag(this, mutableListOf(\"ui\"))\n\n@SemanticUiDslMarker\nval Tag.noui: SemanticTag\n    get() = SemanticTag(this, mutableListOf(\"\"))\n\n@SemanticIconMarker\nval FlowContent.icon: SemanticIcon\n    get() = SemanticIcon(this)\n\n@SemanticIconMarker\nval FlowContent.emoji: SemanticEmoji\n    get() = SemanticEmoji(this)\n\n@SemanticIconMarker\nval FlowContent.flag: SemanticFlag\n    get() = SemanticFlag(this)\n\n/**\n * Helps the compiler to identify functions that operate on [FlowContent].\n */\ntypealias RenderFn = FlowContent.() -> Unit\n\n/**\n * Helps the compiler to identify functions that operate on T.\n */\ntypealias RenderFunc<T> = T.() -> Unit\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\n@JvmName(\"renderFn\")\nfun renderFn(block: RenderFn): RenderFn = block\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\n@JvmName(\"renderFnT\")\nfun <T : Tag> renderFn(block: RenderFunc<T>): RenderFunc<T> = block\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a [FlowContent]\n */\nfun flowContent(block: FlowContent.() -> Unit) = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticFn = SemanticTag.() -> SemanticTag\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semantic(block: SemanticFn): SemanticFn = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticIconFn = SemanticIcon.() -> SemanticIcon\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semanticIcon(block: SemanticIconFn): SemanticIconFn = block\n\n/**\n * Shorthand type\n */\ntypealias SemanticEmojiFn = SemanticEmoji.() -> SemanticEmoji\n\n/**\n * Helps the compiler to identify a code block that is supposed to run on a semantic tag\n */\nfun semanticEmoji(block: SemanticEmojiFn): SemanticEmojiFn = block\n","package de.peekandpoke.kraft.addons.signaturepad\n\nimport de.peekandpoke.kraft.addons.signaturepad.js.signature_pad\nimport de.peekandpoke.kraft.addons.signaturepad.js.trim_canvas\nimport de.peekandpoke.kraft.addons.styling.css\nimport de.peekandpoke.kraft.components.Component\nimport de.peekandpoke.kraft.components.Ctx\nimport de.peekandpoke.kraft.components.comp\nimport de.peekandpoke.kraft.vdom.VDom\nimport kotlinx.browser.window\nimport kotlinx.css.height\nimport kotlinx.css.pct\nimport kotlinx.css.width\nimport kotlinx.html.Tag\nimport kotlinx.html.canvas\nimport kotlinx.html.div\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.HTMLCanvasElement\nimport org.w3c.dom.events.Event\nimport kotlin.math.max\n\n@Suppress(\"FunctionName\")\nfun Tag.SignaturePad(\n    onChange: (SignaturePad) -> Unit = {},\n) = comp(\n    SignaturePad.Props(\n        onChange = onChange,\n    )\n) {\n    SignaturePad(it)\n}\n\nclass SignaturePad(ctx: Ctx<Props>) : Component<SignaturePad.Props>(ctx) {\n\n    //  STATE  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n    data class Props(\n        val onChange: (SignaturePad) -> Unit\n    )\n\n    private var pad: signature_pad.SignaturePad? = null\n\n    //  IMPL  ///////////////////////////////////////////////////////////////////////////////////////////////////\n\n    fun getPng(): String? = getCanvas()?.toDataURL(\"image/png\")\n\n    fun getPngTrimmed(): String? = getCanvasTrimmed()?.toDataURL(\"image/png\")\n\n    fun getSvg(): String? = getCanvas()?.toDataURL(\"image/svg+xml\")\n\n    fun getSvgTrimmed(): String? = getCanvasTrimmed()?.toDataURL(\"image/svg+xml\")\n\n    fun getJpg(quality: Double = 0.9): String? = getCanvas()?.toDataURL(\"image/jpeg\", quality)\n\n    fun getJpgTrimmed(quality: Double = 0.9): String? = getCanvasTrimmed()?.toDataURL(\"image/jpeg\", quality)\n\n    // Life-Cycle /////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun onMount() {\n\n        dom?.let {\n            getCanvas()?.let { canvas ->\n                pad = signature_pad.SignaturePad(canvas)\n\n                pad?.addEventListener(\"endStroke\", ::onPadEndStroke)\n\n                resize()\n            }\n        }\n\n        window.addEventListener(\"resize\", ::onWindowResize)\n    }\n\n    override fun onUnmount() {\n        window.removeEventListener(\"resize\", ::onWindowResize)\n\n        pad?.let {\n            it.removeEventListener(\"endStroke\", ::onPadEndStroke)\n            it.off()\n        }\n    }\n\n    // Rendering /////////////////////////////////////////////////////////////////////////////////////////\n\n    override fun VDom.render() {\n        div {\n            css {\n                width = 100.pct\n                height = 100.pct\n            }\n\n            canvas { }\n        }\n    }\n\n    // Helpers /////////////////////////////////////////////////////////////////////////////////////////\n\n    private fun getCanvas(): HTMLCanvasElement? {\n        return dom?.querySelector(\"canvas\") as? HTMLCanvasElement\n    }\n\n    private fun getCanvasTrimmed(): HTMLCanvasElement? {\n\n        return getCanvas()?.let { original ->\n\n            val cloned = original.cloneNode() as HTMLCanvasElement\n\n            (cloned.getContext(\"2d\") as CanvasRenderingContext2D).drawImage(original, 0.0, 0.0)\n\n            trim_canvas.trimCanvas(cloned)\n        }\n    }\n\n    private fun resize() {\n\n        dom?.let { dom ->\n\n            val ratio = max(window.asDynamic()[\"devicePixelRatio\"] as? Double ?: 1.0, 1.0)\n\n            getCanvas()?.let { canvas ->\n\n                canvas.width = dom.offsetWidth\n                canvas.height = dom.offsetHeight\n\n                canvas.width = (canvas.offsetWidth * ratio).toInt()\n                canvas.height = (canvas.offsetHeight * ratio).toInt()\n                (canvas.getContext(\"2d\") as? CanvasRenderingContext2D)?.scale(ratio, ratio)\n\n                // otherwise isEmpty() might return incorrect value\n                pad?.clear()\n            }\n        }\n    }\n\n    @Suppress(\"UNUSED_PARAMETER\")\n    private fun onWindowResize(evt: Event) {\n        resize()\n    }\n\n    @Suppress(\"UNUSED_PARAMETER\")\n    private fun onPadEndStroke(evt: Event) {\n        props.onChange(this)\n    }\n}\n",null,"/**\n * marked - a markdown parser\n * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction getDefaults() {\n  return {\n    async: false,\n    baseUrl: null,\n    breaks: false,\n    extensions: null,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\nexports.defaults = getDefaults();\nfunction changeDefaults(newDefaults) {\n  exports.defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nvar escapeTest = /[&<>\"']/;\nvar escapeReplace = /[&<>\"']/g;\nvar escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nvar escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nvar escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nvar getEscapeReplacement = function getEscapeReplacement(ch) {\n  return escapeReplacements[ch];\n};\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\nvar unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n/**\n * @param {string} html\n */\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, function (_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n    }\n\n    return '';\n  });\n}\nvar caret = /(^|[^\\[])\\^/g;\n/**\n * @param {string | RegExp} regex\n * @param {string} opt\n */\n\nfunction edit(regex, opt) {\n  regex = typeof regex === 'string' ? regex : regex.source;\n  opt = opt || '';\n  var obj = {\n    replace: function replace(name, val) {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: function getRegex() {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\nvar nonWordAndColonTest = /[^\\w:]/g;\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n/**\n * @param {boolean} sanitize\n * @param {string} base\n * @param {string} href\n */\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    var prot;\n\n    try {\n      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n    } catch (e) {\n      return null;\n    }\n\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n\n  return href;\n}\nvar baseUrls = {};\nvar justDomain = /^[^:]+:\\/*[^/]*$/;\nvar protocol = /^([^:]+:)[\\s\\S]*$/;\nvar domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n/**\n * @param {string} base\n * @param {string} href\n */\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n\n  base = baseUrls[' ' + base];\n  var relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar noopTest = {\n  exec: function noopTest() {}\n};\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n    var escaped = false,\n        curr = offset;\n\n    while (--curr >= 0 && str[curr] === '\\\\') {\n      escaped = !escaped;\n    }\n\n    if (escaped) {\n      // odd number of slashes means | is escaped\n      // so we leave it alone\n      return '|';\n    } else {\n      // add space before unescaped |\n      return ' |';\n    }\n  }),\n      cells = row.split(/ \\|/);\n  var i = 0; // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n\n  if (!cells[0].trim()) {\n    cells.shift();\n  }\n\n  if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n    cells.pop();\n  }\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) {\n      cells.push('');\n    }\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n\n  return cells;\n}\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param {string} str\n * @param {string} c\n * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n */\n\nfunction rtrim(str, c, invert) {\n  var l = str.length;\n\n  if (l === 0) {\n    return '';\n  } // Length of suffix matching the invert condition.\n\n\n  var suffLen = 0; // Step left until we fail to match the invert condition.\n\n  while (suffLen < l) {\n    var currChar = str.charAt(l - suffLen - 1);\n\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.slice(0, l - suffLen);\n}\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n\n  var l = str.length;\n  var level = 0,\n      i = 0;\n\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n} // copied from https://stackoverflow.com/a/5450113/806777\n\n/**\n * @param {string} pattern\n * @param {number} count\n */\n\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n\n  var result = '';\n\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n\n    count >>= 1;\n    pattern += pattern;\n  }\n\n  return result + pattern;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n  var href = link.href;\n  var title = link.title ? escape(link.title) : null;\n  var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    lexer.state.inLink = true;\n    var token = {\n      type: 'link',\n      raw: raw,\n      href: href,\n      title: title,\n      text: text,\n      tokens: lexer.inlineTokens(text)\n    };\n    lexer.state.inLink = false;\n    return token;\n  }\n\n  return {\n    type: 'image',\n    raw: raw,\n    href: href,\n    title: title,\n    text: escape(text)\n  };\n}\n\nfunction indentCodeCompensation(raw, text) {\n  var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  var indentToCode = matchIndentToCode[1];\n  return text.split('\\n').map(function (node) {\n    var matchIndentInNode = node.match(/^\\s+/);\n\n    if (matchIndentInNode === null) {\n      return node;\n    }\n\n    var indentInNode = matchIndentInNode[0];\n\n    if (indentInNode.length >= indentToCode.length) {\n      return node.slice(indentToCode.length);\n    }\n\n    return node;\n  }).join('\\n');\n}\n/**\n * Tokenizer\n */\n\n\nvar Tokenizer = /*#__PURE__*/function () {\n  function Tokenizer(options) {\n    this.options = options || exports.defaults;\n  }\n\n  var _proto = Tokenizer.prototype;\n\n  _proto.space = function space(src) {\n    var cap = this.rules.block.newline.exec(src);\n\n    if (cap && cap[0].length > 0) {\n      return {\n        type: 'space',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.code = function code(src) {\n    var cap = this.rules.block.code.exec(src);\n\n    if (cap) {\n      var text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic ? rtrim(text, '\\n') : text\n      };\n    }\n  };\n\n  _proto.fences = function fences(src) {\n    var cap = this.rules.block.fences.exec(src);\n\n    if (cap) {\n      var raw = cap[0];\n      var text = indentCodeCompensation(raw, cap[3] || '');\n      return {\n        type: 'code',\n        raw: raw,\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: text\n      };\n    }\n  };\n\n  _proto.heading = function heading(src) {\n    var cap = this.rules.block.heading.exec(src);\n\n    if (cap) {\n      var text = cap[2].trim(); // remove trailing #s\n\n      if (/#$/.test(text)) {\n        var trimmed = rtrim(text, '#');\n\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  };\n\n  _proto.hr = function hr(src) {\n    var cap = this.rules.block.hr.exec(src);\n\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.blockquote = function blockquote(src) {\n    var cap = this.rules.block.blockquote.exec(src);\n\n    if (cap) {\n      var text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        tokens: this.lexer.blockTokens(text, []),\n        text: text\n      };\n    }\n  };\n\n  _proto.list = function list(src) {\n    var cap = this.rules.block.list.exec(src);\n\n    if (cap) {\n      var raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents, endEarly;\n      var bull = cap[1].trim();\n      var isordered = bull.length > 1;\n      var list = {\n        type: 'list',\n        raw: '',\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n      bull = isordered ? \"\\\\d{1,9}\\\\\" + bull.slice(-1) : \"\\\\\" + bull;\n\n      if (this.options.pedantic) {\n        bull = isordered ? bull : '[*+-]';\n      } // Get next list item\n\n\n      var itemRegex = new RegExp(\"^( {0,3}\" + bull + \")((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))\"); // Check if current bullet point can start a new List Item\n\n      while (src) {\n        endEarly = false;\n\n        if (!(cap = itemRegex.exec(src))) {\n          break;\n        }\n\n        if (this.rules.block.hr.test(src)) {\n          // End list if bullet was actually HR (possibly move into itemRegex?)\n          break;\n        }\n\n        raw = cap[0];\n        src = src.substring(raw.length);\n        line = cap[2].split('\\n', 1)[0];\n        nextLine = src.split('\\n', 1)[0];\n\n        if (this.options.pedantic) {\n          indent = 2;\n          itemContents = line.trimLeft();\n        } else {\n          indent = cap[2].search(/[^ ]/); // Find first non-space char\n\n          indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n\n          itemContents = line.slice(indent);\n          indent += cap[1].length;\n        }\n\n        blankLine = false;\n\n        if (!line && /^ *$/.test(nextLine)) {\n          // Items begin with at most one blank line\n          raw += nextLine + '\\n';\n          src = src.substring(nextLine.length + 1);\n          endEarly = true;\n        }\n\n        if (!endEarly) {\n          var nextBulletRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:[*+-]|\\\\d{1,9}[.)])((?: [^\\\\n]*)?(?:\\\\n|$))\");\n          var hrRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)\");\n          var fencesBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:```|~~~)\");\n          var headingBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}#\"); // Check if following lines should be included in List Item\n\n          while (src) {\n            rawLine = src.split('\\n', 1)[0];\n            line = rawLine; // Re-align to follow commonmark nesting rules\n\n            if (this.options.pedantic) {\n              line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n            } // End list item if found code fences\n\n\n            if (fencesBeginRegex.test(line)) {\n              break;\n            } // End list item if found start of new heading\n\n\n            if (headingBeginRegex.test(line)) {\n              break;\n            } // End list item if found start of new bullet\n\n\n            if (nextBulletRegex.test(line)) {\n              break;\n            } // Horizontal rule found\n\n\n            if (hrRegex.test(src)) {\n              break;\n            }\n\n            if (line.search(/[^ ]/) >= indent || !line.trim()) {\n              // Dedent if possible\n              itemContents += '\\n' + line.slice(indent);\n            } else if (!blankLine) {\n              // Until blank line, item doesn't need indentation\n              itemContents += '\\n' + line;\n            } else {\n              // Otherwise, improper indentation ends this item\n              break;\n            }\n\n            if (!blankLine && !line.trim()) {\n              // Check if current line is blank\n              blankLine = true;\n            }\n\n            raw += rawLine + '\\n';\n            src = src.substring(rawLine.length + 1);\n          }\n        }\n\n        if (!list.loose) {\n          // If the previous item ended with a blank line, the list is loose\n          if (endsWithBlankLine) {\n            list.loose = true;\n          } else if (/\\n *\\n *$/.test(raw)) {\n            endsWithBlankLine = true;\n          }\n        } // Check for task list items\n\n\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.exec(itemContents);\n\n          if (istask) {\n            ischecked = istask[0] !== '[ ] ';\n            itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw: raw,\n          task: !!istask,\n          checked: ischecked,\n          loose: false,\n          text: itemContents\n        });\n        list.raw += raw;\n      } // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n\n\n      list.items[list.items.length - 1].raw = raw.trimRight();\n      list.items[list.items.length - 1].text = itemContents.trimRight();\n      list.raw = list.raw.trimRight();\n      var l = list.items.length; // Item child tokens handled here at end because we needed to have the final item to trim it first\n\n      for (i = 0; i < l; i++) {\n        this.lexer.state.top = false;\n        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n        var spacers = list.items[i].tokens.filter(function (t) {\n          return t.type === 'space';\n        });\n        var hasMultipleLineBreaks = spacers.every(function (t) {\n          var chars = t.raw.split('');\n          var lineBreaks = 0;\n\n          for (var _iterator = _createForOfIteratorHelperLoose(chars), _step; !(_step = _iterator()).done;) {\n            var _char = _step.value;\n\n            if (_char === '\\n') {\n              lineBreaks += 1;\n            }\n\n            if (lineBreaks > 1) {\n              return true;\n            }\n          }\n\n          return false;\n        });\n\n        if (!list.loose && spacers.length && hasMultipleLineBreaks) {\n          // Having a single line break doesn't mean a list is loose. A single line break is terminating the last list item\n          list.loose = true;\n          list.items[i].loose = true;\n        }\n      }\n\n      return list;\n    }\n  };\n\n  _proto.html = function html(src) {\n    var cap = this.rules.block.html.exec(src);\n\n    if (cap) {\n      var token = {\n        type: 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      };\n\n      if (this.options.sanitize) {\n        var text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n        token.type = 'paragraph';\n        token.text = text;\n        token.tokens = this.lexer.inline(text);\n      }\n\n      return token;\n    }\n  };\n\n  _proto.def = function def(src) {\n    var cap = this.rules.block.def.exec(src);\n\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        type: 'def',\n        tag: tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  };\n\n  _proto.table = function table(src) {\n    var cap = this.rules.block.table.exec(src);\n\n    if (cap) {\n      var item = {\n        type: 'table',\n        header: splitCells(cap[1]).map(function (c) {\n          return {\n            text: c\n          };\n        }),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n        var l = item.align.length;\n        var i, j, k, row;\n\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.rows.length;\n\n        for (i = 0; i < l; i++) {\n          item.rows[i] = splitCells(item.rows[i], item.header.length).map(function (c) {\n            return {\n              text: c\n            };\n          });\n        } // parse child tokens inside headers and cells\n        // header child tokens\n\n\n        l = item.header.length;\n\n        for (j = 0; j < l; j++) {\n          item.header[j].tokens = this.lexer.inline(item.header[j].text);\n        } // cell child tokens\n\n\n        l = item.rows.length;\n\n        for (j = 0; j < l; j++) {\n          row = item.rows[j];\n\n          for (k = 0; k < row.length; k++) {\n            row[k].tokens = this.lexer.inline(row[k].text);\n          }\n        }\n\n        return item;\n      }\n    }\n  };\n\n  _proto.lheading = function lheading(src) {\n    var cap = this.rules.block.lheading.exec(src);\n\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1],\n        tokens: this.lexer.inline(cap[1])\n      };\n    }\n  };\n\n  _proto.paragraph = function paragraph(src) {\n    var cap = this.rules.block.paragraph.exec(src);\n\n    if (cap) {\n      var text = cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1];\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  };\n\n  _proto.text = function text(src) {\n    var cap = this.rules.block.text.exec(src);\n\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0],\n        tokens: this.lexer.inline(cap[0])\n      };\n    }\n  };\n\n  _proto.escape = function escape$1(src) {\n    var cap = this.rules.inline.escape.exec(src);\n\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  };\n\n  _proto.tag = function tag(src) {\n    var cap = this.rules.inline.tag.exec(src);\n\n    if (cap) {\n      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n        this.lexer.state.inLink = true;\n      } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.lexer.state.inLink = false;\n      }\n\n      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = true;\n      } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize ? 'text' : 'html',\n        raw: cap[0],\n        inLink: this.lexer.state.inLink,\n        inRawBlock: this.lexer.state.inRawBlock,\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  };\n\n  _proto.link = function link(src) {\n    var cap = this.rules.inline.link.exec(src);\n\n    if (cap) {\n      var trimmedUrl = cap[2].trim();\n\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!/>$/.test(trimmedUrl)) {\n          return;\n        } // ending angle bracket cannot be escaped\n\n\n        var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        var lastParenIndex = findClosingBracket(cap[2], '()');\n\n        if (lastParenIndex > -1) {\n          var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          var linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n\n      var href = cap[2];\n      var title = '';\n\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0], this.lexer);\n    }\n  };\n\n  _proto.reflink = function reflink(src, links) {\n    var cap;\n\n    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n      var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n\n      if (!link || !link.href) {\n        var text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text: text\n        };\n      }\n\n      return outputLink(cap, link, cap[0], this.lexer);\n    }\n  };\n\n  _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n    if (prevChar === void 0) {\n      prevChar = '';\n    }\n\n    var match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n    if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDF70-\\uDF81\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDE70-\\uDEBE\\uDEC0-\\uDEC9\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD837[\\uDF00-\\uDF1E]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD839[\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF38\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n    var nextChar = match[1] || match[2] || '';\n\n    if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n      var lLength = match[0].length - 1;\n      var rDelim,\n          rLength,\n          delimTotal = lLength,\n          midDelimTotal = 0;\n      var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)\n\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n        if (!rDelim) continue; // skip single * in __abc*abc__\n\n        rLength = rDelim.length;\n\n        if (match[3] || match[4]) {\n          // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) {\n          // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n        if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n        // Remove extra characters. *a*** -> *a*\n\n        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***\n\n        if (Math.min(lLength, rLength) % 2) {\n          var _text = src.slice(1, lLength + match.index + rLength);\n\n          return {\n            type: 'em',\n            raw: src.slice(0, lLength + match.index + rLength + 1),\n            text: _text,\n            tokens: this.lexer.inlineTokens(_text)\n          };\n        } // Create 'strong' if smallest delimiter has even char count. **a***\n\n\n        var text = src.slice(2, lLength + match.index + rLength - 1);\n        return {\n          type: 'strong',\n          raw: src.slice(0, lLength + match.index + rLength + 1),\n          text: text,\n          tokens: this.lexer.inlineTokens(text)\n        };\n      }\n    }\n  };\n\n  _proto.codespan = function codespan(src) {\n    var cap = this.rules.inline.code.exec(src);\n\n    if (cap) {\n      var text = cap[2].replace(/\\n/g, ' ');\n      var hasNonSpaceChars = /[^ ]/.test(text);\n      var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n\n  _proto.br = function br(src) {\n    var cap = this.rules.inline.br.exec(src);\n\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  };\n\n  _proto.del = function del(src) {\n    var cap = this.rules.inline.del.exec(src);\n\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2],\n        tokens: this.lexer.inlineTokens(cap[2])\n      };\n    }\n  };\n\n  _proto.autolink = function autolink(src, mangle) {\n    var cap = this.rules.inline.autolink.exec(src);\n\n    if (cap) {\n      var text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n\n  _proto.url = function url(src, mangle) {\n    var cap;\n\n    if (cap = this.rules.inline.url.exec(src)) {\n      var text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        var prevCapZero;\n\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n\n        text = escape(cap[0]);\n\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n\n  _proto.inlineText = function inlineText(src, smartypants) {\n    var cap = this.rules.inline.text.exec(src);\n\n    if (cap) {\n      var text;\n\n      if (this.lexer.state.inRawBlock) {\n        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n\n  return Tokenizer;\n}();\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n  hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n  html: '^ {0,3}(?:' // optional indentation\n  + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n  + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n  + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n  + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n  + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n  + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n  + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n  + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n  + ')',\n  def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?<?([^\\s>]+)>?(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */).replace('bull', block.bullet).getRegex();\nblock.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\nblock.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('|table', '').replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\nblock.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n  + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n  + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n});\nblock.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\nblock.gfm.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('table', block.gfm.table) // interrupt paragraphs with table\n.replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n  + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest,\n  // fences not supported\n  paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n});\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n  + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n  + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n  + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n  + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n  // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n  nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  emStrong: {\n    lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n    //          () Skip orphan inside strong  () Consume to delim (1) #***                (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n    rDelimAst: /^[^_*]*?\\_\\_[^_*]*?\\*[^_*]*?(?=\\_\\_)|[^*]+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|[^punct*_\\s](\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|[^punct*_\\s](\\*+)(?=[^punct*_\\s])/,\n    rDelimUnd: /^[^_*]*?\\*\\*[^_*]*?\\_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|[^punct*_\\s](\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n\n  },\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\spunctuation])/\n}; // list of punctuation marks from CommonMark spec\n// without * and _ to handle the different emphasis markers * and _\n\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\ninline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\ninline.escapedEmSt = /\\\\\\*|\\\\_/g;\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\ninline.tag = edit(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\ninline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\ninline.reflink = edit(inline.reflink).replace('label', inline._label).replace('ref', block._label).getRegex();\ninline.nolink = edit(inline.nolink).replace('ref', block._label).getRegex();\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n});\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n});\ninline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * smartypants text replacement\n * @param {string} text\n */\n\nfunction smartypants(text) {\n  return text // em-dashes\n  .replace(/---/g, \"\\u2014\") // en-dashes\n  .replace(/--/g, \"\\u2013\") // opening singles\n  .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n  .replace(/'/g, \"\\u2019\") // opening doubles\n  .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n  .replace(/\"/g, \"\\u201D\") // ellipses\n  .replace(/\\.{3}/g, \"\\u2026\");\n}\n/**\n * mangle email addresses\n * @param {string} text\n */\n\n\nfunction mangle(text) {\n  var out = '',\n      i,\n      ch;\n  var l = text.length;\n\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n/**\n * Block Lexer\n */\n\n\nvar Lexer = /*#__PURE__*/function () {\n  function Lexer(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || exports.defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    this.tokenizer.lexer = this;\n    this.inlineQueue = [];\n    this.state = {\n      inLink: false,\n      inRawBlock: false,\n      top: true\n    };\n    var rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n\n    this.tokenizer.rules = rules;\n  }\n  /**\n   * Expose Rules\n   */\n\n\n  /**\n   * Static Lex Method\n   */\n  Lexer.lex = function lex(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n  /**\n   * Static Lex Inline Method\n   */\n  ;\n\n  Lexer.lexInline = function lexInline(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n  /**\n   * Preprocessing\n   */\n  ;\n\n  var _proto = Lexer.prototype;\n\n  _proto.lex = function lex(src) {\n    src = src.replace(/\\r\\n|\\r/g, '\\n');\n    this.blockTokens(src, this.tokens);\n    var next;\n\n    while (next = this.inlineQueue.shift()) {\n      this.inlineTokens(next.src, next.tokens);\n    }\n\n    return this.tokens;\n  }\n  /**\n   * Lexing\n   */\n  ;\n\n  _proto.blockTokens = function blockTokens(src, tokens) {\n    var _this = this;\n\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    if (this.options.pedantic) {\n      src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n    } else {\n      src = src.replace(/^( *)(\\t+)/gm, function (_, leading, tabs) {\n        return leading + '    '.repeat(tabs.length);\n      });\n    }\n\n    var token, lastToken, cutSrc, lastParagraphClipped;\n\n    while (src) {\n      if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n\n        return false;\n      })) {\n        continue;\n      } // newline\n\n\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n\n        if (token.raw.length === 1 && tokens.length > 0) {\n          // if there's a single \\n as a spacer, it's terminating the last line,\n          // so move it there so that we don't get unecessary paragraph tags\n          tokens[tokens.length - 1].raw += '\\n';\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.code(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // fences\n\n\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // heading\n\n\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // hr\n\n\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // blockquote\n\n\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // list\n\n\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // html\n\n\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // def\n\n\n      if (token = this.tokenizer.def(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.raw;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n\n        continue;\n      } // table (gfm)\n\n\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // lheading\n\n\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // top-level paragraph\n      // prevent paragraph consuming extensions by clipping 'src' to extension start\n\n\n      cutSrc = src;\n\n      if (this.options.extensions && this.options.extensions.startBlock) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n\n          _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n\n      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastParagraphClipped && lastToken.type === 'paragraph') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        lastParagraphClipped = cutSrc.length !== src.length;\n        src = src.substring(token.raw.length);\n        continue;\n      } // text\n\n\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      }\n\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    this.state.top = true;\n    return tokens;\n  };\n\n  _proto.inline = function inline(src, tokens) {\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    this.inlineQueue.push({\n      src: src,\n      tokens: tokens\n    });\n    return tokens;\n  }\n  /**\n   * Lexing/Compiling\n   */\n  ;\n\n  _proto.inlineTokens = function inlineTokens(src, tokens) {\n    var _this2 = this;\n\n    if (tokens === void 0) {\n      tokens = [];\n    }\n\n    var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong\n\n    var maskedSrc = src;\n    var match;\n    var keepPrevChar, prevChar; // Mask out reflinks\n\n    if (this.tokens.links) {\n      var links = Object.keys(this.tokens.links);\n\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    } // Mask out other blocks\n\n\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    } // Mask out escaped em & strong delimiters\n\n\n    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n    }\n\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n\n      keepPrevChar = false; // extensions\n\n      if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this2\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n\n        return false;\n      })) {\n        continue;\n      } // escape\n\n\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // tag\n\n\n      if (token = this.tokenizer.tag(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // link\n\n\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // reflink, nolink\n\n\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      } // em & strong\n\n\n      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // br\n\n\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // del (gfm)\n\n\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // autolink\n\n\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // url (gfm)\n\n\n      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // text\n      // prevent inlineText consuming extensions by clipping 'src' to extension start\n\n\n      cutSrc = src;\n\n      if (this.options.extensions && this.options.extensions.startInline) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n\n          _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n\n      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n        src = src.substring(token.raw.length);\n\n        if (token.raw.slice(-1) !== '_') {\n          // Track prevChar before string of ____ started\n          prevChar = token.raw.slice(-1);\n        }\n\n        keepPrevChar = true;\n        lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n\n        continue;\n      }\n\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  };\n\n  _createClass(Lexer, null, [{\n    key: \"rules\",\n    get: function get() {\n      return {\n        block: block,\n        inline: inline\n      };\n    }\n  }]);\n\n  return Lexer;\n}();\n\n/**\n * Renderer\n */\n\nvar Renderer = /*#__PURE__*/function () {\n  function Renderer(options) {\n    this.options = options || exports.defaults;\n  }\n\n  var _proto = Renderer.prototype;\n\n  _proto.code = function code(_code, infostring, escaped) {\n    var lang = (infostring || '').match(/\\S*/)[0];\n\n    if (this.options.highlight) {\n      var out = this.options.highlight(_code, lang);\n\n      if (out != null && out !== _code) {\n        escaped = true;\n        _code = out;\n      }\n    }\n\n    _code = _code.replace(/\\n$/, '') + '\\n';\n\n    if (!lang) {\n      return '<pre><code>' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n  }\n  /**\n   * @param {string} quote\n   */\n  ;\n\n  _proto.blockquote = function blockquote(quote) {\n    return \"<blockquote>\\n\" + quote + \"</blockquote>\\n\";\n  };\n\n  _proto.html = function html(_html) {\n    return _html;\n  }\n  /**\n   * @param {string} text\n   * @param {string} level\n   * @param {string} raw\n   * @param {any} slugger\n   */\n  ;\n\n  _proto.heading = function heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      var id = this.options.headerPrefix + slugger.slug(raw);\n      return \"<h\" + level + \" id=\\\"\" + id + \"\\\">\" + text + \"</h\" + level + \">\\n\";\n    } // ignore IDs\n\n\n    return \"<h\" + level + \">\" + text + \"</h\" + level + \">\\n\";\n  };\n\n  _proto.hr = function hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  };\n\n  _proto.list = function list(body, ordered, start) {\n    var type = ordered ? 'ol' : 'ul',\n        startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.listitem = function listitem(text) {\n    return \"<li>\" + text + \"</li>\\n\";\n  };\n\n  _proto.checkbox = function checkbox(checked) {\n    return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.paragraph = function paragraph(text) {\n    return \"<p>\" + text + \"</p>\\n\";\n  }\n  /**\n   * @param {string} header\n   * @param {string} body\n   */\n  ;\n\n  _proto.table = function table(header, body) {\n    if (body) body = \"<tbody>\" + body + \"</tbody>\";\n    return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n  }\n  /**\n   * @param {string} content\n   */\n  ;\n\n  _proto.tablerow = function tablerow(content) {\n    return \"<tr>\\n\" + content + \"</tr>\\n\";\n  };\n\n  _proto.tablecell = function tablecell(content, flags) {\n    var type = flags.header ? 'th' : 'td';\n    var tag = flags.align ? \"<\" + type + \" align=\\\"\" + flags.align + \"\\\">\" : \"<\" + type + \">\";\n    return tag + content + (\"</\" + type + \">\\n\");\n  }\n  /**\n   * span level renderer\n   * @param {string} text\n   */\n  ;\n\n  _proto.strong = function strong(text) {\n    return \"<strong>\" + text + \"</strong>\";\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.em = function em(text) {\n    return \"<em>\" + text + \"</em>\";\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.codespan = function codespan(text) {\n    return \"<code>\" + text + \"</code>\";\n  };\n\n  _proto.br = function br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n  /**\n   * @param {string} text\n   */\n  ;\n\n  _proto.del = function del(text) {\n    return \"<del>\" + text + \"</del>\";\n  }\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  ;\n\n  _proto.link = function link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = '<a href=\"' + escape(href) + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += '>' + text + '</a>';\n    return out;\n  }\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  ;\n\n  _proto.image = function image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    var out = \"<img src=\\\"\" + href + \"\\\" alt=\\\"\" + text + \"\\\"\";\n\n    if (title) {\n      out += \" title=\\\"\" + title + \"\\\"\";\n    }\n\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  };\n\n  _proto.text = function text(_text) {\n    return _text;\n  };\n\n  return Renderer;\n}();\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nvar TextRenderer = /*#__PURE__*/function () {\n  function TextRenderer() {}\n\n  var _proto = TextRenderer.prototype;\n\n  // no need for block level renderers\n  _proto.strong = function strong(text) {\n    return text;\n  };\n\n  _proto.em = function em(text) {\n    return text;\n  };\n\n  _proto.codespan = function codespan(text) {\n    return text;\n  };\n\n  _proto.del = function del(text) {\n    return text;\n  };\n\n  _proto.html = function html(text) {\n    return text;\n  };\n\n  _proto.text = function text(_text) {\n    return _text;\n  };\n\n  _proto.link = function link(href, title, text) {\n    return '' + text;\n  };\n\n  _proto.image = function image(href, title, text) {\n    return '' + text;\n  };\n\n  _proto.br = function br() {\n    return '';\n  };\n\n  return TextRenderer;\n}();\n\n/**\n * Slugger generates header id\n */\nvar Slugger = /*#__PURE__*/function () {\n  function Slugger() {\n    this.seen = {};\n  }\n  /**\n   * @param {string} value\n   */\n\n\n  var _proto = Slugger.prototype;\n\n  _proto.serialize = function serialize(value) {\n    return value.toLowerCase().trim() // remove html tags\n    .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n  }\n  /**\n   * Finds the next safe (unique) slug to use\n   * @param {string} originalSlug\n   * @param {boolean} isDryRun\n   */\n  ;\n\n  _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n    var slug = originalSlug;\n    var occurenceAccumulator = 0;\n\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n\n    return slug;\n  }\n  /**\n   * Convert string to unique id\n   * @param {object} [options]\n   * @param {boolean} [options.dryrun] Generates the next unique slug without\n   * updating the internal accumulator.\n   */\n  ;\n\n  _proto.slug = function slug(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  };\n\n  return Slugger;\n}();\n\n/**\n * Parsing & Compiling\n */\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(options) {\n    this.options = options || exports.defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n  /**\n   * Static Parse Method\n   */\n\n\n  Parser.parse = function parse(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n  /**\n   * Static Parse Inline Method\n   */\n  ;\n\n  Parser.parseInline = function parseInline(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n  /**\n   * Parse Loop\n   */\n  ;\n\n  var _proto = Parser.prototype;\n\n  _proto.parse = function parse(tokens, top) {\n    if (top === void 0) {\n      top = true;\n    }\n\n    var out = '',\n        i,\n        j,\n        k,\n        l2,\n        l3,\n        row,\n        cell,\n        header,\n        body,\n        token,\n        ordered,\n        start,\n        loose,\n        itemBody,\n        item,\n        checked,\n        task,\n        checkbox,\n        ret;\n    var l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i]; // Run any renderer extensions\n\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n\n        if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'space':\n          {\n            continue;\n          }\n\n        case 'hr':\n          {\n            out += this.renderer.hr();\n            continue;\n          }\n\n        case 'heading':\n          {\n            out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n            continue;\n          }\n\n        case 'code':\n          {\n            out += this.renderer.code(token.text, token.lang, token.escaped);\n            continue;\n          }\n\n        case 'table':\n          {\n            header = ''; // header\n\n            cell = '';\n            l2 = token.header.length;\n\n            for (j = 0; j < l2; j++) {\n              cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), {\n                header: true,\n                align: token.align[j]\n              });\n            }\n\n            header += this.renderer.tablerow(cell);\n            body = '';\n            l2 = token.rows.length;\n\n            for (j = 0; j < l2; j++) {\n              row = token.rows[j];\n              cell = '';\n              l3 = row.length;\n\n              for (k = 0; k < l3; k++) {\n                cell += this.renderer.tablecell(this.parseInline(row[k].tokens), {\n                  header: false,\n                  align: token.align[k]\n                });\n              }\n\n              body += this.renderer.tablerow(cell);\n            }\n\n            out += this.renderer.table(header, body);\n            continue;\n          }\n\n        case 'blockquote':\n          {\n            body = this.parse(token.tokens);\n            out += this.renderer.blockquote(body);\n            continue;\n          }\n\n        case 'list':\n          {\n            ordered = token.ordered;\n            start = token.start;\n            loose = token.loose;\n            l2 = token.items.length;\n            body = '';\n\n            for (j = 0; j < l2; j++) {\n              item = token.items[j];\n              checked = item.checked;\n              task = item.task;\n              itemBody = '';\n\n              if (item.task) {\n                checkbox = this.renderer.checkbox(checked);\n\n                if (loose) {\n                  if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                      item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                    }\n                  } else {\n                    item.tokens.unshift({\n                      type: 'text',\n                      text: checkbox\n                    });\n                  }\n                } else {\n                  itemBody += checkbox;\n                }\n              }\n\n              itemBody += this.parse(item.tokens, loose);\n              body += this.renderer.listitem(itemBody, task, checked);\n            }\n\n            out += this.renderer.list(body, ordered, start);\n            continue;\n          }\n\n        case 'html':\n          {\n            // TODO parse inline content if parameter markdown=1\n            out += this.renderer.html(token.text);\n            continue;\n          }\n\n        case 'paragraph':\n          {\n            out += this.renderer.paragraph(this.parseInline(token.tokens));\n            continue;\n          }\n\n        case 'text':\n          {\n            body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n            while (i + 1 < l && tokens[i + 1].type === 'text') {\n              token = tokens[++i];\n              body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n            }\n\n            out += top ? this.renderer.paragraph(body) : body;\n            continue;\n          }\n\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  }\n  /**\n   * Parse Inline Tokens\n   */\n  ;\n\n  _proto.parseInline = function parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    var out = '',\n        i,\n        token,\n        ret;\n    var l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i]; // Run any renderer extensions\n\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n\n        if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'escape':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        case 'html':\n          {\n            out += renderer.html(token.text);\n            break;\n          }\n\n        case 'link':\n          {\n            out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'image':\n          {\n            out += renderer.image(token.href, token.title, token.text);\n            break;\n          }\n\n        case 'strong':\n          {\n            out += renderer.strong(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'em':\n          {\n            out += renderer.em(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'codespan':\n          {\n            out += renderer.codespan(token.text);\n            break;\n          }\n\n        case 'br':\n          {\n            out += renderer.br();\n            break;\n          }\n\n        case 'del':\n          {\n            out += renderer.del(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'text':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  };\n\n  return Parser;\n}();\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (typeof opt === 'function') {\n    callback = opt;\n    opt = null;\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  if (callback) {\n    var highlight = opt.highlight;\n    var tokens;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    var done = function done(err) {\n      var out;\n\n      if (!err) {\n        try {\n          if (opt.walkTokens) {\n            marked.walkTokens(tokens, opt.walkTokens);\n          }\n\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n      }\n\n      opt.highlight = highlight;\n      return err ? callback(err) : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n    if (!tokens.length) return done();\n    var pending = 0;\n    marked.walkTokens(tokens, function (token) {\n      if (token.type === 'code') {\n        pending++;\n        setTimeout(function () {\n          highlight(token.text, token.lang, function (err, code) {\n            if (err) {\n              return done(err);\n            }\n\n            if (code != null && code !== token.text) {\n              token.text = code;\n              token.escaped = true;\n            }\n\n            pending--;\n\n            if (pending === 0) {\n              done();\n            }\n          });\n        }, 0);\n      }\n    });\n\n    if (pending === 0) {\n      done();\n    }\n\n    return;\n  }\n\n  function onError(e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n\n  try {\n    var _tokens = Lexer.lex(src, opt);\n\n    if (opt.walkTokens) {\n      if (opt.async) {\n        return Promise.all(marked.walkTokens(_tokens, opt.walkTokens)).then(function () {\n          return Parser.parse(_tokens, opt);\n        })[\"catch\"](onError);\n      }\n\n      marked.walkTokens(_tokens, opt.walkTokens);\n    }\n\n    return Parser.parse(_tokens, opt);\n  } catch (e) {\n    onError(e);\n  }\n}\n/**\n * Options\n */\n\nmarked.options = marked.setOptions = function (opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\nmarked.defaults = exports.defaults;\n/**\n * Use Extension\n */\n\nmarked.use = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var opts = merge.apply(void 0, [{}].concat(args));\n  var extensions = marked.defaults.extensions || {\n    renderers: {},\n    childTokens: {}\n  };\n  var hasExtensions;\n  args.forEach(function (pack) {\n    // ==-- Parse \"addon\" extensions --== //\n    if (pack.extensions) {\n      hasExtensions = true;\n      pack.extensions.forEach(function (ext) {\n        if (!ext.name) {\n          throw new Error('extension name required');\n        }\n\n        if (ext.renderer) {\n          // Renderer extensions\n          var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;\n\n          if (prevRenderer) {\n            // Replace extension with func to run new extension but fall back if false\n            extensions.renderers[ext.name] = function () {\n              for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var ret = ext.renderer.apply(this, args);\n\n              if (ret === false) {\n                ret = prevRenderer.apply(this, args);\n              }\n\n              return ret;\n            };\n          } else {\n            extensions.renderers[ext.name] = ext.renderer;\n          }\n        }\n\n        if (ext.tokenizer) {\n          // Tokenizer Extensions\n          if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n            throw new Error(\"extension level must be 'block' or 'inline'\");\n          }\n\n          if (extensions[ext.level]) {\n            extensions[ext.level].unshift(ext.tokenizer);\n          } else {\n            extensions[ext.level] = [ext.tokenizer];\n          }\n\n          if (ext.start) {\n            // Function to check for start of token\n            if (ext.level === 'block') {\n              if (extensions.startBlock) {\n                extensions.startBlock.push(ext.start);\n              } else {\n                extensions.startBlock = [ext.start];\n              }\n            } else if (ext.level === 'inline') {\n              if (extensions.startInline) {\n                extensions.startInline.push(ext.start);\n              } else {\n                extensions.startInline = [ext.start];\n              }\n            }\n          }\n        }\n\n        if (ext.childTokens) {\n          // Child tokens to be visited by walkTokens\n          extensions.childTokens[ext.name] = ext.childTokens;\n        }\n      });\n    } // ==-- Parse \"overwrite\" extensions --== //\n\n\n    if (pack.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false\n\n          renderer[prop] = function () {\n            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n\n            var ret = pack.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in pack.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (pack.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false\n\n          tokenizer[prop] = function () {\n            for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n              args[_key4] = arguments[_key4];\n            }\n\n            var ret = pack.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in pack.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    } // ==-- Parse WalkTokens extensions --== //\n\n\n    if (pack.walkTokens) {\n      var _walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        var values = [];\n        values.push(pack.walkTokens.call(this, token));\n\n        if (_walkTokens) {\n          values = values.concat(_walkTokens.call(this, token));\n        }\n\n        return values;\n      };\n    }\n\n    if (hasExtensions) {\n      opts.extensions = extensions;\n    }\n\n    marked.setOptions(opts);\n  });\n};\n/**\n * Run callback for every token\n */\n\n\nmarked.walkTokens = function (tokens, callback) {\n  var values = [];\n\n  var _loop3 = function _loop3() {\n    var token = _step.value;\n    values = values.concat(callback.call(marked, token));\n\n    switch (token.type) {\n      case 'table':\n        {\n          for (var _iterator2 = _createForOfIteratorHelperLoose(token.header), _step2; !(_step2 = _iterator2()).done;) {\n            var cell = _step2.value;\n            values = values.concat(marked.walkTokens(cell.tokens, callback));\n          }\n\n          for (var _iterator3 = _createForOfIteratorHelperLoose(token.rows), _step3; !(_step3 = _iterator3()).done;) {\n            var row = _step3.value;\n\n            for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n              var _cell = _step4.value;\n              values = values.concat(marked.walkTokens(_cell.tokens, callback));\n            }\n          }\n\n          break;\n        }\n\n      case 'list':\n        {\n          values = values.concat(marked.walkTokens(token.items, callback));\n          break;\n        }\n\n      default:\n        {\n          if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n            // Walk any extensions\n            marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n              values = values.concat(marked.walkTokens(token[childTokens], callback));\n            });\n          } else if (token.tokens) {\n            values = values.concat(marked.walkTokens(token.tokens, callback));\n          }\n        }\n    }\n  };\n\n  for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n    _loop3();\n  }\n\n  return values;\n};\n/**\n * Parse Inline\n * @param {string} src\n */\n\n\nmarked.parseInline = function (src, opt) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked.parseInline(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  try {\n    var tokens = Lexer.lexInline(src, opt);\n\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n\n    return Parser.parseInline(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n};\n/**\n * Expose\n */\n\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.parse = marked;\nvar options = marked.options;\nvar setOptions = marked.setOptions;\nvar use = marked.use;\nvar walkTokens = marked.walkTokens;\nvar parseInline = marked.parseInline;\nvar parse = marked;\nvar parser = Parser.parse;\nvar lexer = Lexer.lex;\n\nexports.Lexer = Lexer;\nexports.Parser = Parser;\nexports.Renderer = Renderer;\nexports.Slugger = Slugger;\nexports.TextRenderer = TextRenderer;\nexports.Tokenizer = Tokenizer;\nexports.getDefaults = getDefaults;\nexports.lexer = lexer;\nexports.marked = marked;\nexports.options = options;\nexports.parse = parse;\nexports.parseInline = parseInline;\nexports.parser = parser;\nexports.setOptions = setOptions;\nexports.use = use;\nexports.walkTokens = walkTokens;\n","/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst keyResolvers = {\n  '': v => v,\n  x: o => o.x,\n  y: o => o.y\n};\nfunction resolveObjectKey(obj, key) {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\nfunction _getKeyResolver(key) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\nfunction _splitKey(key) {\n  const parts = key.split('.');\n  const keys = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value, last) =>\n  _lookup(table, value, last\n    ? index => table[index][key] <= value\n    : index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\nfunction _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.2.1\n * https://github.com/kurkle/color#readme\n * (c) 2022 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nfunction isPatternOrGradient(value) {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n  return false;\n}\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  drawPointLegend(ctx, options, x, y, null);\n}\nfunction drawPointLegend(ctx, options, x, y, w) {\n  let type, xOffset, yOffset, size, cornerRadius, width;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    if (w) {\n      ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n    } else {\n      ctx.arc(x, y, radius, 0, TAU);\n    }\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      width = w ? w / 2 : size;\n      ctx.rect(x - width, y - size, 2 * width, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = w ? w / 2 : Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array(count);\n  let i, ilen, index, item;\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(e, canvas) {\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  if ('native' in evt) {\n    return evt;\n  }\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _isPointInArea as $, _factorize as A, finiteOrDefault as B, callback as C, _addGrace as D, _limitValue as E, toDegrees as F, _measureText as G, HALF_PI as H, _int16Range as I, _alignPixel as J, toPadding as K, clipArea as L, renderText as M, unclipArea as N, toFont as O, PI as P, each as Q, _toLeftRightCenter as R, _alignStartEnd as S, TAU as T, overrides as U, merge as V, _capitalize as W, getRelativePosition as X, _rlookupByKey as Y, _lookupByKey as Z, _arrayUnique as _, resolve as a, toLineHeight as a$, getAngleFromPoint as a0, getMaximumSize as a1, _getParentNode as a2, readUsedSize as a3, throttled as a4, supportsEventListenerOptions as a5, _isDomSupported as a6, descriptors as a7, isFunction as a8, _attachContext as a9, getRtlAdapter as aA, overrideTextDirection as aB, _textX as aC, restoreTextDirection as aD, drawPointLegend as aE, noop as aF, distanceBetweenPoints as aG, _setMinAndMaxByKey as aH, niceNum as aI, almostWhole as aJ, almostEquals as aK, _decimalPlaces as aL, _longestText as aM, _filterBetween as aN, _lookup as aO, isPatternOrGradient as aP, getHoverColor as aQ, clone$1 as aR, _merger as aS, _mergerIf as aT, _deprecated as aU, _splitKey as aV, toFontString as aW, splineCurve as aX, splineCurveMonotone as aY, getStyle as aZ, fontString as a_, _createResolver as aa, _descriptors as ab, mergeIf as ac, uid as ad, debounce as ae, retinaScale as af, clearCanvas as ag, setsEqual as ah, _elementsEqual as ai, _isClickEvent as aj, _isBetween as ak, _readValueToProps as al, _updateBezierControlPoints as am, _computeSegments as an, _boundSegments as ao, _steppedInterpolation as ap, _bezierInterpolation as aq, _pointInLine as ar, _steppedLineTo as as, _bezierCurveTo as at, drawPoint as au, addRoundedRectPath as av, toTRBL as aw, toTRBLCorners as ax, _boundSegment as ay, _normalizeAngle as az, isArray as b, PITAU as b0, INFINITY as b1, RAD_PER_DEG as b2, QUARTER_PI as b3, TWO_THIRDS_PI as b4, _angleDiff as b5, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, log10 as z };\n","/*!\n * Chart.js v3.9.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as log10, A as _factorize, B as finiteOrDefault, C as callback, D as _addGrace, E as _limitValue, F as toDegrees, G as _measureText, I as _int16Range, J as _alignPixel, K as toPadding, L as clipArea, M as renderText, N as unclipArea, O as toFont, Q as each, R as _toLeftRightCenter, S as _alignStartEnd, U as overrides, V as merge, W as _capitalize, X as getRelativePosition, Y as _rlookupByKey, Z as _lookupByKey, $ as _isPointInArea, a0 as getAngleFromPoint, a1 as getMaximumSize, a2 as _getParentNode, a3 as readUsedSize, a4 as throttled, a5 as supportsEventListenerOptions, a6 as _isDomSupported, a7 as descriptors, a8 as isFunction, a9 as _attachContext, aa as _createResolver, ab as _descriptors, ac as mergeIf, ad as uid, ae as debounce, af as retinaScale, ag as clearCanvas, ah as setsEqual, ai as _elementsEqual, aj as _isClickEvent, ak as _isBetween, al as _readValueToProps, am as _updateBezierControlPoints, an as _computeSegments, ao as _boundSegments, ap as _steppedInterpolation, aq as _bezierInterpolation, ar as _pointInLine, as as _steppedLineTo, at as _bezierCurveTo, au as drawPoint, av as addRoundedRectPath, aw as toTRBL, ax as toTRBLCorners, ay as _boundSegment, az as _normalizeAngle, aA as getRtlAdapter, aB as overrideTextDirection, aC as _textX, aD as restoreTextDirection, aE as drawPointLegend, aF as noop, aG as distanceBetweenPoints, aH as _setMinAndMaxByKey, aI as niceNum, aJ as almostWhole, aK as almostEquals, aL as _decimalPlaces, aM as _longestText, aN as _filterBetween, aO as _lookup } from './chunks/helpers.segment.mjs';\nexport { d as defaults } from './chunks/helpers.segment.mjs';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n    const skipNull = (meta) => {\n      const parsed = meta.controller.getParsed(dataIndex);\n      const val = parsed && parsed[meta.vScale.axis];\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n    return range;\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndex.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n      if (isHorizontal) {\n        x = pixel;\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign: tickTextAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass ScatterController extends DatasetController {\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    if (this.options.showLine) {\n      const {dataset: line, _dataset} = meta;\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    }\n    this.updateElements(points, start, count, mode);\n  }\n  addElements() {\n    const {showLine} = this.options;\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = registry.getElement('line');\n    }\n    super.addElements();\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  init(chartOptions) {}\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  evaluateInteractionItems,\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n  return {plugins, localIds};\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.9.1\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n    this.render();\n  }\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n    this.notifyPlugins('afterDestroy');\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n    if (inChartArea) {\n      this._lastEvent = null;\n      callback(options.onHover, [e, active, this], this);\n      if (isClick) {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end, circular) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  if (circular) {\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle, circular) {\n  const {options} = element;\n  const {borderWidth, borderJoinStyle} = options;\n  const inner = options.borderAlign === 'inner';\n  if (!borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle, circular);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n  circular: true,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (!meta.controller.supportsDecimation) {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n  return target;\n}\nfunction _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\nfunction _getTargetValue(fill, scale, startValue) {\n  let value;\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n\nfunction _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n\nfunction _getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return _createBoundaryLine(boundary, line);\n}\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n  if (isNumberFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n  return null;\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nvar index = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart || config._chart;\n    this._chart = this.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = isObject(labelColors.borderWidth) ? Math.max(...Object.values(labelColors.borderWidth)) : (labelColors.borderWidth || 1);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  _willRender() {\n    return !!this.opacity;\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n    const positionChanged = this._positionChanged(active, e);\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n    if (options.reverse) {\n      active.reverse();\n    }\n    return active;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n      if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n        return;\n      }\n      tooltip.draw(chart.ctx);\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const extra = getTickBackdropHeight(opts) / 2;\n  const outerDistance = scale.drawingArea;\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const borderRadius = toTRBLCorners(optsAtIndex.borderRadius);\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      const backdropLeft = left - padding.left;\n      const backdropTop = top - padding.top;\n      const backdropWidth = right - left + padding.width;\n      const backdropHeight = bottom - top + padding.height;\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: backdropLeft,\n          y: backdropTop,\n          w: backdropWidth,\n          h: backdropHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n      }\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this._pointLabels.length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    adapter.init(opts);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  afterAutoSkip() {\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","var PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexport const glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexport const Konva = {\n    _global: glob,\n    version: '8.3.12',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return Konva['DD'].isDragging;\n    },\n    isDragReady() {\n        return !!Konva['DD'].node;\n    },\n    document: glob.document,\n    _injectGlobal(Konva) {\n        glob.Konva = Konva;\n    },\n};\nexport const _registerNode = (NodeClass) => {\n    Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nKonva._injectGlobal(Konva);\n","import { Konva } from './Global.js';\nexport class Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = Util._getRotation(result.rotation);\n        return result;\n    }\n}\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexport const Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (Util._namedColorToRBA(str) ||\n            Util._hex3ColorToRGBA(str) ||\n            Util._hex6ColorToRGBA(str) ||\n            Util._rgbColorToRGBA(str) ||\n            Util._rgbaColorToRGBA(str) ||\n            Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n};\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nfunction _formatValue(val) {\n    if (Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nexport function RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexport function alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexport function getNumberValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isNumber(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util._isNumber(val);\n            let isValidArray = Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrAutoValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isString(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringOrGradientValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val.addColorStop);\n            if (!(isString || isGradient)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexport function getFunctionValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isFunction(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberArrayValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const TypedArray = Int8Array ? Object.getPrototypeOf(Int8Array) : null;\n            if (TypedArray && val instanceof TypedArray) {\n                return val;\n            }\n            if (!Util._isArray(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util._isNumber(item)) {\n                        Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexport function getBooleanValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexport function getComponentValidator(components) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (val === undefined || val === null) {\n                return val;\n            }\n            if (!Util.isObject(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\n","import { Util } from './Util.js';\nimport { getComponentValidator } from './Validators.js';\nvar GET = 'get', SET = 'set';\nexport const Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        Factory.addGetter(constructor, attr, def);\n        Factory.addSetter(constructor, attr, validator, after);\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        var method = GET + Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = getComponentValidator(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            if (!val) {\n                components.forEach((component) => {\n                    this._setAttr(attr + capitalize(component), undefined);\n                });\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        var capitalizedAttr = Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util.error('Adding deprecated ' + attr);\n        var method = GET + Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        Factory.addSetter(constructor, attr, validator, function () {\n            Util.error(message);\n        });\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","import { Util } from './Util.js';\nimport { Konva } from './Global.js';\nfunction simplifyArray(arr) {\n    var retArr = [], len = arr.length, util = Util, n, val;\n    for (n = 0; n < len; n++) {\n        val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nexport class Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this._context = canvas._canvas.getContext('2d');\n        if (Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        var lineCap = shape.getLineCap();\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        var lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n    arcTo(a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n    clearRect(a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    }\n    clip() {\n        this._context.clip();\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    }\n    createLinearGradient(a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n    createPattern(a0, a1) {\n        return this._context.createPattern(a0, a1);\n    }\n    createRadialGradient(a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n    drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    }\n    ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    isPointInPath(x, y) {\n        return this._context.isPointInPath(x, y);\n    }\n    fill(path2d) {\n        if (path2d) {\n            this._context.fill(path2d);\n        }\n        else {\n            this._context.fill();\n        }\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    }\n    lineTo(a0, a1) {\n        this._context.lineTo(a0, a1);\n    }\n    moveTo(a0, a1) {\n        this._context.moveTo(a0, a1);\n    }\n    rect(a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    }\n    putImageData(a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    }\n    quadraticCurveTo(a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(a0) {\n        this._context.rotate(a0);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(a0, a1) {\n        this._context.scale(a0, a1);\n    }\n    setLineDash(a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    }\n    transform(a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n    translate(a0, a1) {\n        this._context.translate(a0, a1);\n    }\n    _enableTrace() {\n        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        var def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nexport class SceneContext extends Context {\n    _fillColor(shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        var grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        var hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        var hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        var hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        var hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        var start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexport class HitContext extends Context {\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            var strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\n","import { Util } from './Util.js';\nimport { SceneContext, HitContext } from './Context.js';\nimport { Konva } from './Global.js';\nimport { Factory } from './Factory.js';\nimport { getNumberValidator } from './Validators.js';\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    return _pixelRatio;\n}\nexport class Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nFactory.addGetterSetter(Canvas, 'pixelRatio', undefined, getNumberValidator());\nexport class SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.context = new SceneContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexport class HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nexport const DD = {\n    get isDragging() {\n        var flag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        const drawNodes = [];\n        DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                DD.justDragged = true;\n                Konva._mouseListenClick = false;\n                Konva._touchListenClick = false;\n                Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Konva['Stage'] && elem.node);\n            if (drawNode && drawNodes.indexOf(drawNode) === -1) {\n                drawNodes.push(drawNode);\n            }\n        });\n        drawNodes.forEach((drawNode) => {\n            drawNode.draw();\n        });\n    },\n    _endDragAfter(evt) {\n        DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Konva.isBrowser) {\n    window.addEventListener('mouseup', DD._endDragBefore, true);\n    window.addEventListener('touchend', DD._endDragBefore, true);\n    window.addEventListener('mousemove', DD._drag);\n    window.addEventListener('touchmove', DD._drag);\n    window.addEventListener('mouseup', DD._endDragAfter, false);\n    window.addEventListener('touchend', DD._endDragAfter, false);\n}\n","import { Util, Transform } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { Konva } from './Global.js';\nimport { DD } from './DragAndDrop.js';\nimport { getNumberValidator, getStringValidator, getBooleanValidator, } from './Validators.js';\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nexport class Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        this._cache.delete(CANVAS);\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2 + 1;\n        height += offset * 2 + 1;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n        }), cachedHitCanvas = new HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        return this;\n    }\n    getAttr(attr) {\n        var method = 'get' + Util._capitalize(attr);\n        if (Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        var parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return this.attrs || {};\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            var key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util._capitalize(key);\n                if (Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        if (!this.getStage()) {\n            return null;\n        }\n        var pos = this.getStage().getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        var transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util.isObject(val) && !Util._isPlainObject(val) && !Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util.isValidSelector(sel)) {\n                Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        var at;\n        if (top) {\n            at = new Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        var attrs = Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                Util._urlToImage(this.toDataURL(config), function (img) {\n                    resolve(img);\n                    callback === null || callback === void 0 ? void 0 : callback(img);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    toBlob(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                this.toCanvas(config).toBlob((blob) => {\n                    resolve(blob);\n                    callback === null || callback === void 0 ? void 0 : callback(blob);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        var func = this[SET + Util._capitalize(attr)];\n        if (Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        let listeners = this._cache.get(ALL_LISTENERS);\n        if (!listeners) {\n            listeners = {};\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                if (!obj.eventListeners) {\n                    obj = Object.getPrototypeOf(obj);\n                    continue;\n                }\n                for (var event in obj.eventListeners) {\n                    const newEvents = obj.eventListeners[event];\n                    const oldEvents = listeners[event] || [];\n                    listeners[event] = newEvents.concat(oldEvents);\n                }\n                obj = Object.getPrototypeOf(obj);\n            }\n            this._cache.set(ALL_LISTENERS, listeners);\n        }\n        return listeners[eventType];\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DD._endDragBefore(evt);\n        DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Konva[className]) {\n            Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, getNumberValidator());\naddGetterSetter(Node, 'y', 0, getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', getStringValidator());\naddGetterSetter(Node, 'opacity', 1, getNumberValidator());\naddGetterSetter(Node, 'name', '', getStringValidator());\naddGetterSetter(Node, 'id', '', getStringValidator());\naddGetterSetter(Node, 'rotation', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, getNumberValidator());\naddGetterSetter(Node, 'width', 0, getNumberValidator());\naddGetterSetter(Node, 'height', 0, getNumberValidator());\naddGetterSetter(Node, 'listening', true, getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, getBooleanValidator());\nFactory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","import { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator } from './Validators.js';\nexport class Container extends Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        if (!filterFunc) {\n            return this.children || [];\n        }\n        const children = this.children || [];\n        var results = [];\n        children.forEach(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        var child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        var retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        var obj = Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        var node = Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        var arr = [];\n        this.find('Shape').forEach(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top) {\n        var _a;\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            if (clipFunc) {\n                clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip();\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config) {\n        var _a;\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nFactory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory.addGetterSetter(Container, 'clipX', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipY', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipWidth', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipHeight', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipFunc');\n","import { Konva } from './Global.js';\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Konva._global['PointerEvent'] !== undefined;\nexport function getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexport function createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nexport function hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexport function setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexport function releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\n","import { Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Container } from './Container.js';\nimport { Konva } from './Global.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { DD } from './DragAndDrop.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexport const stages = [];\nexport class Stage extends Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        var content = this.content;\n        if (content && Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = stages.indexOf(this);\n        if (index > -1) {\n            stages.splice(index, 1);\n        }\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n;\n        for (n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerenter, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerover, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var targetShape = this._getTargetShape(eventType);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            var shape = this.getIntersection(pos);\n            DD.justDragged = false;\n            Konva['_' + eventType + 'ListenClick'] = true;\n            const hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (DD.isDragging && DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        var targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            var differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n                targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n                    shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DD.justDragged) {\n                Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n                if (Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable && eventType !== 'touch') {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nStage.prototype.nodeType = STAGE;\n_registerNode(Stage);\nFactory.addGetterSetter(Stage, 'container');\n","import { Konva } from './Global.js';\nimport { Transform, Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator, getNumberOrAutoValidator, getStringValidator, getBooleanValidator, getStringOrGradientValidator, } from './Validators.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexport const shapes = {};\nfunction _fillFunc(context) {\n    context.fill();\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nexport class Shape extends Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util.getRandomColor();\n            if (key && !(key in shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        shapes[key] = this;\n    }\n    getContext() {\n        Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (this.hasShadow()) {\n            var rgba = Util.colorToRGBA(this.shadowColor());\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node.prototype.destroy.call(this);\n        delete shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n_registerNode(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory.addGetterSetter(Shape, 'stroke', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'strokeWidth', 2, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape, 'strokeHitEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'perfectDrawEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'lineJoin');\nFactory.addGetterSetter(Shape, 'lineCap');\nFactory.addGetterSetter(Shape, 'sceneFunc');\nFactory.addGetterSetter(Shape, 'hitFunc');\nFactory.addGetterSetter(Shape, 'dash');\nFactory.addGetterSetter(Shape, 'dashOffset', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowColor', undefined, getStringValidator());\nFactory.addGetterSetter(Shape, 'shadowBlur', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOpacity', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'shadowOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOffsetY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternImage');\nFactory.addGetterSetter(Shape, 'fill', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'fillPatternX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternScaleX', 1, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternScaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { Node } from './Node.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { getBooleanValidator } from './Validators.js';\nimport { shapes } from './Shape.js';\nimport { _registerNode } from './Global.js';\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nexport class Layer extends Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new SceneCanvas();\n        this.hitCanvas = new HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n}\nLayer.prototype.nodeType = 'Layer';\n_registerNode(Layer);\nFactory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory.addGetterSetter(Layer, 'hitGraphEnabled', true, getBooleanValidator());\n","import { Util } from './Util.js';\nimport { Layer } from './Layer.js';\nimport { _registerNode } from './Global.js';\nexport class FastLayer extends Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nFastLayer.prototype.nodeType = 'FastLayer';\n_registerNode(FastLayer);\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { _registerNode } from './Global.js';\nexport class Group extends Container {\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nGroup.prototype.nodeType = 'Group';\n_registerNode(Group);\n","import { glob } from './Global.js';\nimport { Util } from './Util.js';\nvar now = (function () {\n    if (glob.performance && glob.performance.now) {\n        return function () {\n            return glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nexport class Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nexport class Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util.colorToRGBA(start[n]);\n                        endRGBA = Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util.colorToRGBA(start);\n            endRGBA = Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexport const Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","import { Konva as Global } from './Global.js';\nimport { Util, Transform } from './Util.js';\nimport { Node } from './Node.js';\nimport { Container } from './Container.js';\nimport { Stage, stages } from './Stage.js';\nimport { Layer } from './Layer.js';\nimport { FastLayer } from './FastLayer.js';\nimport { Group } from './Group.js';\nimport { DD } from './DragAndDrop.js';\nimport { Shape, shapes } from './Shape.js';\nimport { Animation } from './Animation.js';\nimport { Tween, Easings } from './Tween.js';\nimport { Context } from './Context.js';\nimport { Canvas } from './Canvas.js';\nexport const Konva = Util._assign(Global, {\n    Util,\n    Transform,\n    Node,\n    Container,\n    Stage,\n    stages,\n    Layer,\n    FastLayer,\n    Group,\n    DD,\n    Shape,\n    shapes,\n    Animation,\n    Tween,\n    Easings,\n    Context,\n    Canvas,\n});\nexport default Konva;\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator, getBooleanValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Arc extends Shape {\n    _sceneFunc(context) {\n        var angle = Konva.getAngle(this.angle()), clockwise = this.clockwise();\n        context.beginPath();\n        context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n        context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n    getSelfRect() {\n        const innerRadius = this.innerRadius();\n        const outerRadius = this.outerRadius();\n        const clockwise = this.clockwise();\n        const angle = Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());\n        const boundLeftRatio = Math.cos(Math.min(angle, Math.PI));\n        const boundRightRatio = 1;\n        const boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), (3 * Math.PI) / 2));\n        const boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));\n        const boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);\n        const boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);\n        const boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);\n        const boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);\n        return {\n            x: boundLeft,\n            y: clockwise ? -1 * boundBottom : boundTop,\n            width: boundRight - boundLeft,\n            height: boundBottom - boundTop,\n        };\n    }\n}\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Arc);\nFactory.addGetterSetter(Arc, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'outerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'clockwise', false, getBooleanValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getNumberArrayValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    var len = p.length, allPoints = [], n, cp;\n    for (n = 2; n < len - 2; n += 2) {\n        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nexport class Line extends Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n_registerNode(Line);\nFactory.addGetterSetter(Line, 'closed', false);\nFactory.addGetterSetter(Line, 'bezier', false);\nFactory.addGetterSetter(Line, 'tension', 0, getNumberValidator());\nFactory.addGetterSetter(Line, 'points', [], getNumberArrayValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nexport class Path extends Shape {\n    constructor(config) {\n        super(config);\n        this.dataArray = [];\n        this.pathLength = 0;\n        this.dataArray = Path.parsePathData(this.data());\n        this.pathLength = 0;\n        for (var i = 0; i < this.dataArray.length; ++i) {\n            this.pathLength += this.dataArray[i].pathLength;\n        }\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.data());\n            this.pathLength = 0;\n            for (var i = 0; i < this.dataArray.length; ++i) {\n                this.pathLength += this.dataArray[i].pathLength;\n            }\n        });\n    }\n    _sceneFunc(context) {\n        var ca = this.dataArray;\n        context.beginPath();\n        var isClosed = false;\n        for (var n = 0; n < ca.length; n++) {\n            var c = ca[n].command;\n            var p = ca[n].points;\n            switch (c) {\n                case 'L':\n                    context.lineTo(p[0], p[1]);\n                    break;\n                case 'M':\n                    context.moveTo(p[0], p[1]);\n                    break;\n                case 'C':\n                    context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n                    break;\n                case 'Q':\n                    context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n                    break;\n                case 'A':\n                    var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(psi);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-psi);\n                    context.translate(-cx, -cy);\n                    break;\n                case 'z':\n                    isClosed = true;\n                    context.closePath();\n                    break;\n            }\n        }\n        if (!isClosed && !this.hasFill()) {\n            context.strokeShape(this);\n        }\n        else {\n            context.fillStrokeShape(this);\n        }\n    }\n    getSelfRect() {\n        var points = [];\n        this.dataArray.forEach(function (data) {\n            if (data.command === 'A') {\n                var start = data.points[4];\n                var dTheta = data.points[5];\n                var end = data.points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                if (dTheta < 0) {\n                    for (let t = start - inc; t > end; t -= inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n                else {\n                    for (let t = start + inc; t < end; t += inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n            }\n            else if (data.command === 'C') {\n                for (let t = 0.0; t <= 1; t += 0.01) {\n                    const point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n                    points.push(point.x, point.y);\n                }\n            }\n            else {\n                points = points.concat(data.points);\n            }\n        });\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            if (!isNaN(x)) {\n                minX = Math.min(minX, x);\n                maxX = Math.max(maxX, x);\n            }\n            if (!isNaN(y)) {\n                minY = Math.min(minY, y);\n                maxY = Math.max(maxY, y);\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getLength() {\n        return this.pathLength;\n    }\n    getPointAtLength(length) {\n        var point, i = 0, ii = this.dataArray.length;\n        if (!ii) {\n            return null;\n        }\n        while (i < ii && length > this.dataArray[i].pathLength) {\n            length -= this.dataArray[i].pathLength;\n            ++i;\n        }\n        if (i === ii) {\n            point = this.dataArray[i - 1].points.slice(-2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        if (length < 0.01) {\n            point = this.dataArray[i].points.slice(0, 2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        var cp = this.dataArray[i];\n        var p = cp.points;\n        switch (cp.command) {\n            case 'L':\n                return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n            case 'C':\n                return Path.getPointOnCubicBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n            case 'Q':\n                return Path.getPointOnQuadraticBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n            case 'A':\n                var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6];\n                theta += (dTheta * length) / cp.pathLength;\n                return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n        }\n        return null;\n    }\n    static getLineLength(x1, y1, x2, y2) {\n        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    static getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n        if (fromX === undefined) {\n            fromX = P1x;\n        }\n        if (fromY === undefined) {\n            fromY = P1y;\n        }\n        var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n        var run = Math.sqrt((dist * dist) / (1 + m * m));\n        if (P2x < P1x) {\n            run *= -1;\n        }\n        var rise = m * run;\n        var pt;\n        if (P2x === P1x) {\n            pt = {\n                x: fromX,\n                y: fromY + rise,\n            };\n        }\n        else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n            pt = {\n                x: fromX + run,\n                y: fromY + rise,\n            };\n        }\n        else {\n            var ix, iy;\n            var len = this.getLineLength(P1x, P1y, P2x, P2y);\n            var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n            u = u / (len * len);\n            ix = P1x + u * (P2x - P1x);\n            iy = P1y + u * (P2y - P1y);\n            var pRise = this.getLineLength(fromX, fromY, ix, iy);\n            var pRun = Math.sqrt(dist * dist - pRise * pRise);\n            run = Math.sqrt((pRun * pRun) / (1 + m * m));\n            if (P2x < P1x) {\n                run *= -1;\n            }\n            rise = m * run;\n            pt = {\n                x: ix + run,\n                y: iy + rise,\n            };\n        }\n        return pt;\n    }\n    static getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n        function CB1(t) {\n            return t * t * t;\n        }\n        function CB2(t) {\n            return 3 * t * t * (1 - t);\n        }\n        function CB3(t) {\n            return 3 * t * (1 - t) * (1 - t);\n        }\n        function CB4(t) {\n            return (1 - t) * (1 - t) * (1 - t);\n        }\n        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n        function QB1(t) {\n            return t * t;\n        }\n        function QB2(t) {\n            return 2 * t * (1 - t);\n        }\n        function QB3(t) {\n            return (1 - t) * (1 - t);\n        }\n        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {\n        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);\n        var pt = {\n            x: rx * Math.cos(theta),\n            y: ry * Math.sin(theta),\n        };\n        return {\n            x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n            y: cy + (pt.x * sinPsi + pt.y * cosPsi),\n        };\n    }\n    static parsePathData(data) {\n        if (!data) {\n            return [];\n        }\n        var cs = data;\n        var cc = [\n            'm',\n            'M',\n            'l',\n            'L',\n            'v',\n            'V',\n            'h',\n            'H',\n            'z',\n            'Z',\n            'c',\n            'C',\n            'q',\n            'Q',\n            't',\n            'T',\n            's',\n            'S',\n            'a',\n            'A',\n        ];\n        cs = cs.replace(new RegExp(' ', 'g'), ',');\n        for (var n = 0; n < cc.length; n++) {\n            cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n        }\n        var arr = cs.split('|');\n        var ca = [];\n        var coords = [];\n        var cpx = 0;\n        var cpy = 0;\n        var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n        var match;\n        for (n = 1; n < arr.length; n++) {\n            var str = arr[n];\n            var c = str.charAt(0);\n            str = str.slice(1);\n            coords.length = 0;\n            while ((match = re.exec(str))) {\n                coords.push(match[0]);\n            }\n            var p = [];\n            for (var j = 0, jlen = coords.length; j < jlen; j++) {\n                if (coords[j] === '00') {\n                    p.push(0, 0);\n                    continue;\n                }\n                var parsed = parseFloat(coords[j]);\n                if (!isNaN(parsed)) {\n                    p.push(parsed);\n                }\n                else {\n                    p.push(0);\n                }\n            }\n            while (p.length > 0) {\n                if (isNaN(p[0])) {\n                    break;\n                }\n                var cmd = null;\n                var points = [];\n                var startX = cpx, startY = cpy;\n                var prevCmd, ctlPtx, ctlPty;\n                var rx, ry, psi, fa, fs, x1, y1;\n                switch (c) {\n                    case 'l':\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'L':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'm':\n                        var dx = p.shift();\n                        var dy = p.shift();\n                        cpx += dx;\n                        cpy += dy;\n                        cmd = 'M';\n                        if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                            for (var idx = ca.length - 2; idx >= 0; idx--) {\n                                if (ca[idx].command === 'M') {\n                                    cpx = ca[idx].points[0] + dx;\n                                    cpy = ca[idx].points[1] + dy;\n                                    break;\n                                }\n                            }\n                        }\n                        points.push(cpx, cpy);\n                        c = 'l';\n                        break;\n                    case 'M':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'M';\n                        points.push(cpx, cpy);\n                        c = 'L';\n                        break;\n                    case 'h':\n                        cpx += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'H':\n                        cpx = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'v':\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'V':\n                        cpy = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'C':\n                        points.push(p.shift(), p.shift(), p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'c':\n                        points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'S':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 's':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'Q':\n                        points.push(p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'q':\n                        points.push(cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'T':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 't':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 'A':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                    case 'a':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                }\n                ca.push({\n                    command: cmd || c,\n                    points: points,\n                    start: {\n                        x: startX,\n                        y: startY,\n                    },\n                    pathLength: this.calcLength(startX, startY, cmd || c, points),\n                });\n            }\n            if (c === 'z' || c === 'Z') {\n                ca.push({\n                    command: 'z',\n                    points: [],\n                    start: undefined,\n                    pathLength: 0,\n                });\n            }\n        }\n        return ca;\n    }\n    static calcLength(x, y, cmd, points) {\n        var len, p1, p2, t;\n        var path = Path;\n        switch (cmd) {\n            case 'L':\n                return path.getLineLength(x, y, points[0], points[1]);\n            case 'C':\n                len = 0.0;\n                p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'Q':\n                len = 0.0;\n                p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'A':\n                len = 0.0;\n                var start = points[4];\n                var dTheta = points[5];\n                var end = points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n                if (dTheta < 0) {\n                    for (t = start - inc; t > end; t -= inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                else {\n                    for (t = start + inc; t < end; t += inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                return len;\n        }\n        return 0;\n    }\n    static convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n        var psi = psiDeg * (Math.PI / 180.0);\n        var xp = (Math.cos(psi) * (x1 - x2)) / 2.0 + (Math.sin(psi) * (y1 - y2)) / 2.0;\n        var yp = (-1 * Math.sin(psi) * (x1 - x2)) / 2.0 +\n            (Math.cos(psi) * (y1 - y2)) / 2.0;\n        var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n        if (lambda > 1) {\n            rx *= Math.sqrt(lambda);\n            ry *= Math.sqrt(lambda);\n        }\n        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) /\n            (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n        if (fa === fs) {\n            f *= -1;\n        }\n        if (isNaN(f)) {\n            f = 0;\n        }\n        var cxp = (f * rx * yp) / ry;\n        var cyp = (f * -ry * xp) / rx;\n        var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n        var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n        var vMag = function (v) {\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n        };\n        var vRatio = function (u, v) {\n            return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n        };\n        var vAngle = function (u, v) {\n            return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n        };\n        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n        var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n        var dTheta = vAngle(u, v);\n        if (vRatio(u, v) <= -1) {\n            dTheta = Math.PI;\n        }\n        if (vRatio(u, v) >= 1) {\n            dTheta = 0;\n        }\n        if (fs === 0 && dTheta > 0) {\n            dTheta = dTheta - 2 * Math.PI;\n        }\n        if (fs === 1 && dTheta < 0) {\n            dTheta = dTheta + 2 * Math.PI;\n        }\n        return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    }\n}\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n_registerNode(Path);\nFactory.addGetterSetter(Path, 'data');\n","import { Factory } from '../Factory.js';\nimport { Line } from './Line.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nimport { Path } from './Path.js';\nexport class Arrow extends Line {\n    _sceneFunc(ctx) {\n        super._sceneFunc(ctx);\n        var PI2 = Math.PI * 2;\n        var points = this.points();\n        var tp = points;\n        var fromTension = this.tension() !== 0 && points.length > 4;\n        if (fromTension) {\n            tp = this.getTensionPoints();\n        }\n        var length = this.pointerLength();\n        var n = points.length;\n        var dx, dy;\n        if (fromTension) {\n            const lp = [\n                tp[tp.length - 4],\n                tp[tp.length - 3],\n                tp[tp.length - 2],\n                tp[tp.length - 1],\n                points[n - 2],\n                points[n - 1],\n            ];\n            const lastLength = Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], 'C', lp);\n            const previous = Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);\n            dx = points[n - 2] - previous.x;\n            dy = points[n - 1] - previous.y;\n        }\n        else {\n            dx = points[n - 2] - points[n - 4];\n            dy = points[n - 1] - points[n - 3];\n        }\n        var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n        var width = this.pointerWidth();\n        if (this.pointerAtEnding()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[n - 2], points[n - 1]);\n            ctx.rotate(radians);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n        if (this.pointerAtBeginning()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[0], points[1]);\n            if (fromTension) {\n                dx = (tp[0] + tp[2]) / 2 - points[0];\n                dy = (tp[1] + tp[3]) / 2 - points[1];\n            }\n            else {\n                dx = points[2] - points[0];\n                dy = points[3] - points[1];\n            }\n            ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n    }\n    __fillStroke(ctx) {\n        var isDashEnabled = this.dashEnabled();\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = false;\n            ctx.setLineDash([]);\n        }\n        ctx.fillStrokeShape(this);\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = true;\n        }\n    }\n    getSelfRect() {\n        const lineRect = super.getSelfRect();\n        const offset = this.pointerWidth() / 2;\n        return {\n            x: lineRect.x - offset,\n            y: lineRect.y - offset,\n            width: lineRect.width + offset * 2,\n            height: lineRect.height + offset * 2,\n        };\n    }\n}\nArrow.prototype.className = 'Arrow';\n_registerNode(Arrow);\nFactory.addGetterSetter(Arrow, 'pointerLength', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerWidth', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nFactory.addGetterSetter(Arrow, 'pointerAtEnding', true);\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Circle extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        if (this.radius() !== width / 2) {\n            this.radius(width / 2);\n        }\n    }\n    setHeight(height) {\n        if (this.radius() !== height / 2) {\n            this.radius(height / 2);\n        }\n    }\n}\nCircle.prototype._centroid = true;\nCircle.prototype.className = 'Circle';\nCircle.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Circle);\nFactory.addGetterSetter(Circle, 'radius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Ellipse extends Shape {\n    _sceneFunc(context) {\n        var rx = this.radiusX(), ry = this.radiusY();\n        context.beginPath();\n        context.save();\n        if (rx !== ry) {\n            context.scale(1, ry / rx);\n        }\n        context.arc(0, 0, rx, 0, Math.PI * 2, false);\n        context.restore();\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radiusX() * 2;\n    }\n    getHeight() {\n        return this.radiusY() * 2;\n    }\n    setWidth(width) {\n        this.radiusX(width / 2);\n    }\n    setHeight(height) {\n        this.radiusY(height / 2);\n    }\n}\nEllipse.prototype.className = 'Ellipse';\nEllipse.prototype._centroid = true;\nEllipse.prototype._attrsAffectingSize = ['radiusX', 'radiusY'];\n_registerNode(Ellipse);\nFactory.addComponentsGetterSetter(Ellipse, 'radius', ['x', 'y']);\nFactory.addGetterSetter(Ellipse, 'radiusX', 0, getNumberValidator());\nFactory.addGetterSetter(Ellipse, 'radiusY', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Image extends Shape {\n    constructor(attrs) {\n        super(attrs);\n        this.on('imageChange.konva', () => {\n            this._setImageLoad();\n        });\n        this._setImageLoad();\n    }\n    _setImageLoad() {\n        const image = this.image();\n        if (image && image.complete) {\n            return;\n        }\n        if (image && image.readyState === 4) {\n            return;\n        }\n        if (image && image['addEventListener']) {\n            image['addEventListener']('load', () => {\n                this._requestDraw();\n            });\n        }\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _sceneFunc(context) {\n        const width = this.getWidth();\n        const height = this.getHeight();\n        const image = this.attrs.image;\n        let params;\n        if (image) {\n            const cropWidth = this.attrs.cropWidth;\n            const cropHeight = this.attrs.cropHeight;\n            if (cropWidth && cropHeight) {\n                params = [\n                    image,\n                    this.cropX(),\n                    this.cropY(),\n                    cropWidth,\n                    cropHeight,\n                    0,\n                    0,\n                    width,\n                    height,\n                ];\n            }\n            else {\n                params = [image, 0, 0, width, height];\n            }\n        }\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            context.drawImage.apply(context, params);\n        }\n    }\n    _hitFunc(context) {\n        var width = this.width(), height = this.height();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        var _a, _b;\n        return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.width;\n    }\n    getHeight() {\n        var _a, _b;\n        return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.height;\n    }\n    static fromURL(url, callback, onError = null) {\n        var img = Util.createImageElement();\n        img.onload = function () {\n            var image = new Image({\n                image: img,\n            });\n            callback(image);\n        };\n        img.onerror = onError;\n        img.crossOrigin = 'Anonymous';\n        img.src = url;\n    }\n}\nImage.prototype.className = 'Image';\n_registerNode(Image);\nFactory.addGetterSetter(Image, 'image');\nFactory.addComponentsGetterSetter(Image, 'crop', ['x', 'y', 'width', 'height']);\nFactory.addGetterSetter(Image, 'cropX', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropY', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropHeight', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Group } from '../Group.js';\nimport { getNumberOrArrayOfNumbersValidator, getNumberValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'pointerDirection',\n    'pointerWidth',\n    'pointerHeight',\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nexport class Label extends Group {\n    constructor(config) {\n        super(config);\n        this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n    }\n    getText() {\n        return this.find('Text')[0];\n    }\n    getTag() {\n        return this.find('Tag')[0];\n    }\n    _addListeners(text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    }\n    getWidth() {\n        return this.getText().width();\n    }\n    getHeight() {\n        return this.getText().height();\n    }\n    _sync() {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height,\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n            });\n        }\n    }\n}\nLabel.prototype.className = 'Label';\n_registerNode(Label);\nexport class Tag extends Shape {\n    _sceneFunc(context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = this.cornerRadius();\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft =\n                topRight =\n                    bottomLeft =\n                        bottomRight =\n                            Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.beginPath();\n        context.moveTo(topLeft, 0);\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getSelfRect() {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    }\n}\nTag.prototype.className = 'Tag';\n_registerNode(Tag);\nFactory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory.addGetterSetter(Tag, 'pointerWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'pointerHeight', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nimport { getNumberOrArrayOfNumbersValidator } from '../Validators.js';\nexport class Rect extends Shape {\n    _sceneFunc(context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            let topLeft = 0;\n            let topRight = 0;\n            let bottomLeft = 0;\n            let bottomRight = 0;\n            if (typeof cornerRadius === 'number') {\n                topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n            }\n            else {\n                topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n                topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n                bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n                bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n            }\n            context.moveTo(topLeft, 0);\n            context.lineTo(width - topRight, 0);\n            context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n            context.lineTo(width, height - bottomRight);\n            context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n            context.lineTo(bottomLeft, height);\n            context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n            context.lineTo(0, topLeft);\n            context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nRect.prototype.className = 'Rect';\n_registerNode(Rect);\nFactory.addGetterSetter(Rect, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class RegularPolygon extends Shape {\n    _sceneFunc(context) {\n        const points = this._getPoints();\n        context.beginPath();\n        context.moveTo(points[0].x, points[0].y);\n        for (var n = 1; n < points.length; n++) {\n            context.lineTo(points[n].x, points[n].y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    _getPoints() {\n        const sides = this.attrs.sides;\n        const radius = this.attrs.radius || 0;\n        const points = [];\n        for (var n = 0; n < sides; n++) {\n            points.push({\n                x: radius * Math.sin((n * 2 * Math.PI) / sides),\n                y: -1 * radius * Math.cos((n * 2 * Math.PI) / sides),\n            });\n        }\n        return points;\n    }\n    getSelfRect() {\n        const points = this._getPoints();\n        var minX = points[0].x;\n        var maxX = points[0].y;\n        var minY = points[0].x;\n        var maxY = points[0].y;\n        points.forEach((point) => {\n            minX = Math.min(minX, point.x);\n            maxX = Math.max(maxX, point.x);\n            minY = Math.min(minY, point.y);\n            maxY = Math.max(maxY, point.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nRegularPolygon.prototype.className = 'RegularPolygon';\nRegularPolygon.prototype._centroid = true;\nRegularPolygon.prototype._attrsAffectingSize = ['radius'];\n_registerNode(RegularPolygon);\nFactory.addGetterSetter(RegularPolygon, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(RegularPolygon, 'sides', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar PIx2 = Math.PI * 2;\nexport class Ring extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.innerRadius(), 0, PIx2, false);\n        context.moveTo(this.outerRadius(), 0);\n        context.arc(0, 0, this.outerRadius(), PIx2, 0, true);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nRing.prototype.className = 'Ring';\nRing.prototype._centroid = true;\nRing.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Ring);\nFactory.addGetterSetter(Ring, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Ring, 'outerRadius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Animation } from '../Animation.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Sprite extends Shape {\n    constructor(config) {\n        super(config);\n        this._updated = true;\n        this.anim = new Animation(() => {\n            var updated = this._updated;\n            this._updated = false;\n            return updated;\n        });\n        this.on('animationChange.konva', function () {\n            this.frameIndex(0);\n        });\n        this.on('frameIndexChange.konva', function () {\n            this._updated = true;\n        });\n        this.on('frameRateChange.konva', function () {\n            if (!this.anim.isRunning()) {\n                return;\n            }\n            clearInterval(this.interval);\n            this._setInterval();\n        });\n    }\n    _sceneFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            if (offsets) {\n                var offset = offsets[anim], ix2 = index * 2;\n                context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n            }\n            else {\n                context.drawImage(image, x, y, width, height, 0, 0, width, height);\n            }\n        }\n    }\n    _hitFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];\n        context.beginPath();\n        if (offsets) {\n            var offset = offsets[anim];\n            var ix2 = index * 2;\n            context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n        }\n        else {\n            context.rect(0, 0, width, height);\n        }\n        context.closePath();\n        context.fillShape(this);\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _setInterval() {\n        var that = this;\n        this.interval = setInterval(function () {\n            that._updateIndex();\n        }, 1000 / this.frameRate());\n    }\n    start() {\n        if (this.isRunning()) {\n            return;\n        }\n        var layer = this.getLayer();\n        this.anim.setLayers(layer);\n        this._setInterval();\n        this.anim.start();\n    }\n    stop() {\n        this.anim.stop();\n        clearInterval(this.interval);\n    }\n    isRunning() {\n        return this.anim.isRunning();\n    }\n    _updateIndex() {\n        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;\n        if (index < len - 1) {\n            this.frameIndex(index + 1);\n        }\n        else {\n            this.frameIndex(0);\n        }\n    }\n}\nSprite.prototype.className = 'Sprite';\n_registerNode(Sprite);\nFactory.addGetterSetter(Sprite, 'animation');\nFactory.addGetterSetter(Sprite, 'animations');\nFactory.addGetterSetter(Sprite, 'frameOffsets');\nFactory.addGetterSetter(Sprite, 'image');\nFactory.addGetterSetter(Sprite, 'frameIndex', 0, getNumberValidator());\nFactory.addGetterSetter(Sprite, 'frameRate', 17, getNumberValidator());\nFactory.backCompat(Sprite, {\n    index: 'frameIndex',\n    getIndex: 'getFrameIndex',\n    setIndex: 'setFrameIndex',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Star extends Shape {\n    _sceneFunc(context) {\n        var innerRadius = this.innerRadius(), outerRadius = this.outerRadius(), numPoints = this.numPoints();\n        context.beginPath();\n        context.moveTo(0, 0 - outerRadius);\n        for (var n = 1; n < numPoints * 2; n++) {\n            var radius = n % 2 === 0 ? outerRadius : innerRadius;\n            var x = radius * Math.sin((n * Math.PI) / numPoints);\n            var y = -1 * radius * Math.cos((n * Math.PI) / numPoints);\n            context.lineTo(x, y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nStar.prototype.className = 'Star';\nStar.prototype._centroid = true;\nStar.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Star);\nFactory.addGetterSetter(Star, 'numPoints', 5, getNumberValidator());\nFactory.addGetterSetter(Star, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Star, 'outerRadius', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getStringValidator, getNumberOrAutoValidator, getBooleanValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport function stringToArray(string) {\n    return Array.from(string);\n}\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nexport class Text extends Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        if (this.align() === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        var shouldHandleEllipsis = this._shouldHandleEllipsis(currentHeightPx);\n                        if (shouldHandleEllipsis) {\n                            this._tryToAddEllipsisToLastLine();\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n                if (this._shouldHandleEllipsis(currentHeightPx) && i < max - 1) {\n                    this._tryToAddEllipsisToLastLine();\n                }\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    _shouldHandleEllipsis(currentHeightPx) {\n        var fontSize = +this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, height = this.attrs.height, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxHeightPx = height - padding * 2, wrap = this.wrap(), shouldWrap = wrap !== NONE;\n        return (!shouldWrap ||\n            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx));\n    }\n    _tryToAddEllipsisToLastLine() {\n        var width = this.attrs.width, fixedWidth = width !== AUTO && width !== undefined, padding = this.padding(), maxWidth = width - padding * 2, shouldAddEllipsis = this.ellipsis();\n        var lastLine = this.textArr[this.textArr.length - 1];\n        if (!lastLine || !shouldAddEllipsis) {\n            return;\n        }\n        if (fixedWidth) {\n            var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n            if (!haveSpace) {\n                lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n            }\n        }\n        this.textArr.splice(this.textArr.length - 1, 1);\n        this._addTextLine(lastLine.text + ELLIPSIS);\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n_registerNode(Text);\nFactory.overWriteSetter(Text, 'width', getNumberOrAutoValidator());\nFactory.overWriteSetter(Text, 'height', getNumberOrAutoValidator());\nFactory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory.addGetterSetter(Text, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory.addGetterSetter(Text, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'align', LEFT);\nFactory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory.addGetterSetter(Text, 'lineHeight', 1, getNumberValidator());\nFactory.addGetterSetter(Text, 'wrap', WORD);\nFactory.addGetterSetter(Text, 'ellipsis', false, getBooleanValidator());\nFactory.addGetterSetter(Text, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'text', '', getStringValidator());\nFactory.addGetterSetter(Text, 'textDecoration', '');\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Path } from './Path.js';\nimport { Text, stringToArray } from './Text.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EMPTY_STRING = '', NORMAL = 'normal';\nfunction _fillFunc(context) {\n    context.fillText(this.partialText, 0, 0);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this.partialText, 0, 0);\n}\nexport class TextPath extends Shape {\n    constructor(config) {\n        super(config);\n        this.dummyCanvas = Util.createCanvasElement();\n        this.dataArray = [];\n        this.dataArray = Path.parsePathData(this.attrs.data);\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.attrs.data);\n            this._setTextData();\n        });\n        this.on('textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva', this._setTextData);\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', this.textBaseline());\n        context.setAttr('textAlign', 'left');\n        context.save();\n        var textDecoration = this.textDecoration();\n        var fill = this.fill();\n        var fontSize = this.fontSize();\n        var glyphInfo = this.glyphInfo;\n        if (textDecoration === 'underline') {\n            context.beginPath();\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            context.save();\n            var p0 = glyphInfo[i].p0;\n            context.translate(p0.x, p0.y);\n            context.rotate(glyphInfo[i].rotation);\n            this.partialText = glyphInfo[i].text;\n            context.fillStrokeShape(this);\n            if (textDecoration === 'underline') {\n                if (i === 0) {\n                    context.moveTo(0, fontSize / 2 + 1);\n                }\n                context.lineTo(fontSize, fontSize / 2 + 1);\n            }\n            context.restore();\n        }\n        if (textDecoration === 'underline') {\n            context.strokeStyle = fill;\n            context.lineWidth = fontSize / 20;\n            context.stroke();\n        }\n        context.restore();\n    }\n    _hitFunc(context) {\n        context.beginPath();\n        var glyphInfo = this.glyphInfo;\n        if (glyphInfo.length >= 1) {\n            var p0 = glyphInfo[0].p0;\n            context.moveTo(p0.x, p0.y);\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            var p1 = glyphInfo[i].p1;\n            context.lineTo(p1.x, p1.y);\n        }\n        context.setAttr('lineWidth', this.fontSize());\n        context.setAttr('strokeStyle', this.colorKey);\n        context.stroke();\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    setText(text) {\n        return Text.prototype.setText.call(this, text);\n    }\n    _getContextFont() {\n        return Text.prototype._getContextFont.call(this);\n    }\n    _getTextSize(text) {\n        var dummyCanvas = this.dummyCanvas;\n        var _context = dummyCanvas.getContext('2d');\n        _context.save();\n        _context.font = this._getContextFont();\n        var metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: parseInt(this.attrs.fontSize, 10),\n        };\n    }\n    _setTextData() {\n        var that = this;\n        var size = this._getTextSize(this.attrs.text);\n        var letterSpacing = this.letterSpacing();\n        var align = this.align();\n        var kerningFunc = this.kerningFunc();\n        this.textWidth = size.width;\n        this.textHeight = size.height;\n        var textFullWidth = Math.max(this.textWidth + ((this.attrs.text || '').length - 1) * letterSpacing, 0);\n        this.glyphInfo = [];\n        var fullPathWidth = 0;\n        for (var l = 0; l < that.dataArray.length; l++) {\n            if (that.dataArray[l].pathLength > 0) {\n                fullPathWidth += that.dataArray[l].pathLength;\n            }\n        }\n        var offset = 0;\n        if (align === 'center') {\n            offset = Math.max(0, fullPathWidth / 2 - textFullWidth / 2);\n        }\n        if (align === 'right') {\n            offset = Math.max(0, fullPathWidth - textFullWidth);\n        }\n        var charArr = stringToArray(this.text());\n        var spacesNumber = this.text().split(' ').length - 1;\n        var p0, p1, pathCmd;\n        var pIndex = -1;\n        var currentT = 0;\n        var getNextPathSegment = function () {\n            currentT = 0;\n            var pathData = that.dataArray;\n            for (var j = pIndex + 1; j < pathData.length; j++) {\n                if (pathData[j].pathLength > 0) {\n                    pIndex = j;\n                    return pathData[j];\n                }\n                else if (pathData[j].command === 'M') {\n                    p0 = {\n                        x: pathData[j].points[0],\n                        y: pathData[j].points[1],\n                    };\n                }\n            }\n            return {};\n        };\n        var findSegmentToFitCharacter = function (c) {\n            var glyphWidth = that._getTextSize(c).width + letterSpacing;\n            if (c === ' ' && align === 'justify') {\n                glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber;\n            }\n            var currLen = 0;\n            var attempts = 0;\n            p1 = undefined;\n            while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 &&\n                attempts < 20) {\n                attempts++;\n                var cumulativePathLength = currLen;\n                while (pathCmd === undefined) {\n                    pathCmd = getNextPathSegment();\n                    if (pathCmd &&\n                        cumulativePathLength + pathCmd.pathLength < glyphWidth) {\n                        cumulativePathLength += pathCmd.pathLength;\n                        pathCmd = undefined;\n                    }\n                }\n                if (Object.keys(pathCmd).length === 0 || p0 === undefined) {\n                    return undefined;\n                }\n                var needNewSegment = false;\n                switch (pathCmd.command) {\n                    case 'L':\n                        if (Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {\n                            p1 = Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);\n                        }\n                        else {\n                            pathCmd = undefined;\n                        }\n                        break;\n                    case 'A':\n                        var start = pathCmd.points[4];\n                        var dTheta = pathCmd.points[5];\n                        var end = pathCmd.points[4] + dTheta;\n                        if (currentT === 0) {\n                            currentT = start + 0.00000001;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += ((Math.PI / 180.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        else {\n                            currentT -= ((Math.PI / 360.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        if ((dTheta < 0 && currentT < end) ||\n                            (dTheta >= 0 && currentT > end)) {\n                            currentT = end;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);\n                        break;\n                    case 'C':\n                        if (currentT === 0) {\n                            if (glyphWidth > pathCmd.pathLength) {\n                                currentT = 0.00000001;\n                            }\n                            else {\n                                currentT = glyphWidth / pathCmd.pathLength;\n                            }\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength / 2;\n                        }\n                        else {\n                            currentT = Math.max(currentT - (currLen - glyphWidth) / pathCmd.pathLength / 2, 0);\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);\n                        break;\n                    case 'Q':\n                        if (currentT === 0) {\n                            currentT = glyphWidth / pathCmd.pathLength;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n                        }\n                        else {\n                            currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);\n                        break;\n                }\n                if (p1 !== undefined) {\n                    currLen = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n                }\n                if (needNewSegment) {\n                    needNewSegment = false;\n                    pathCmd = undefined;\n                }\n            }\n        };\n        var testChar = 'C';\n        var glyphWidth = that._getTextSize(testChar).width + letterSpacing;\n        var lettersInOffset = offset / glyphWidth - 1;\n        for (var k = 0; k < lettersInOffset; k++) {\n            findSegmentToFitCharacter(testChar);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            p0 = p1;\n        }\n        for (var i = 0; i < charArr.length; i++) {\n            findSegmentToFitCharacter(charArr[i]);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            var width = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n            var kern = 0;\n            if (kerningFunc) {\n                try {\n                    kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();\n                }\n                catch (e) {\n                    kern = 0;\n                }\n            }\n            p0.x += kern;\n            p1.x += kern;\n            this.textWidth += kern;\n            var midpoint = Path.getPointOnLine(kern + width / 2.0, p0.x, p0.y, p1.x, p1.y);\n            var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n            this.glyphInfo.push({\n                transposeX: midpoint.x,\n                transposeY: midpoint.y,\n                text: charArr[i],\n                rotation: rotation,\n                p0: p0,\n                p1: p1,\n            });\n            p0 = p1;\n        }\n    }\n    getSelfRect() {\n        if (!this.glyphInfo.length) {\n            return {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        var points = [];\n        this.glyphInfo.forEach(function (info) {\n            points.push(info.p0.x);\n            points.push(info.p0.y);\n            points.push(info.p1.x);\n            points.push(info.p1.y);\n        });\n        var minX = points[0] || 0;\n        var maxX = points[0] || 0;\n        var minY = points[1] || 0;\n        var maxY = points[1] || 0;\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        var fontSize = this.fontSize();\n        return {\n            x: minX - fontSize / 2,\n            y: minY - fontSize / 2,\n            width: maxX - minX + fontSize,\n            height: maxY - minY + fontSize,\n        };\n    }\n}\nTextPath.prototype._fillFunc = _fillFunc;\nTextPath.prototype._strokeFunc = _strokeFunc;\nTextPath.prototype._fillFuncHit = _fillFunc;\nTextPath.prototype._strokeFuncHit = _strokeFunc;\nTextPath.prototype.className = 'TextPath';\nTextPath.prototype._attrsAffectingSize = ['text', 'fontSize', 'data'];\n_registerNode(TextPath);\nFactory.addGetterSetter(TextPath, 'data');\nFactory.addGetterSetter(TextPath, 'fontFamily', 'Arial');\nFactory.addGetterSetter(TextPath, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'fontStyle', NORMAL);\nFactory.addGetterSetter(TextPath, 'align', 'left');\nFactory.addGetterSetter(TextPath, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'textBaseline', 'middle');\nFactory.addGetterSetter(TextPath, 'fontVariant', NORMAL);\nFactory.addGetterSetter(TextPath, 'text', EMPTY_STRING);\nFactory.addGetterSetter(TextPath, 'textDecoration', null);\nFactory.addGetterSetter(TextPath, 'kerningFunc', null);\n","import { Util, Transform } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Shape } from '../Shape.js';\nimport { Rect } from './Rect.js';\nimport { Group } from '../Group.js';\nimport { Konva } from '../Global.js';\nimport { getBooleanValidator, getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EVENTS_NAME = 'tr-konva';\nvar ATTR_CHANGE_LIST = [\n    'resizeEnabledChange',\n    'rotateAnchorOffsetChange',\n    'rotateEnabledChange',\n    'enabledAnchorsChange',\n    'anchorSizeChange',\n    'borderEnabledChange',\n    'borderStrokeChange',\n    'borderStrokeWidthChange',\n    'borderDashChange',\n    'anchorStrokeChange',\n    'anchorStrokeWidthChange',\n    'anchorFillChange',\n    'anchorCornerRadiusChange',\n    'ignoreStrokeChange',\n]\n    .map((e) => e + `.${EVENTS_NAME}`)\n    .join(' ');\nvar NODES_RECT = 'nodesRect';\nvar TRANSFORM_CHANGE_STR = [\n    'widthChange',\n    'heightChange',\n    'scaleXChange',\n    'scaleYChange',\n    'skewXChange',\n    'skewYChange',\n    'rotationChange',\n    'offsetXChange',\n    'offsetYChange',\n    'transformsEnabledChange',\n    'strokeWidthChange',\n];\nvar ANGLES = {\n    'top-left': -45,\n    'top-center': 0,\n    'top-right': 45,\n    'middle-right': -90,\n    'middle-left': 90,\n    'bottom-left': -135,\n    'bottom-center': 180,\n    'bottom-right': 135,\n};\nconst TOUCH_DEVICE = 'ontouchstart' in Konva._global;\nfunction getCursor(anchorName, rad) {\n    if (anchorName === 'rotater') {\n        return 'crosshair';\n    }\n    rad += Util.degToRad(ANGLES[anchorName] || 0);\n    var angle = ((Util.radToDeg(rad) % 360) + 360) % 360;\n    if (Util._inRange(angle, 315 + 22.5, 360) || Util._inRange(angle, 0, 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else if (Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else {\n        Util.error('Transformer has unknown angle for cursor detection: ' + angle);\n        return 'pointer';\n    }\n}\nvar ANCHORS_NAMES = [\n    'top-left',\n    'top-center',\n    'top-right',\n    'middle-right',\n    'middle-left',\n    'bottom-left',\n    'bottom-center',\n    'bottom-right',\n];\nvar MAX_SAFE_INTEGER = 100000000;\nfunction getCenter(shape) {\n    return {\n        x: shape.x +\n            (shape.width / 2) * Math.cos(shape.rotation) +\n            (shape.height / 2) * Math.sin(-shape.rotation),\n        y: shape.y +\n            (shape.height / 2) * Math.cos(shape.rotation) +\n            (shape.width / 2) * Math.sin(shape.rotation),\n    };\n}\nfunction rotateAroundPoint(shape, angleRad, point) {\n    const x = point.x +\n        (shape.x - point.x) * Math.cos(angleRad) -\n        (shape.y - point.y) * Math.sin(angleRad);\n    const y = point.y +\n        (shape.x - point.x) * Math.sin(angleRad) +\n        (shape.y - point.y) * Math.cos(angleRad);\n    return Object.assign(Object.assign({}, shape), { rotation: shape.rotation + angleRad, x,\n        y });\n}\nfunction rotateAroundCenter(shape, deltaRad) {\n    const center = getCenter(shape);\n    return rotateAroundPoint(shape, deltaRad, center);\n}\nfunction getSnap(snaps, newRotationRad, tol) {\n    let snapped = newRotationRad;\n    for (let i = 0; i < snaps.length; i++) {\n        const angle = Konva.getAngle(snaps[i]);\n        const absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);\n        const dif = Math.min(absDiff, Math.PI * 2 - absDiff);\n        if (dif < tol) {\n            snapped = angle;\n        }\n    }\n    return snapped;\n}\nexport class Transformer extends Group {\n    constructor(config) {\n        super(config);\n        this._transforming = false;\n        this._createElements();\n        this._handleMouseMove = this._handleMouseMove.bind(this);\n        this._handleMouseUp = this._handleMouseUp.bind(this);\n        this.update = this.update.bind(this);\n        this.on(ATTR_CHANGE_LIST, this.update);\n        if (this.getNode()) {\n            this.update();\n        }\n    }\n    attachTo(node) {\n        this.setNode(node);\n        return this;\n    }\n    setNode(node) {\n        Util.warn('tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.');\n        return this.setNodes([node]);\n    }\n    getNode() {\n        return this._nodes && this._nodes[0];\n    }\n    _getEventNamespace() {\n        return EVENTS_NAME + this._id;\n    }\n    setNodes(nodes = []) {\n        if (this._nodes && this._nodes.length) {\n            this.detach();\n        }\n        this._nodes = nodes;\n        if (nodes.length === 1 && this.useSingleNodeRotation()) {\n            this.rotation(nodes[0].getAbsoluteRotation());\n        }\n        else {\n            this.rotation(0);\n        }\n        this._nodes.forEach((node) => {\n            const onChange = () => {\n                if (this.nodes().length === 1 && this.useSingleNodeRotation()) {\n                    this.rotation(this.nodes()[0].getAbsoluteRotation());\n                }\n                this._resetTransformCache();\n                if (!this._transforming && !this.isDragging()) {\n                    this.update();\n                }\n            };\n            const additionalEvents = node._attrsAffectingSize\n                .map((prop) => prop + 'Change.' + this._getEventNamespace())\n                .join(' ');\n            node.on(additionalEvents, onChange);\n            node.on(TRANSFORM_CHANGE_STR.map((e) => e + `.${this._getEventNamespace()}`).join(' '), onChange);\n            node.on(`absoluteTransformChange.${this._getEventNamespace()}`, onChange);\n            this._proxyDrag(node);\n        });\n        this._resetTransformCache();\n        var elementsCreated = !!this.findOne('.top-left');\n        if (elementsCreated) {\n            this.update();\n        }\n        return this;\n    }\n    _proxyDrag(node) {\n        let lastPos;\n        node.on(`dragstart.${this._getEventNamespace()}`, (e) => {\n            lastPos = node.getAbsolutePosition();\n            if (!this.isDragging() && node !== this.findOne('.back')) {\n                this.startDrag(e, false);\n            }\n        });\n        node.on(`dragmove.${this._getEventNamespace()}`, (e) => {\n            if (!lastPos) {\n                return;\n            }\n            const abs = node.getAbsolutePosition();\n            const dx = abs.x - lastPos.x;\n            const dy = abs.y - lastPos.y;\n            this.nodes().forEach((otherNode) => {\n                if (otherNode === node) {\n                    return;\n                }\n                if (otherNode.isDragging()) {\n                    return;\n                }\n                const otherAbs = otherNode.getAbsolutePosition();\n                otherNode.setAbsolutePosition({\n                    x: otherAbs.x + dx,\n                    y: otherAbs.y + dy,\n                });\n                otherNode.startDrag(e);\n            });\n            lastPos = null;\n        });\n    }\n    getNodes() {\n        return this._nodes || [];\n    }\n    getActiveAnchor() {\n        return this._movingAnchorName;\n    }\n    detach() {\n        if (this._nodes) {\n            this._nodes.forEach((node) => {\n                node.off('.' + this._getEventNamespace());\n            });\n        }\n        this._nodes = [];\n        this._resetTransformCache();\n    }\n    _resetTransformCache() {\n        this._clearCache(NODES_RECT);\n        this._clearCache('transform');\n        this._clearSelfAndDescendantCache('absoluteTransform');\n    }\n    _getNodeRect() {\n        return this._getCache(NODES_RECT, this.__getNodeRect);\n    }\n    __getNodeShape(node, rot = this.rotation(), relative) {\n        var rect = node.getClientRect({\n            skipTransform: true,\n            skipShadow: true,\n            skipStroke: this.ignoreStroke(),\n        });\n        var absScale = node.getAbsoluteScale(relative);\n        var absPos = node.getAbsolutePosition(relative);\n        var dx = rect.x * absScale.x - node.offsetX() * absScale.x;\n        var dy = rect.y * absScale.y - node.offsetY() * absScale.y;\n        const rotation = (Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) %\n            (Math.PI * 2);\n        const box = {\n            x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),\n            y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),\n            width: rect.width * absScale.x,\n            height: rect.height * absScale.y,\n            rotation: rotation,\n        };\n        return rotateAroundPoint(box, -Konva.getAngle(rot), {\n            x: 0,\n            y: 0,\n        });\n    }\n    __getNodeRect() {\n        var node = this.getNode();\n        if (!node) {\n            return {\n                x: -MAX_SAFE_INTEGER,\n                y: -MAX_SAFE_INTEGER,\n                width: 0,\n                height: 0,\n                rotation: 0,\n            };\n        }\n        const totalPoints = [];\n        this.nodes().map((node) => {\n            const box = node.getClientRect({\n                skipTransform: true,\n                skipShadow: true,\n                skipStroke: this.ignoreStroke(),\n            });\n            var points = [\n                { x: box.x, y: box.y },\n                { x: box.x + box.width, y: box.y },\n                { x: box.x + box.width, y: box.y + box.height },\n                { x: box.x, y: box.y + box.height },\n            ];\n            var trans = node.getAbsoluteTransform();\n            points.forEach(function (point) {\n                var transformed = trans.point(point);\n                totalPoints.push(transformed);\n            });\n        });\n        const tr = new Transform();\n        tr.rotate(-Konva.getAngle(this.rotation()));\n        var minX, minY, maxX, maxY;\n        totalPoints.forEach(function (point) {\n            var transformed = tr.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        tr.invert();\n        const p = tr.point({ x: minX, y: minY });\n        return {\n            x: p.x,\n            y: p.y,\n            width: maxX - minX,\n            height: maxY - minY,\n            rotation: Konva.getAngle(this.rotation()),\n        };\n    }\n    getX() {\n        return this._getNodeRect().x;\n    }\n    getY() {\n        return this._getNodeRect().y;\n    }\n    getWidth() {\n        return this._getNodeRect().width;\n    }\n    getHeight() {\n        return this._getNodeRect().height;\n    }\n    _createElements() {\n        this._createBack();\n        ANCHORS_NAMES.forEach(function (name) {\n            this._createAnchor(name);\n        }.bind(this));\n        this._createAnchor('rotater');\n    }\n    _createAnchor(name) {\n        var anchor = new Rect({\n            stroke: 'rgb(0, 161, 255)',\n            fill: 'white',\n            strokeWidth: 1,\n            name: name + ' _anchor',\n            dragDistance: 0,\n            draggable: true,\n            hitStrokeWidth: TOUCH_DEVICE ? 10 : 'auto',\n        });\n        var self = this;\n        anchor.on('mousedown touchstart', function (e) {\n            self._handleMouseDown(e);\n        });\n        anchor.on('dragstart', (e) => {\n            anchor.stopDrag();\n            e.cancelBubble = true;\n        });\n        anchor.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        anchor.on('mouseenter', () => {\n            var rad = Konva.getAngle(this.rotation());\n            var cursor = getCursor(name, rad);\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = cursor);\n            this._cursorChange = true;\n        });\n        anchor.on('mouseout', () => {\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = '');\n            this._cursorChange = false;\n        });\n        this.add(anchor);\n    }\n    _createBack() {\n        var back = new Shape({\n            name: 'back',\n            width: 0,\n            height: 0,\n            draggable: true,\n            sceneFunc(ctx) {\n                var tr = this.getParent();\n                var padding = tr.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, this.width() + padding * 2, this.height() + padding * 2);\n                ctx.moveTo(this.width() / 2, -padding);\n                if (tr.rotateEnabled()) {\n                    ctx.lineTo(this.width() / 2, -tr.rotateAnchorOffset() * Util._sign(this.height()) - padding);\n                }\n                ctx.fillStrokeShape(this);\n            },\n            hitFunc: (ctx, shape) => {\n                if (!this.shouldOverdrawWholeArea()) {\n                    return;\n                }\n                var padding = this.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);\n                ctx.fillStrokeShape(shape);\n            },\n        });\n        this.add(back);\n        this._proxyDrag(back);\n        back.on('dragstart', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragmove', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        this.on('dragmove', (e) => {\n            this.update();\n        });\n    }\n    _handleMouseDown(e) {\n        this._movingAnchorName = e.target.name().split(' ')[0];\n        var attrs = this._getNodeRect();\n        var width = attrs.width;\n        var height = attrs.height;\n        var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n        this.sin = Math.abs(height / hypotenuse);\n        this.cos = Math.abs(width / hypotenuse);\n        if (typeof window !== 'undefined') {\n            window.addEventListener('mousemove', this._handleMouseMove);\n            window.addEventListener('touchmove', this._handleMouseMove);\n            window.addEventListener('mouseup', this._handleMouseUp, true);\n            window.addEventListener('touchend', this._handleMouseUp, true);\n        }\n        this._transforming = true;\n        var ap = e.target.getAbsolutePosition();\n        var pos = e.target.getStage().getPointerPosition();\n        this._anchorDragOffset = {\n            x: pos.x - ap.x,\n            y: pos.y - ap.y,\n        };\n        this._fire('transformstart', { evt: e.evt, target: this.getNode() });\n        this._nodes.forEach((target) => {\n            target._fire('transformstart', { evt: e.evt, target });\n        });\n    }\n    _handleMouseMove(e) {\n        var x, y, newHypotenuse;\n        var anchorNode = this.findOne('.' + this._movingAnchorName);\n        var stage = anchorNode.getStage();\n        stage.setPointersPositions(e);\n        const pp = stage.getPointerPosition();\n        let newNodePos = {\n            x: pp.x - this._anchorDragOffset.x,\n            y: pp.y - this._anchorDragOffset.y,\n        };\n        const oldAbs = anchorNode.getAbsolutePosition();\n        if (this.anchorDragBoundFunc()) {\n            newNodePos = this.anchorDragBoundFunc()(oldAbs, newNodePos, e);\n        }\n        anchorNode.setAbsolutePosition(newNodePos);\n        const newAbs = anchorNode.getAbsolutePosition();\n        if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {\n            return;\n        }\n        if (this._movingAnchorName === 'rotater') {\n            var attrs = this._getNodeRect();\n            x = anchorNode.x() - attrs.width / 2;\n            y = -anchorNode.y() + attrs.height / 2;\n            let delta = Math.atan2(-y, x) + Math.PI / 2;\n            if (attrs.height < 0) {\n                delta -= Math.PI;\n            }\n            var oldRotation = Konva.getAngle(this.rotation());\n            const newRotation = oldRotation + delta;\n            const tol = Konva.getAngle(this.rotationSnapTolerance());\n            const snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);\n            const diff = snappedRot - attrs.rotation;\n            const shape = rotateAroundCenter(attrs, diff);\n            this._fitNodesInto(shape, e);\n            return;\n        }\n        var keepProportion = this.keepRatio() || e.shiftKey;\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (this._movingAnchorName === 'top-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-right').x(),\n                        y: this.findOne('.bottom-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-left').x() > comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-left').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-left').x(comparePoint.x - x);\n                this.findOne('.top-left').y(comparePoint.y - y);\n            }\n        }\n        else if (this._movingAnchorName === 'top-center') {\n            this.findOne('.top-left').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'top-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-left').x(),\n                        y: this.findOne('.bottom-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-right').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-right').x(comparePoint.x + x);\n                this.findOne('.top-right').y(comparePoint.y - y);\n            }\n            var pos = anchorNode.position();\n            this.findOne('.top-left').y(pos.y);\n            this.findOne('.bottom-right').x(pos.x);\n        }\n        else if (this._movingAnchorName === 'middle-left') {\n            this.findOne('.top-left').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'middle-right') {\n            this.findOne('.bottom-right').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'bottom-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-right').x(),\n                        y: this.findOne('.top-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;\n                var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                anchorNode.x(comparePoint.x - x);\n                anchorNode.y(comparePoint.y + y);\n            }\n            pos = anchorNode.position();\n            this.findOne('.top-left').x(pos.x);\n            this.findOne('.bottom-right').y(pos.y);\n        }\n        else if (this._movingAnchorName === 'bottom-center') {\n            this.findOne('.bottom-right').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'bottom-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-left').x(),\n                        y: this.findOne('.top-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = this.findOne('.bottom-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.bottom-right').y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.bottom-right').x(comparePoint.x + x);\n                this.findOne('.bottom-right').y(comparePoint.y + y);\n            }\n        }\n        else {\n            console.error(new Error('Wrong position argument of selection resizer: ' +\n                this._movingAnchorName));\n        }\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (centeredScaling) {\n            var topLeft = this.findOne('.top-left');\n            var bottomRight = this.findOne('.bottom-right');\n            var topOffsetX = topLeft.x();\n            var topOffsetY = topLeft.y();\n            var bottomOffsetX = this.getWidth() - bottomRight.x();\n            var bottomOffsetY = this.getHeight() - bottomRight.y();\n            bottomRight.move({\n                x: -topOffsetX,\n                y: -topOffsetY,\n            });\n            topLeft.move({\n                x: bottomOffsetX,\n                y: bottomOffsetY,\n            });\n        }\n        var absPos = this.findOne('.top-left').getAbsolutePosition();\n        x = absPos.x;\n        y = absPos.y;\n        var width = this.findOne('.bottom-right').x() - this.findOne('.top-left').x();\n        var height = this.findOne('.bottom-right').y() - this.findOne('.top-left').y();\n        this._fitNodesInto({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            rotation: Konva.getAngle(this.rotation()),\n        }, e);\n    }\n    _handleMouseUp(e) {\n        this._removeEvents(e);\n    }\n    getAbsoluteTransform() {\n        return this.getTransform();\n    }\n    _removeEvents(e) {\n        if (this._transforming) {\n            this._transforming = false;\n            if (typeof window !== 'undefined') {\n                window.removeEventListener('mousemove', this._handleMouseMove);\n                window.removeEventListener('touchmove', this._handleMouseMove);\n                window.removeEventListener('mouseup', this._handleMouseUp, true);\n                window.removeEventListener('touchend', this._handleMouseUp, true);\n            }\n            var node = this.getNode();\n            this._fire('transformend', { evt: e, target: node });\n            if (node) {\n                this._nodes.forEach((target) => {\n                    target._fire('transformend', { evt: e, target });\n                });\n            }\n            this._movingAnchorName = null;\n        }\n    }\n    _fitNodesInto(newAttrs, evt) {\n        var oldAttrs = this._getNodeRect();\n        const minSize = 1;\n        if (Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        if (Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        const allowNegativeScale = this.flipEnabled();\n        var t = new Transform();\n        t.rotate(Konva.getAngle(this.rotation()));\n        if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('left') >= 0) {\n            const offset = t.point({\n                x: -this.padding() * 2,\n                y: 0,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            newAttrs.width += this.padding() * 2;\n            this._movingAnchorName = this._movingAnchorName.replace('left', 'right');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('right') >= 0) {\n            const offset = t.point({\n                x: this.padding() * 2,\n                y: 0,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('right', 'left');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.width += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('top') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: -this.padding() * 2,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            this._movingAnchorName = this._movingAnchorName.replace('top', 'bottom');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('bottom') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: this.padding() * 2,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('bottom', 'top');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this.boundBoxFunc()) {\n            const bounded = this.boundBoxFunc()(oldAttrs, newAttrs);\n            if (bounded) {\n                newAttrs = bounded;\n            }\n            else {\n                Util.warn('boundBoxFunc returned falsy. You should return new bound rect from it!');\n            }\n        }\n        const baseSize = 10000000;\n        const oldTr = new Transform();\n        oldTr.translate(oldAttrs.x, oldAttrs.y);\n        oldTr.rotate(oldAttrs.rotation);\n        oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);\n        const newTr = new Transform();\n        newTr.translate(newAttrs.x, newAttrs.y);\n        newTr.rotate(newAttrs.rotation);\n        newTr.scale(newAttrs.width / baseSize, newAttrs.height / baseSize);\n        const delta = newTr.multiply(oldTr.invert());\n        this._nodes.forEach((node) => {\n            var _a;\n            const parentTransform = node.getParent().getAbsoluteTransform();\n            const localTransform = node.getTransform().copy();\n            localTransform.translate(node.offsetX(), node.offsetY());\n            const newLocalTransform = new Transform();\n            newLocalTransform\n                .multiply(parentTransform.copy().invert())\n                .multiply(delta)\n                .multiply(parentTransform)\n                .multiply(localTransform);\n            const attrs = newLocalTransform.decompose();\n            node.setAttrs(attrs);\n            this._fire('transform', { evt: evt, target: node });\n            node._fire('transform', { evt: evt, target: node });\n            (_a = node.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n        });\n        this.rotation(Util._getRotation(newAttrs.rotation));\n        this._resetTransformCache();\n        this.update();\n        this.getLayer().batchDraw();\n    }\n    forceUpdate() {\n        this._resetTransformCache();\n        this.update();\n    }\n    _batchChangeChild(selector, attrs) {\n        const anchor = this.findOne(selector);\n        anchor.setAttrs(attrs);\n    }\n    update() {\n        var _a;\n        var attrs = this._getNodeRect();\n        this.rotation(Util._getRotation(attrs.rotation));\n        var width = attrs.width;\n        var height = attrs.height;\n        var enabledAnchors = this.enabledAnchors();\n        var resizeEnabled = this.resizeEnabled();\n        var padding = this.padding();\n        var anchorSize = this.anchorSize();\n        this.find('._anchor').forEach((node) => {\n            node.setAttrs({\n                width: anchorSize,\n                height: anchorSize,\n                offsetX: anchorSize / 2,\n                offsetY: anchorSize / 2,\n                stroke: this.anchorStroke(),\n                strokeWidth: this.anchorStrokeWidth(),\n                fill: this.anchorFill(),\n                cornerRadius: this.anchorCornerRadius(),\n            });\n        });\n        this._batchChangeChild('.top-left', {\n            x: 0,\n            y: 0,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-left') >= 0,\n        });\n        this._batchChangeChild('.top-center', {\n            x: width / 2,\n            y: 0,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-center') >= 0,\n        });\n        this._batchChangeChild('.top-right', {\n            x: width,\n            y: 0,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-right') >= 0,\n        });\n        this._batchChangeChild('.middle-left', {\n            x: 0,\n            y: height / 2,\n            offsetX: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-left') >= 0,\n        });\n        this._batchChangeChild('.middle-right', {\n            x: width,\n            y: height / 2,\n            offsetX: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-right') >= 0,\n        });\n        this._batchChangeChild('.bottom-left', {\n            x: 0,\n            y: height,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-left') >= 0,\n        });\n        this._batchChangeChild('.bottom-center', {\n            x: width / 2,\n            y: height,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-center') >= 0,\n        });\n        this._batchChangeChild('.bottom-right', {\n            x: width,\n            y: height,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-right') >= 0,\n        });\n        this._batchChangeChild('.rotater', {\n            x: width / 2,\n            y: -this.rotateAnchorOffset() * Util._sign(height) - padding,\n            visible: this.rotateEnabled(),\n        });\n        this._batchChangeChild('.back', {\n            width: width,\n            height: height,\n            visible: this.borderEnabled(),\n            stroke: this.borderStroke(),\n            strokeWidth: this.borderStrokeWidth(),\n            dash: this.borderDash(),\n            x: 0,\n            y: 0,\n        });\n        (_a = this.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n    }\n    isTransforming() {\n        return this._transforming;\n    }\n    stopTransform() {\n        if (this._transforming) {\n            this._removeEvents();\n            var anchorNode = this.findOne('.' + this._movingAnchorName);\n            if (anchorNode) {\n                anchorNode.stopDrag();\n            }\n        }\n    }\n    destroy() {\n        if (this.getStage() && this._cursorChange) {\n            this.getStage().content && (this.getStage().content.style.cursor = '');\n        }\n        Group.prototype.destroy.call(this);\n        this.detach();\n        this._removeEvents();\n        return this;\n    }\n    toObject() {\n        return Node.prototype.toObject.call(this);\n    }\n    getClientRect() {\n        if (this.nodes().length > 0) {\n            return super.getClientRect();\n        }\n        else {\n            return { x: 0, y: 0, width: 0, height: 0 };\n        }\n    }\n}\nfunction validateAnchors(val) {\n    if (!(val instanceof Array)) {\n        Util.warn('enabledAnchors value should be an array');\n    }\n    if (val instanceof Array) {\n        val.forEach(function (name) {\n            if (ANCHORS_NAMES.indexOf(name) === -1) {\n                Util.warn('Unknown anchor name: ' +\n                    name +\n                    '. Available names are: ' +\n                    ANCHORS_NAMES.join(', '));\n            }\n        });\n    }\n    return val || [];\n}\nTransformer.prototype.className = 'Transformer';\n_registerNode(Transformer);\nFactory.addGetterSetter(Transformer, 'enabledAnchors', ANCHORS_NAMES, validateAnchors);\nFactory.addGetterSetter(Transformer, 'flipEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Transformer, 'resizeEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorSize', 10, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotateEnabled', true);\nFactory.addGetterSetter(Transformer, 'rotationSnaps', []);\nFactory.addGetterSetter(Transformer, 'rotateAnchorOffset', 50, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotationSnapTolerance', 5, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'anchorStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'anchorFill', 'white');\nFactory.addGetterSetter(Transformer, 'anchorCornerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'borderStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderDash');\nFactory.addGetterSetter(Transformer, 'keepRatio', true);\nFactory.addGetterSetter(Transformer, 'centeredScaling', false);\nFactory.addGetterSetter(Transformer, 'ignoreStroke', false);\nFactory.addGetterSetter(Transformer, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'node');\nFactory.addGetterSetter(Transformer, 'nodes');\nFactory.addGetterSetter(Transformer, 'boundBoxFunc');\nFactory.addGetterSetter(Transformer, 'anchorDragBoundFunc');\nFactory.addGetterSetter(Transformer, 'shouldOverdrawWholeArea', false);\nFactory.addGetterSetter(Transformer, 'useSingleNodeRotation', true);\nFactory.backCompat(Transformer, {\n    lineEnabled: 'borderEnabled',\n    rotateHandlerOffset: 'rotateAnchorOffset',\n    enabledHandlers: 'enabledAnchors',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Wedge extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.radius(), 0, Konva.getAngle(this.angle()), this.clockwise());\n        context.lineTo(0, 0);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nWedge.prototype.className = 'Wedge';\nWedge.prototype._centroid = true;\nWedge.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Wedge);\nFactory.addGetterSetter(Wedge, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'clockwise', false);\nFactory.backCompat(Wedge, {\n    angleDeg: 'angle',\n    getAngleDeg: 'getAngle',\n    setAngleDeg: 'setAngle',\n});\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction BlurStack() {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n}\nvar mul_table = [\n    512,\n    512,\n    456,\n    512,\n    328,\n    456,\n    335,\n    512,\n    405,\n    328,\n    271,\n    456,\n    388,\n    335,\n    292,\n    512,\n    454,\n    405,\n    364,\n    328,\n    298,\n    271,\n    496,\n    456,\n    420,\n    388,\n    360,\n    335,\n    312,\n    292,\n    273,\n    512,\n    482,\n    454,\n    428,\n    405,\n    383,\n    364,\n    345,\n    328,\n    312,\n    298,\n    284,\n    271,\n    259,\n    496,\n    475,\n    456,\n    437,\n    420,\n    404,\n    388,\n    374,\n    360,\n    347,\n    335,\n    323,\n    312,\n    302,\n    292,\n    282,\n    273,\n    265,\n    512,\n    497,\n    482,\n    468,\n    454,\n    441,\n    428,\n    417,\n    405,\n    394,\n    383,\n    373,\n    364,\n    354,\n    345,\n    337,\n    328,\n    320,\n    312,\n    305,\n    298,\n    291,\n    284,\n    278,\n    271,\n    265,\n    259,\n    507,\n    496,\n    485,\n    475,\n    465,\n    456,\n    446,\n    437,\n    428,\n    420,\n    412,\n    404,\n    396,\n    388,\n    381,\n    374,\n    367,\n    360,\n    354,\n    347,\n    341,\n    335,\n    329,\n    323,\n    318,\n    312,\n    307,\n    302,\n    297,\n    292,\n    287,\n    282,\n    278,\n    273,\n    269,\n    265,\n    261,\n    512,\n    505,\n    497,\n    489,\n    482,\n    475,\n    468,\n    461,\n    454,\n    447,\n    441,\n    435,\n    428,\n    422,\n    417,\n    411,\n    405,\n    399,\n    394,\n    389,\n    383,\n    378,\n    373,\n    368,\n    364,\n    359,\n    354,\n    350,\n    345,\n    341,\n    337,\n    332,\n    328,\n    324,\n    320,\n    316,\n    312,\n    309,\n    305,\n    301,\n    298,\n    294,\n    291,\n    287,\n    284,\n    281,\n    278,\n    274,\n    271,\n    268,\n    265,\n    262,\n    259,\n    257,\n    507,\n    501,\n    496,\n    491,\n    485,\n    480,\n    475,\n    470,\n    465,\n    460,\n    456,\n    451,\n    446,\n    442,\n    437,\n    433,\n    428,\n    424,\n    420,\n    416,\n    412,\n    408,\n    404,\n    400,\n    396,\n    392,\n    388,\n    385,\n    381,\n    377,\n    374,\n    370,\n    367,\n    363,\n    360,\n    357,\n    354,\n    350,\n    347,\n    344,\n    341,\n    338,\n    335,\n    332,\n    329,\n    326,\n    323,\n    320,\n    318,\n    315,\n    312,\n    310,\n    307,\n    304,\n    302,\n    299,\n    297,\n    294,\n    292,\n    289,\n    287,\n    285,\n    282,\n    280,\n    278,\n    275,\n    273,\n    271,\n    269,\n    267,\n    265,\n    263,\n    261,\n    259,\n];\nvar shg_table = [\n    9,\n    11,\n    12,\n    13,\n    13,\n    14,\n    14,\n    15,\n    15,\n    15,\n    15,\n    16,\n    16,\n    16,\n    16,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n];\nfunction filterGaussBlurRGBA(imageData, radius) {\n    var pixels = imageData.data, width = imageData.width, height = imageData.height;\n    var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n    var div = radius + radius + 1, widthMinus1 = width - 1, heightMinus1 = height - 1, radiusPlus1 = radius + 1, sumFactor = (radiusPlus1 * (radiusPlus1 + 1)) / 2, stackStart = new BlurStack(), stackEnd = null, stack = stackStart, stackIn = null, stackOut = null, mul_sum = mul_table[radius], shg_sum = shg_table[radius];\n    for (i = 1; i < div; i++) {\n        stack = stack.next = new BlurStack();\n        if (i === radiusPlus1) {\n            stackEnd = stack;\n        }\n    }\n    stack.next = stackStart;\n    yw = yi = 0;\n    for (y = 0; y < height; y++) {\n        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        for (i = 1; i < radiusPlus1; i++) {\n            p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n            r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n        }\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (x = 0; x < width; x++) {\n            pixels[yi + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa !== 0) {\n                pa = 255 / pa;\n                pixels[yi] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p = (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n            r_in_sum += stackIn.r = pixels[p];\n            g_in_sum += stackIn.g = pixels[p + 1];\n            b_in_sum += stackIn.b = pixels[p + 2];\n            a_in_sum += stackIn.a = pixels[p + 3];\n            r_sum += r_in_sum;\n            g_sum += g_in_sum;\n            b_sum += b_in_sum;\n            a_sum += a_in_sum;\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += 4;\n        }\n        yw += width;\n    }\n    for (x = 0; x < width; x++) {\n        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n        yi = x << 2;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        yp = width;\n        for (i = 1; i <= radius; i++) {\n            yi = (yp + x) << 2;\n            r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n            if (i < heightMinus1) {\n                yp += width;\n            }\n        }\n        yi = x;\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (y = 0; y < height; y++) {\n            p = yi << 2;\n            pixels[p + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa > 0) {\n                pa = 255 / pa;\n                pixels[p] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p =\n                (x +\n                    ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width) <<\n                    2;\n            r_sum += r_in_sum += stackIn.r = pixels[p];\n            g_sum += g_in_sum += stackIn.g = pixels[p + 1];\n            b_sum += b_in_sum += stackIn.b = pixels[p + 2];\n            a_sum += a_in_sum += stackIn.a = pixels[p + 3];\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += width;\n        }\n    }\n}\nexport const Blur = function Blur(imageData) {\n    var radius = Math.round(this.blurRadius());\n    if (radius > 0) {\n        filterGaussBlurRGBA(imageData, radius);\n    }\n};\nFactory.addGetterSetter(Node, 'blurRadius', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction remap(fromValue, fromMin, fromMax, toMin, toMax) {\n    var fromRange = fromMax - fromMin, toRange = toMax - toMin, toValue;\n    if (fromRange === 0) {\n        return toMin + toRange / 2;\n    }\n    if (toRange === 0) {\n        return toMin;\n    }\n    toValue = (fromValue - fromMin) / fromRange;\n    toValue = toRange * toValue + toMin;\n    return toValue;\n}\nexport const Enhance = function (imageData) {\n    var data = imageData.data, nSubPixels = data.length, rMin = data[0], rMax = rMin, r, gMin = data[1], gMax = gMin, g, bMin = data[2], bMax = bMin, b, i;\n    var enhanceAmount = this.enhance();\n    if (enhanceAmount === 0) {\n        return;\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        r = data[i + 0];\n        if (r < rMin) {\n            rMin = r;\n        }\n        else if (r > rMax) {\n            rMax = r;\n        }\n        g = data[i + 1];\n        if (g < gMin) {\n            gMin = g;\n        }\n        else if (g > gMax) {\n            gMax = g;\n        }\n        b = data[i + 2];\n        if (b < bMin) {\n            bMin = b;\n        }\n        else if (b > bMax) {\n            bMax = b;\n        }\n    }\n    if (rMax === rMin) {\n        rMax = 255;\n        rMin = 0;\n    }\n    if (gMax === gMin) {\n        gMax = 255;\n        gMin = 0;\n    }\n    if (bMax === bMin) {\n        bMax = 255;\n        bMin = 0;\n    }\n    var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;\n    if (enhanceAmount > 0) {\n        rGoalMax = rMax + enhanceAmount * (255 - rMax);\n        rGoalMin = rMin - enhanceAmount * (rMin - 0);\n        gGoalMax = gMax + enhanceAmount * (255 - gMax);\n        gGoalMin = gMin - enhanceAmount * (gMin - 0);\n        bGoalMax = bMax + enhanceAmount * (255 - bMax);\n        bGoalMin = bMin - enhanceAmount * (bMin - 0);\n    }\n    else {\n        rMid = (rMax + rMin) * 0.5;\n        rGoalMax = rMax + enhanceAmount * (rMax - rMid);\n        rGoalMin = rMin + enhanceAmount * (rMin - rMid);\n        gMid = (gMax + gMin) * 0.5;\n        gGoalMax = gMax + enhanceAmount * (gMax - gMid);\n        gGoalMin = gMin + enhanceAmount * (gMin - gMid);\n        bMid = (bMax + bMin) * 0.5;\n        bGoalMax = bMax + enhanceAmount * (bMax - bMid);\n        bGoalMin = bMin + enhanceAmount * (bMin - bMid);\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);\n        data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);\n        data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);\n    }\n};\nFactory.addGetterSetter(Node, 'enhance', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction pixelAt(idata, x, y) {\n    var idx = (y * idata.width + x) * 4;\n    var d = [];\n    d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);\n    return d;\n}\nfunction rgbDistance(p1, p2) {\n    return Math.sqrt(Math.pow(p1[0] - p2[0], 2) +\n        Math.pow(p1[1] - p2[1], 2) +\n        Math.pow(p1[2] - p2[2], 2));\n}\nfunction rgbMean(pTab) {\n    var m = [0, 0, 0];\n    for (var i = 0; i < pTab.length; i++) {\n        m[0] += pTab[i][0];\n        m[1] += pTab[i][1];\n        m[2] += pTab[i][2];\n    }\n    m[0] /= pTab.length;\n    m[1] /= pTab.length;\n    m[2] /= pTab.length;\n    return m;\n}\nfunction backgroundMask(idata, threshold) {\n    var rgbv_no = pixelAt(idata, 0, 0);\n    var rgbv_ne = pixelAt(idata, idata.width - 1, 0);\n    var rgbv_so = pixelAt(idata, 0, idata.height - 1);\n    var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);\n    var thres = threshold || 10;\n    if (rgbDistance(rgbv_no, rgbv_ne) < thres &&\n        rgbDistance(rgbv_ne, rgbv_se) < thres &&\n        rgbDistance(rgbv_se, rgbv_so) < thres &&\n        rgbDistance(rgbv_so, rgbv_no) < thres) {\n        var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);\n        var mask = [];\n        for (var i = 0; i < idata.width * idata.height; i++) {\n            var d = rgbDistance(mean, [\n                idata.data[i * 4],\n                idata.data[i * 4 + 1],\n                idata.data[i * 4 + 2],\n            ]);\n            mask[i] = d < thres ? 0 : 255;\n        }\n        return mask;\n    }\n}\nfunction applyMask(idata, mask) {\n    for (var i = 0; i < idata.width * idata.height; i++) {\n        idata.data[4 * i + 3] = mask[i];\n    }\n}\nfunction erodeMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a === 255 * 8 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction dilateMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a >= 255 * 4 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction smoothEdgeMask(mask, sw, sh) {\n    var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a;\n        }\n    }\n    return maskResult;\n}\nexport const Mask = function (imageData) {\n    var threshold = this.threshold(), mask = backgroundMask(imageData, threshold);\n    if (mask) {\n        mask = erodeMask(mask, imageData.width, imageData.height);\n        mask = dilateMask(mask, imageData.width, imageData.height);\n        mask = smoothEdgeMask(mask, imageData.width, imageData.height);\n        applyMask(imageData, mask);\n    }\n    return imageData;\n};\nFactory.addGetterSetter(Node, 'threshold', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Brighten = function (imageData) {\n    var brightness = this.brightness() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] += brightness;\n        data[i + 1] += brightness;\n        data[i + 2] += brightness;\n    }\n};\nFactory.addGetterSetter(Node, 'brightness', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Contrast = function (imageData) {\n    var adjust = Math.pow((this.contrast() + 100) / 100, 2);\n    var data = imageData.data, nPixels = data.length, red = 150, green = 150, blue = 150, i;\n    for (i = 0; i < nPixels; i += 4) {\n        red = data[i];\n        green = data[i + 1];\n        blue = data[i + 2];\n        red /= 255;\n        red -= 0.5;\n        red *= adjust;\n        red += 0.5;\n        red *= 255;\n        green /= 255;\n        green -= 0.5;\n        green *= adjust;\n        green += 0.5;\n        green *= 255;\n        blue /= 255;\n        blue -= 0.5;\n        blue *= adjust;\n        blue += 0.5;\n        blue *= 255;\n        red = red < 0 ? 0 : red > 255 ? 255 : red;\n        green = green < 0 ? 0 : green > 255 ? 255 : green;\n        blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;\n        data[i] = red;\n        data[i + 1] = green;\n        data[i + 2] = blue;\n    }\n};\nFactory.addGetterSetter(Node, 'contrast', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Emboss = function (imageData) {\n    var strength = this.embossStrength() * 10, greyLevel = this.embossWhiteLevel() * 255, direction = this.embossDirection(), blend = this.embossBlend(), dirY = 0, dirX = 0, data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    switch (direction) {\n        case 'top-left':\n            dirY = -1;\n            dirX = -1;\n            break;\n        case 'top':\n            dirY = -1;\n            dirX = 0;\n            break;\n        case 'top-right':\n            dirY = -1;\n            dirX = 1;\n            break;\n        case 'right':\n            dirY = 0;\n            dirX = 1;\n            break;\n        case 'bottom-right':\n            dirY = 1;\n            dirX = 1;\n            break;\n        case 'bottom':\n            dirY = 1;\n            dirX = 0;\n            break;\n        case 'bottom-left':\n            dirY = 1;\n            dirX = -1;\n            break;\n        case 'left':\n            dirY = 0;\n            dirX = -1;\n            break;\n        default:\n            Util.error('Unknown emboss direction: ' + direction);\n    }\n    do {\n        var offsetY = (y - 1) * w4;\n        var otherY = dirY;\n        if (y + otherY < 1) {\n            otherY = 0;\n        }\n        if (y + otherY > h) {\n            otherY = 0;\n        }\n        var offsetYOther = (y - 1 + otherY) * w * 4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var otherX = dirX;\n            if (x + otherX < 1) {\n                otherX = 0;\n            }\n            if (x + otherX > w) {\n                otherX = 0;\n            }\n            var offsetOther = offsetYOther + (x - 1 + otherX) * 4;\n            var dR = data[offset] - data[offsetOther];\n            var dG = data[offset + 1] - data[offsetOther + 1];\n            var dB = data[offset + 2] - data[offsetOther + 2];\n            var dif = dR;\n            var absDif = dif > 0 ? dif : -dif;\n            var absG = dG > 0 ? dG : -dG;\n            var absB = dB > 0 ? dB : -dB;\n            if (absG > absDif) {\n                dif = dG;\n            }\n            if (absB > absDif) {\n                dif = dB;\n            }\n            dif *= strength;\n            if (blend) {\n                var r = data[offset] + dif;\n                var g = data[offset + 1] + dif;\n                var b = data[offset + 2] + dif;\n                data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;\n                data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;\n                data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;\n            }\n            else {\n                var grey = greyLevel - dif;\n                if (grey < 0) {\n                    grey = 0;\n                }\n                else if (grey > 255) {\n                    grey = 255;\n                }\n                data[offset] = data[offset + 1] = data[offset + 2] = grey;\n            }\n        } while (--x);\n    } while (--y);\n};\nFactory.addGetterSetter(Node, 'embossStrength', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossWhiteLevel', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossDirection', 'top-left', null, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossBlend', false, null, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'luminance', 0, getNumberValidator(), Factory.afterSetFilter);\nexport const HSL = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = 1, s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, l = this.luminance() * 127, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b + l;\n        data[i + 1] = gr * r + gg * g + gb * b + l;\n        data[i + 2] = br * r + bg * g + bb * b + l;\n        data[i + 3] = a;\n    }\n};\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const HSV = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = Math.pow(2, this.value()), s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b;\n        data[i + 1] = gr * r + gg * g + gb * b;\n        data[i + 2] = br * r + bg * g + bb * b;\n        data[i + 3] = a;\n    }\n};\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'value', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nvar ToPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta;\n    var conversion = ((360 / tSize) * Math.PI) / 180, sin, cos;\n    for (theta = 0; theta < tSize; theta += 1) {\n        sin = Math.sin(theta * conversion);\n        cos = Math.cos(theta * conversion);\n        for (radius = 0; radius < rSize; radius += 1) {\n            x = Math.floor(xMid + ((rMax * radius) / rSize) * cos);\n            y = Math.floor(yMid + ((rMax * radius) / rSize) * sin);\n            i = (y * xSize + x) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (theta + radius * xSize) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nvar FromPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, dx, dy, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta, phaseShift = opt.polarRotation || 0;\n    var x1, y1;\n    for (x = 0; x < xSize; x += 1) {\n        for (y = 0; y < ySize; y += 1) {\n            dx = x - xMid;\n            dy = y - yMid;\n            radius = (Math.sqrt(dx * dx + dy * dy) * rSize) / rMax;\n            theta = ((Math.atan2(dy, dx) * 180) / Math.PI + 360 + phaseShift) % 360;\n            theta = (theta * tSize) / 360;\n            x1 = Math.floor(theta);\n            y1 = Math.floor(radius);\n            i = (y1 * xSize + x1) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (y * xSize + x) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nexport const Kaleidoscope = function (imageData) {\n    var xSize = imageData.width, ySize = imageData.height;\n    var x, y, xoff, i, r, g, b, a, srcPos, dstPos;\n    var power = Math.round(this.kaleidoscopePower());\n    var angle = Math.round(this.kaleidoscopeAngle());\n    var offset = Math.floor((xSize * (angle % 360)) / 360);\n    if (power < 1) {\n        return;\n    }\n    var tempCanvas = Util.createCanvasElement();\n    tempCanvas.width = xSize;\n    tempCanvas.height = ySize;\n    var scratchData = tempCanvas\n        .getContext('2d')\n        .getImageData(0, 0, xSize, ySize);\n    ToPolar(imageData, scratchData, {\n        polarCenterX: xSize / 2,\n        polarCenterY: ySize / 2,\n    });\n    var minSectionSize = xSize / Math.pow(2, power);\n    while (minSectionSize <= 8) {\n        minSectionSize = minSectionSize * 2;\n        power -= 1;\n    }\n    minSectionSize = Math.ceil(minSectionSize);\n    var sectionSize = minSectionSize;\n    var xStart = 0, xEnd = sectionSize, xDelta = 1;\n    if (offset + minSectionSize > xSize) {\n        xStart = sectionSize;\n        xEnd = 0;\n        xDelta = -1;\n    }\n    for (y = 0; y < ySize; y += 1) {\n        for (x = xStart; x !== xEnd; x += xDelta) {\n            xoff = Math.round(x + offset) % xSize;\n            srcPos = (xSize * y + xoff) * 4;\n            r = scratchData.data[srcPos + 0];\n            g = scratchData.data[srcPos + 1];\n            b = scratchData.data[srcPos + 2];\n            a = scratchData.data[srcPos + 3];\n            dstPos = (xSize * y + x) * 4;\n            scratchData.data[dstPos + 0] = r;\n            scratchData.data[dstPos + 1] = g;\n            scratchData.data[dstPos + 2] = b;\n            scratchData.data[dstPos + 3] = a;\n        }\n    }\n    for (y = 0; y < ySize; y += 1) {\n        sectionSize = Math.floor(minSectionSize);\n        for (i = 0; i < power; i += 1) {\n            for (x = 0; x < sectionSize + 1; x += 1) {\n                srcPos = (xSize * y + x) * 4;\n                r = scratchData.data[srcPos + 0];\n                g = scratchData.data[srcPos + 1];\n                b = scratchData.data[srcPos + 2];\n                a = scratchData.data[srcPos + 3];\n                dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;\n                scratchData.data[dstPos + 0] = r;\n                scratchData.data[dstPos + 1] = g;\n                scratchData.data[dstPos + 2] = b;\n                scratchData.data[dstPos + 3] = a;\n            }\n            sectionSize *= 2;\n        }\n    }\n    FromPolar(scratchData, imageData, { polarRotation: 0 });\n};\nFactory.addGetterSetter(Node, 'kaleidoscopePower', 2, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'kaleidoscopeAngle', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Noise = function (imageData) {\n    var amount = this.noise() * 255, data = imageData.data, nPixels = data.length, half = amount / 2, i;\n    for (i = 0; i < nPixels; i += 4) {\n        data[i + 0] += half - 2 * half * Math.random();\n        data[i + 1] += half - 2 * half * Math.random();\n        data[i + 2] += half - 2 * half * Math.random();\n    }\n};\nFactory.addGetterSetter(Node, 'noise', 0.2, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Util } from '../Util.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Pixelate = function (imageData) {\n    var pixelSize = Math.ceil(this.pixelSize()), width = imageData.width, height = imageData.height, x, y, i, red, green, blue, alpha, nBinsX = Math.ceil(width / pixelSize), nBinsY = Math.ceil(height / pixelSize), xBinStart, xBinEnd, yBinStart, yBinEnd, xBin, yBin, pixelsInBin, data = imageData.data;\n    if (pixelSize <= 0) {\n        Util.error('pixelSize value can not be <= 0');\n        return;\n    }\n    for (xBin = 0; xBin < nBinsX; xBin += 1) {\n        for (yBin = 0; yBin < nBinsY; yBin += 1) {\n            red = 0;\n            green = 0;\n            blue = 0;\n            alpha = 0;\n            xBinStart = xBin * pixelSize;\n            xBinEnd = xBinStart + pixelSize;\n            yBinStart = yBin * pixelSize;\n            yBinEnd = yBinStart + pixelSize;\n            pixelsInBin = 0;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    red += data[i + 0];\n                    green += data[i + 1];\n                    blue += data[i + 2];\n                    alpha += data[i + 3];\n                    pixelsInBin += 1;\n                }\n            }\n            red = red / pixelsInBin;\n            green = green / pixelsInBin;\n            blue = blue / pixelsInBin;\n            alpha = alpha / pixelsInBin;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    data[i + 0] = red;\n                    data[i + 1] = green;\n                    data[i + 2] = blue;\n                    data[i + 3] = alpha;\n                }\n            }\n        }\n    }\n};\nFactory.addGetterSetter(Node, 'pixelSize', 8, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Posterize = function (imageData) {\n    var levels = Math.round(this.levels() * 254) + 1, data = imageData.data, len = data.length, scale = 255 / levels, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = Math.floor(data[i] / scale) * scale;\n    }\n};\nFactory.addGetterSetter(Node, 'levels', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGB = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), i, brightness;\n    for (i = 0; i < nPixels; i += 4) {\n        brightness =\n            (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n        data[i] = brightness * red;\n        data[i + 1] = brightness * green;\n        data[i + 2] = brightness * blue;\n        data[i + 3] = data[i + 3];\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGBA = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), alpha = this.alpha(), i, ia;\n    for (i = 0; i < nPixels; i += 4) {\n        ia = 1 - alpha;\n        data[i] = red * alpha + data[i] * ia;\n        data[i + 1] = green * alpha + data[i + 1] * ia;\n        data[i + 2] = blue * alpha + data[i + 2] * ia;\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'alpha', 1, function (val) {\n    this._filterUpToDate = false;\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return val;\n    }\n});\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Threshold = function (imageData) {\n    var level = this.threshold() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = data[i] < level ? 0 : 255;\n    }\n};\nFactory.addGetterSetter(Node, 'threshold', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Konva as Core } from './_CoreInternals.js';\nimport { Arc } from './shapes/Arc.js';\nimport { Arrow } from './shapes/Arrow.js';\nimport { Circle } from './shapes/Circle.js';\nimport { Ellipse } from './shapes/Ellipse.js';\nimport { Image } from './shapes/Image.js';\nimport { Label, Tag } from './shapes/Label.js';\nimport { Line } from './shapes/Line.js';\nimport { Path } from './shapes/Path.js';\nimport { Rect } from './shapes/Rect.js';\nimport { RegularPolygon } from './shapes/RegularPolygon.js';\nimport { Ring } from './shapes/Ring.js';\nimport { Sprite } from './shapes/Sprite.js';\nimport { Star } from './shapes/Star.js';\nimport { Text } from './shapes/Text.js';\nimport { TextPath } from './shapes/TextPath.js';\nimport { Transformer } from './shapes/Transformer.js';\nimport { Wedge } from './shapes/Wedge.js';\nimport { Blur } from './filters/Blur.js';\nimport { Brighten } from './filters/Brighten.js';\nimport { Contrast } from './filters/Contrast.js';\nimport { Emboss } from './filters/Emboss.js';\nimport { Enhance } from './filters/Enhance.js';\nimport { Grayscale } from './filters/Grayscale.js';\nimport { HSL } from './filters/HSL.js';\nimport { HSV } from './filters/HSV.js';\nimport { Invert } from './filters/Invert.js';\nimport { Kaleidoscope } from './filters/Kaleidoscope.js';\nimport { Mask } from './filters/Mask.js';\nimport { Noise } from './filters/Noise.js';\nimport { Pixelate } from './filters/Pixelate.js';\nimport { Posterize } from './filters/Posterize.js';\nimport { RGB } from './filters/RGB.js';\nimport { RGBA } from './filters/RGBA.js';\nimport { Sepia } from './filters/Sepia.js';\nimport { Solarize } from './filters/Solarize.js';\nimport { Threshold } from './filters/Threshold.js';\nexport const Konva = Core.Util._assign(Core, {\n    Arc,\n    Arrow,\n    Circle,\n    Ellipse,\n    Image,\n    Label,\n    Tag,\n    Line,\n    Path,\n    Rect,\n    RegularPolygon,\n    Ring,\n    Sprite,\n    Star,\n    Text,\n    TextPath,\n    Transformer,\n    Wedge,\n    Filters: {\n        Blur,\n        Brighten,\n        Contrast,\n        Emboss,\n        Enhance,\n        Grayscale,\n        HSL,\n        HSV,\n        Invert,\n        Kaleidoscope,\n        Mask,\n        Noise,\n        Pixelate,\n        Posterize,\n        RGB,\n        RGBA,\n        Sepia,\n        Solarize,\n        Threshold,\n    },\n});\n","import { Konva } from './_FullInternals.js';\nexport default Konva;\n","export const Grayscale = function (imageData) {\n    var data = imageData.data, len = data.length, i, brightness;\n    for (i = 0; i < len; i += 4) {\n        brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];\n        data[i] = brightness;\n        data[i + 1] = brightness;\n        data[i + 2] = brightness;\n    }\n};\n","export const Invert = function (imageData) {\n    var data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] = 255 - data[i];\n        data[i + 1] = 255 - data[i + 1];\n        data[i + 2] = 255 - data[i + 2];\n    }\n};\n","export const Sepia = function (imageData) {\n    var data = imageData.data, nPixels = data.length, i, r, g, b;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);\n        data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);\n        data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);\n    }\n};\n","export const Solarize = function (imageData) {\n    var data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    do {\n        var offsetY = (y - 1) * w4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var r = data[offset];\n            var g = data[offset + 1];\n            var b = data[offset + 2];\n            if (r > 127) {\n                r = 255 - r;\n            }\n            if (g > 127) {\n                g = 255 - g;\n            }\n            if (b > 127) {\n                b = 255 - b;\n            }\n            data[offset] = r;\n            data[offset + 1] = g;\n            data[offset + 2] = b;\n        } while (--x);\n    } while (--y);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunkaddons\"] = this[\"webpackChunkaddons\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(16);\n"],"names":["root","factory","exports","module","define","amd","this","leafPrototypes","getProto","inProgress","dataWebpackPrefix","InvalidCharacterError","message","prototype","Error","name","window","atob","bind","input","str","String","replace","length","bs","buffer","bc","idx","output","charAt","fromCharCode","indexOf","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","err","InvalidTokenError","token","options","pos","header","JSON","parse","base64_url_decode","split","e","slice","vnodeId","isValidElement","rerenderQueue","prevDebounce","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","call","defaultProps","createVNode","original","vnode","undefined","constructor","createRef","current","Fragment","Component","context","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","c","push","process","debounceRendering","setTimeout","queue","sort","a","b","some","component","commitQueue","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","Array","isArray","reorderChildren","placeChild","unmount","applyRef","tmp","toChildArray","out","nextDom","sibDom","outer","appendChild","nextSibling","insertBefore","setStyle","style","value","setProperty","test","dom","oldValue","useCapture","o","cssText","toLowerCase","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","setAttribute","removeAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","renderHook","count","newType","contextType","render","doRender","sub","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","cb","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","error","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Prism","_self","lang","uniqueId","plainTextGrammar","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","content","alias","map","Object","objId","defineProperty","clone","deepClone","visited","id","hasOwnProperty","v","getLanguage","element","exec","className","parentElement","setLanguage","language","RegExp","classList","add","currentScript","src","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","contains","languages","plain","plaintext","text","txt","extend","redef","inside","before","insert","grammar","ret","newToken","DFS","property","propertyType","plugins","highlightAll","async","highlightAllUnder","container","env","selector","hooks","run","elements","apply","querySelectorAll","highlightElement","parent","nodeName","textContent","insertHighlightedCode","highlightedCode","hasAttribute","Worker","worker","filename","onmessage","evt","postMessage","stringify","immediateClose","highlight","tokenize","rest","tokenList","LinkedList","addAfter","head","matchGrammar","list","array","next","tail","toArray","all","callbacks","matchedStr","matchPattern","pattern","lookbehind","lastIndex","match","lookbehindLength","index","startNode","startPos","rematch","patterns","cause","patternObj","greedy","global","flags","source","currentNode","reach","removeCount","from","to","k","matchStr","after","removeFrom","prev","removeRange","nestedRematch","newNode","tag","classes","aliases","join","close","script","highlightAutomaticallyCallback","readyState","defer","requestAnimationFrame","WorkerGlobalScope","self","g","markup","tagName","includedCdataInside","def","attrName","html","mathml","svg","xml","ssml","atom","rss","string","css","addInlined","addAttribute","clike","javascript","regex","js","Element","matches","msMatchesSelector","webkitMatchesSelector","EXTENSIONS","STATUS_ATTR","STATUS_LOADED","SELECTOR","pre","getAttribute","extension","autoloader","loadLanguages","success","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","range","start","Number","comma","end","parseRange","lines","Math","max","min","statusText","send","loadFile","fileHighlight","logged","console","warn","Point","x","y","pressure","time","isNaN","Date","now","distanceTo","sqrt","pow","equals","other","velocityFrom","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","static","points","widths","c2","calculateControlPoints","c3","c1","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","cm","tx","ty","px","py","t","cx","point","cy","xdiff","ydiff","SignaturePad","_et","EventTarget","listener","dispatchEvent","canvas","super","_handleMouseDown","buttons","_drawningStroke","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","cancelable","preventDefault","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","target","_handlePointerStart","_handlePointerMove","_handlePointerEnd","velocityFilterWeight","minWidth","maxWidth","throttle","minDistance","dotSize","penColor","backgroundColor","fn","wait","result","storedContext","storedArgs","previous","timeout","later","args","remaining","clearTimeout","_strokeUpdate","_ctx","getContext","clear","on","fillStyle","clearRect","width","height","fillRect","_data","_reset","_isEmpty","fromDataURL","dataUrl","Promise","resolve","reject","image","Image","ratio","devicePixelRatio","xOffset","yOffset","onload","drawImage","onerror","crossOrigin","toDataURL","encoderOptions","_toSVG","touchAction","msTouchAction","userSelect","isIOS","navigator","userAgent","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","off","ownerDocument","isEmpty","fromData","pointGroups","_fromData","_drawCurve","_drawDot","concat","toData","CustomEvent","detail","newPointGroup","clientX","clientY","force","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","curve","_addPoint","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","fromPoints","shift","velocity","newWidth","_strokeWidth","_drawCurveSegment","moveTo","arc","PI","widthDelta","drawSteps","ceil","beginPath","tt","ttt","u","uu","uuu","closePath","fill","drawCurve","drawDot","group","basicPoint","maxX","maxY","path","attr","toFixed","circle","size","body","dummy","nodes","cloneNode","btoa","n","loaded","red","green","blue","alpha","f","default","getImageData","l","putImageData","it","RouterComponent","PureComponent","renderLogo","chartJsData","jsObject","labels","datasets","scales","yAxes","ticks","suggestedMin","suggestedMax","ChartJs","simpleBarChart","simpleLineChart","simpleDoughnutChart","label","color","borderColor","borderWidth","ticker","routes","HomePage","ChartJsExample","JwtDecodeExample","KonvaExample","MarkedExample","PrismJsExample","SignaturePadExample","mount","Routes","router","UiTextArea","unsafe","marked","pluginExamples","languageExamples","Static","listOf","clientWidth","clientHeight","Stage","Layer","listening","stage","layer","Circle","radius","stroke","strokeWidth","scaleX","scaleY","getElementById","mountPoint","AddonExamplesApp","Chart","getOrNull","currentData","nextProps","destroy","registerables","ChartJsComponent","builder","ChartJsDataBuilder","Access","placeholder","encodeURIComponent","TypedKey","emptyList","MessageBase","field","MountedRoute","ActiveRoute","History","toList","StreamDistinctOperator","RouteBase","Match","emptyMap","plus","numParams","flow","GenericFormField","UiTextAreaComponent","launch","ObservableProperty","initialValue","MessagesHandler","sendMessage","StreamWrapperBase","wrapped","StreamWrapper","mapper","round","counter","StreamSourceImpl","block","engine","__html","PreactComponentRef","PreactLLC","__ref","mutableListOf","set","FormFieldMountedMessage","FormFieldUnmountedMessage","querySelector","cssSelector","focus","InputValue","focusCssSelector","location","hash","uri","removePrefix","asSequence","firstOrNull","filterNotNull","mounted","resolved","Router","route","view","query","toMap","zip","Pair","routeParams","applyName","applyPlaceholder","onInput","delay","ComponentStateProperty","initial","onChange","stream","newCtx","previousProps","_setDom","newValue","accept","setInterval","clearInterval","h","childArr","attrs","getDom","__ctx","log","ComponentElement","Ctx","creatorFn","cls","last","first","ContentElement","removeLast","lowLevelRoot","PreactTagConsumer","host","VDom","jwt_decode","jwt","Ticker","intervalMs","append","PrismJsInternals","item","href","integrity","referrerPolicy","load","PrismJsDefinition","pluginName","duration","StylesLoader","LanguageLoader","PluginsLoader","PrismPlugin","Options","plugin","createContent","loadDart","loadJava","loadJson","loadJsonp","loadKotlin","loadLess","loadPhp","loadRegex","loadRuby","loadRust","loadSass","loadScss","loadTypescript","loadMarkupTemplating","CopyToClipboard","copy","LineNumbers","softWrap","attributesMapOf","visitNoInline","H1","H2","H3","A","DIV","IMG","LABEL","condition","action","SemanticTag","getCanvas","cloned","trim_canvas","offsetWidth","offsetHeight","scale","resize","getCanvasTrimmed","quality","_defineProperties","descriptor","enumerable","configurable","writable","_arrayLikeToArray","arr","len","arr2","_createForOfIteratorHelperLoose","allowArrayLike","Symbol","iterator","minLen","_unsupportedIterableToArray","done","TypeError","getDefaults","baseUrl","breaks","extensions","gfm","headerIds","headerPrefix","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","defaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","escape","unescapeTest","unescape","parseInt","substring","caret","edit","opt","val","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","prot","baseUrls","justDomain","rtrim","relativeBase","protocol","domain","resolveUrl","encodeURI","noopTest","merge","splitCells","tableRow","cells","offset","escaped","curr","trim","pop","invert","suffLen","currChar","checkSanitizeDeprecation","repeatString","outputLink","cap","link","raw","lexer","title","inLink","inlineTokens","Tokenizer","_proto","space","rules","newline","codeBlockStyle","fences","matchIndentToCode","indentToCode","matchIndentInNode","indentCodeCompensation","heading","trimmed","depth","inline","hr","blockquote","blockTokens","istask","ischecked","indent","blankLine","endsWithBlankLine","line","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","loose","items","itemRegex","trimLeft","search","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","task","trimRight","spacers","filter","hasMultipleLineBreaks","every","_step","lineBreaks","_iterator","table","align","rows","row","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","level","findClosingBracket","linkLen","_escapes","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","rDelim","rLength","lLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","_text","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","random","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","Lexer","create","inlineQueue","lex","lexInline","Constructor","staticProps","lastToken","cutSrc","lastParagraphClipped","_this","leading","tabs","repeat","extTokenizer","startBlock","startIndex","Infinity","tempSrc","tempStart","getStartIndex","errMsg","_this2","keepPrevChar","keys","includes","lastIndexOf","startInline","get","Renderer","_code","infostring","quote","_html","slugger","slug","listitem","checkbox","tablerow","tablecell","TextRenderer","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parseInline","l3","cell","itemBody","renderers","parser","pending","onError","_tokens","then","setOptions","newDefaults","use","_len","_key","hasExtensions","opts","childTokens","pack","ext","prevRenderer","_len2","_key2","_loop","prop","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_walkTokens","values","_loop3","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","noop","uid","isNullOrUndef","isObject","isNumberFinite","isFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","endsWith","parseFloat","thisArg","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","clone$1","klen","isValidKey","_merger","tval","sval","sources","merger","mergeIf","_mergerIf","keyResolvers","resolveObjectKey","resolver","parts","part","_splitKey","_getKeyResolver","_capitalize","defined","isFunction","setsEqual","has","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","roundedRange","almostEquals","niceRange","floor","fraction","isNumber","epsilon","abs","_setMinAndMaxByKey","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","stub","_chartjs","listeners","_arrayUnique","Set","requestAnimFrame","throttled","updateFn","updateArgs","ticking","_toLeftRightCenter","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","animationsDisabled","pointCount","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","d","easeInOutBounce","lim","p2b","n2b","b2n","n2p","map$1","B","C","D","E","F","hex","h1","h2","eq","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","hueValue","calln","hsl2rgb","hue","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","RGB_RE","modHSL","proto","fromObject","functionParse","rgbParse","p1","p2","hwb2rgb","hsv2rgb","hueParse","Color","unpacked","tkeys","ok","nk","unpack","transparent","nameParse","_rgb","_valid","valid","rgbString","hexString","isShort","hslString","mix","weight","w2","w1","interpolate","rgb1","rgb2","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","index_esm","isPatternOrGradient","getHoverColor","overrides","descriptors","getScope$1","scope","_descriptors","animation","chart","platform","getDevicePixelRatio","events","font","family","lineHeight","hover","hoverBackgroundColor","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","responsive","showLine","drawActiveElementsOnTop","describe","override","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","local","_scriptable","startsWith","_indexable","_fallback","_measureText","gc","longest","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","resetTransform","drawPoint","drawPointLegend","cornerRadius","pointStyle","rotation","rad","translate","ellipse","lineTo","SQRT1_2","_isPointInArea","area","margin","right","bottom","clipArea","clip","unclipArea","_steppedLineTo","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","strokeColor","translation","textAlign","textBaseline","setRenderOpts","strokeStyle","lineWidth","strokeText","fillText","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","_readValueToProps","objProps","read","toTRBL","toTRBLCorners","toPadding","toFont","fallback","toFontString","inputs","info","cacheable","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","delete","_resolveScriptable","isIndexable","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","capControlPoint","pt","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","delta","iPixel","vPixel","monotoneCompute","splineCurveMonotone","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","positions","getPositionedStyle","styles","suffix","getRelativePosition","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","shadowRoot","useOffsetPos","getCanvasPosition","round1","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","formatNumber","num","locale","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","format","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","getPropertyPriority","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_boundSegment","segment","bounds","startBound","endBound","getSegment","prevValue","subStart","_boundSegments","segments","readStyle","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","styleChanged","prevStyle","animator","_request","_charts","_running","_lastDate","_notify","anims","date","numSteps","currentStep","_refresh","_update","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","listen","reduce","acc","cur","_duration","stop","cancel","remove","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","_target","_prop","_from","_to","_promises","active","elapsed","remain","promises","res","rej","method","animationOptions","colors","properties","numbers","show","animations","visible","hide","Animations","config","_chart","_properties","configure","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","getFirstScaleId","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_cachedDataOpts","getMeta","_type","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","initialize","linkScales","_stacked","addElements","updateIndex","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","adata","convertObjectDataToArray","isExtensible","object","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","disabled","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","getAllScaleValues","_length","updateMinAndPrev","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","bars","getBasePixel","isHorizontal","ruler","_getRuler","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","grouped","skipNull","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","startPixel","getPixelForDecimal","endPixel","halfGrid","getLineWidthForValue","maxBarThickness","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","_index_","grid","_value_","beginAtZero","BubbleController","tooltip","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","circumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","minX","minY","getRatioAndOffset","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","aspectRatio","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","_datasetIndex","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","tooltipPosition","useFinalPosition","getProps","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","newTicks","majorStart","majorEnd","grace","drawBorder","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","padding","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","position","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_maxLength","_longestTextCache","_reversePixels","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","init","metas","getPadding","getTicks","xLabels","yLabels","beforeLayout","beforeUpdate","margins","tickOpts","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","change","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","ticksLimit","maxTicksLimit","_tickSize","maxScale","maxChart","determineMaxTicks","majorIndices","enabled","getMajorIndices","numMajorIndices","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","fullSize","_computeLabelSizes","caches","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","titleX","titleY","titleArgs","_layers","tz","z","gz","getSortedVisibleDatasetMetas","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","camelMethod","ScatterController","__proto__","DateAdapter","chartOptions","formats","timestamp","amount","unit","startOf","weekday","endOf","members","adapters","_date","binarySearch","metaset","lookupMethod","getRange","evaluateInteractionItems","handler","getIntersectItems","isPointInArea","inRange","getNearestItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","getCenterPoint","getNearestCartesianItems","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","placed","stackWeight","autoPadding","layouts","addBox","removeBox","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrapBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","buildStacks","setLayoutDims","updatePos","handleMaxPadding","BasePlatform","acquireContext","releaseContext","getMaximumSize","isAttached","updateConfig","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","proxies","$proxies","attach","detach","bbWidth","bbHeight","containerSize","containerStyle","containerBorder","containerPadding","getContainerSize","isConnected","_detectPlatform","OffscreenCanvas","PluginService","_init","notify","hook","_createDescriptors","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","instances","getChart","moveNumericKeys","intKey","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","toBase64Image","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","invalidatePlugins","clipArc","pixelMargin","angleMargin","rThetaToXY","theta","pathArc","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStart","outerEnd","innerStart","innerEnd","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","parseBorderRadius$1","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","outerStartX","outerStartY","outerEndX","outerEndY","version","ArcElement","fullCircles","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","inner","lineJoin","drawFullCircleBorders","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","LineElement","_path","_points","_segments","_pointsUpdated","segmentOptions","findStartAndEnd","chartContext","baseStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","doSplitByStyles","splitByStyles","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","segmentMethod","strokePathWithCache","strokePathDirect","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","skipX","skipY","addNormalRectPath","inflateRect","refRect","BarElement","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","boundingRects","addRectPath","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","decimated","getStartAndCountOfVisiblePointsSimplified","threshold","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","xMin","dx","intermediateIndex1","intermediateIndex2","minMaxDecimation","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_pointsFromSegments","_shouldApplyFill","_resolveTarget","propagate","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","_drawfill","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","lineOpts","above","clipVertical","doFill","clipY","lineLoop","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","fontColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","plugin_legend","_element","afterEvent","ci","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getTooltipSize","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","SubTitle","CategoryScale","_startValue","_valueRange","_addedLabels","added","addedLabels","addIfString","findOrAddLabel","relativeLabelSize","minSpacing","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getTickLimit","maxTicks","stepSize","computeTickLimit","generationOptions","dataRange","precision","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","generateTicks$1","LinearScale","isMajor","tickVal","LogarithmicScale","_zero","exp","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","updateLimits","limits","hLimits","vLimits","getTextAlignForAngle","yForAngle","pathRadiusLine","getPointPosition","RadialLinearScale","drawingArea","_pointLabels","_pointLabelItems","valueCount","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","plFont","setCenterPoint","extra","outerDistance","pointLabelPosition","buildPointLabelItems","fitWithPointLabels","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","backdropLeft","backdropTop","backdropWidth","backdropHeight","drawPointLabels","gridLineOpts","drawRadiusLine","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","PI_OVER_180","glob","_global","isBrowser","isUnminified","param","dblClickWindow","getAngle","angleDeg","enableTrace","pointerEventsEnabled","autoDrawEnabled","hitOnDragEnabled","capturePointerEventsEnabled","_mouseListenClick","_touchListenClick","_pointerListenClick","_mouseInDblClickWindow","_touchInDblClickWindow","_pointerInDblClickWindow","_mouseDblClickPointerId","_touchDblClickPointerId","_pointerDblClickPointerId","dragDistance","showWarnings","dragButtons","isDragging","isDragReady","_injectGlobal","Konva","_registerNode","NodeClass","getClassName","Transform","dirty","copyInto","tr","sx","sy","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dy","m0","m3","m4","m5","getMatrix","decompose","skewX","skewY","acos","PI_OVER_DEG180","DEG180_OVER_PI","KONVA_ERROR","COLORS","aliceblue","antiquewhite","aquamarine","azure","blanchedalmond","blueviolet","brown","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","pink","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","springgreen","steelblue","teal","thistle","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","req","_isElement","_isFunction","_isPlainObject","_isArray","_isNumber","_isString","_isBoolean","isValidSelector","firstChar","_sign","createCanvasElement","createImageElement","_isInDocument","_urlToImage","imageObj","_rgbToHex","_hexToRgb","bigint","getRandomColor","randColor","getRGB","substr","colorToRGBA","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","hsl","t2","t3","t1","haveIntersection","r1","r2","cloneObject","retObj","cloneArray","degToRad","radToDeg","_degToRad","_radToDeg","throw","func","_inRange","_getProjectionToSegment","dist","pd2","_getProjectionToLine","isClosed","pc","MAX_VALUE","proj","pdist","_prepareArrayForTween","startArray","endArray","temp","newStart","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","_assign","_getFirstPointerId","identifier","pointerId","_formatValue","RGBComponent","getNumberValidator","getNumberOrArrayOfNumbersValidator","noOfElements","isValidArray","getNumberOrAutoValidator","getStringValidator","getStringOrGradientValidator","isString","isGradient","addColorStop","getBooleanValidator","GET","SET","Factory","addGetterSetter","validator","addGetter","addSetter","addOverloadedGetterSetter","overWriteSetter","_setAttr","addComponentsGetterSetter","components","capitalize","setter","getAttr","basicValidator","getComponentValidator","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","backCompat","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","afterSetFilter","_filterUpToDate","simplifyArray","retArr","_pixelRatio","CONTEXT_METHODS","Context","_canvas","traceArr","_enableTrace","fillShape","shape","fillEnabled","_fill","strokeShape","hasStroke","_stroke","fillStrokeShape","fillAfterStrokeEnabled","getTrace","relaxed","trace","clearTrace","_trace","getPixelRatio","getWidth","getHeight","_applyLineCap","getLineCap","setAttr","_applyOpacity","absOpacity","getAbsoluteOpacity","_applyLineJoin","a2","a3","a4","a5","arcTo","createImageData","createLinearGradient","createPattern","createRadialGradient","a6","a7","a8","isPointInPath","path2d","getLineDash","transform","that","origSetter","methodName","origMethod","_applyGlobalCompositeOperation","op","globalCompositeOperation","SceneContext","_fillColor","_fillFunc","_fillPattern","_getFillPattern","_fillLinearGradient","grd","_getLinearGradient","_fillRadialGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","hasPattern","getFillPatternImage","hasLinearGradient","getFillLinearGradientColorStops","hasRadialGradient","getFillRadialGradientColorStops","_strokeLinearGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","dash","strokeScaleEnabled","getStrokeScaleEnabled","dashEnabled","dashOffset","getShadowForStrokeEnabled","_strokeFunc","_applyShadow","_a","_b","_c","getShadowRGBA","blur","getShadowBlur","getShadowOffset","getAbsoluteScale","HitContext","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","Canvas","isCache","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","background","setPixelRatio","previousRatio","setSize","setHeight","mimeType","SceneCanvas","HitCanvas","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","_drag","nodesToFireEvents","getStage","setPointersPositions","_changedPointerPositions","find","startPointerPos","startDrag","_setDragPosition","fire","_endDragBefore","drawNodes","drawNode","getLayer","_endDragAfter","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","LISTENING","MOUSEENTER","MOUSELEAVE","SHAPE","SPACE","STAGE","TRANSFORM","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","Node","_id","eventListeners","_allEventListeners","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","setAttrs","hasChildren","_clearCache","_getCache","privateGetter","_calculate","deps","depsString","dep","_getCanvasCache","_clearSelfAndDescendantCache","_requestDraw","conf","getClientRect","skipTransform","relativeTo","getParent","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","imageSmoothingEnabled","drawScene","drawHit","scene","hit","isCached","_transformedRect","trans","getAbsoluteTransform","transformed","_drawCachedSceneCanvas","canvasCache","cacheCanvas","_getCachedSceneCanvas","_drawCachedHitCanvas","imageData","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","evtStr","_delegate","baseEvent","_off","stopNode","targets","findAncestors","currentTarget","stopDrag","_clearCaches","_setChildrenIndices","getAncestors","ancestors","getAttrs","_batchTransformChanges","isListening","_isListening","isVisible","shouldDrawHit","skipDragCheck","layerUnderDrag","dragSkip","getZIndex","getAbsoluteZIndex","getDepth","addChildren","getChildren","setPosition","getPosition","getRelativePointerPosition","getPointerPosition","getAbsolutePosition","haveCachedParent","absoluteMatrix","absoluteTransform","setAbsolutePosition","origTrans","_clearTransform","_getAbsoluteTransform","_setTransform","changeX","changeY","_eachAncestorReverse","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","zIndex","_getAbsoluteOpacity","newContainer","toObject","toJSON","includeSelf","_isMatch","ancestor","isAncestorOf","findAncestor","sel","selectorArr","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","transformsEnabled","getTransform","getAbsoluteRotation","_getTransform","allListeners","_toKonvaCanvas","toCanvas","toImage","img","toBlob","blob","getSize","getType","getDragDistance","evtName","evtListeners","newVal","addName","oldName","newName","fullName","removeName","batchDraw","_setComponentAttr","compareShape","stopBubble","cancelBubble","_getProtoListeners","oldEvents","topListeners","selfListeners","_createDragElement","ap","_getPointerById","bubbleEvent","newNodePos","dbf","dragBoundFunc","bounded","setDraggable","draggable","_dragChange","_listenDrag","_dragCleanup","hasDraggingChild","dragElement","isReady","isClientRectOnScreen","screenRect","_createNode","Class","_attrsAffectingSize","rotateDeg","setRotationDeg","getRotationDeg","Container","filterFunc","results","removeChildren","destroyChildren","_validateAdd","_generalFind","findOne","_descendants","shouldStop","getAllIntersections","intersects","can","caching","_drawChildren","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipX","hasComposition","selfRect","skipShadow","skipStroke","shapes","hasVisible","Captures","SUPPORT_POINTER_EVENTS","getCapturedShape","createEvent","hasPointerCapture","setPointerCapture","releaseCapture","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","POINTEROUT","POINTERLEAVE","POINTEROVER","POINTERENTER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","EVENTS","EVENTS_MAP","mouse","pointerclick","pointerdblclick","pointer","getEventType","getEventsMap","checkNoClip","stages","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","isFastLayer","setContainer","getElementsByClassName","getPointersPositions","getContent","layerCanvas","getIntersection","bufferCanvas","bufferHitCanvas","getLayers","_pointerenter","_pointerover","pointerover","_getTargetShape","evenType","_pointerleave","targetShape","eventsEnabled","pointerPos","_pointerdown","triggeredOnShape","isTouch","_pointermove","processedShapesIds","differentTarget","_pointerup","clickStartShape","clickEndShape","fireDblClick","_contextmenu","_wheel","_pointercancel","_lostpointercapture","contentPosition","_getContentPosition","_setPointerPosition","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","Shape","getSceneFunc","sceneFunc","getHitFunc","hitFunc","hasShadow","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","fillPatternRepeat","fillPatternX","fillPatternY","fillPatternRotation","fillPatternScaleX","fillPatternScaleY","fillPatternOffsetX","fillPatternOffsetY","DOMMatrix","__getLinearGradient","fillLinearGradientColorStops","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","rgba","hasFill","strokeEnabled","strokeLinearGradientColorStops","_useBufferCanvas","forceFill","perfectDrawEnabled","isTransparent","strokeForShadow","shadowForStrokeEnabled","setStrokeHitEnabled","getStrokeHitEnabled","getSelfRect","_centroid","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","bufferContext","drawFunc","skipBuffer","cachingSelf","drawHitFromCache","alphaThreshold","hitImageData","hitData","rgbColorKey","hitWidth","hitHeight","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","_waitingForDraw","_setSmoothEnabled","createPNGStream","getNativeCanvasElement","getHitCanvas","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","clearBeforeDraw","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","getHitGraphEnabled","toggleHitCanvas","FastLayer","Group","performance","animIdCounter","frame","timeDiff","lastTime","frameRate","setLayers","lays","addLayer","isRunning","_addAnimation","_removeAnimation","_updateFrameObject","_handleAnimation","layersLen","layerHash","Anim","_runFrames","_animationLoop","animRunning","blacklist","onFinish","yoyo","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","setTime","play","getTimer","onEnterFrame","seek","Tween","nodeId","Easings","Linear","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","tweenId","trueEnd","trueStart","endRGBA","closed","startRGBA","onPlay","onReverse","onPause","thisId","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","Util","Arc","_sceneFunc","clockwise","boundLeftRatio","boundTopRatio","boundBottomRatio","boundLeft","boundTop","boundBottom","getControlPoints","x0","y0","expandPoints","cp","allPoints","Line","bezier","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","TypedArray","Int8Array","getNumberArrayValidator","Path","dataArray","pathLength","parsePathData","ca","command","rx","ry","dTheta","psi","fs","inc","getPointOnEllipticalArc","getPointOnCubicBezier","getLength","getPointAtLength","ii","getPointOnLine","getPointOnQuadraticBezier","P1x","P1y","P2x","P2y","fromX","fromY","rise","ix","iy","getLineLength","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","sinPsi","cs","cc","coords","cpx","cpy","re","prevCmd","ctlPtx","ctlPty","cmd","convertEndpointToCenterParameterization","calcLength","psiDeg","xp","yp","lambda","cxp","cyp","vMag","vRatio","vAngle","Arrow","PI2","fromTension","pointerLength","lp","lastLength","pointerWidth","pointerAtEnding","__fillStroke","pointerAtBeginning","isDashEnabled","lineRect","Ellipse","radiusX","radiusY","_setImageLoad","cropWidth","cropHeight","cropX","cropY","_hitFunc","ATTR_CHANGE_LIST","UP","RIGHT","DOWN","LEFT","attrChangeListLen","Label","getText","getTag","pointerDirection","pointerHeight","Tag","Rect","RegularPolygon","_getPoints","sides","PIx2","Ring","Sprite","_updated","frameIndex","_setInterval","ix4","frameOffsets","ix2","_updateIndex","getIndex","setIndex","Star","numPoints","stringToArray","AUTO","JUSTIFY","MIDDLE","NORMAL","Text","checkDefaultFill","_partialTextX","_partialTextY","_setTextData","textArr","textArrLen","lineHeightPx","verticalAlign","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","_getContextFont","spacesNumber","oneWord","lastLine","lastInParagraph","li","letter","_partialText","measureSize","setText","getTextWidth","getTextHeight","textHeight","fontStyle","fontVariant","fontFamily","hasSpace","hasQuotes","_addTextLine","_getTextWidth","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","substrWidth","wrapIndex","_shouldHandleEllipsis","_tryToAddEllipsisToLastLine","partialText","TextPath","dummyCanvas","glyphInfo","_getTextSize","kerningFunc","textFullWidth","fullPathWidth","pathCmd","charArr","pIndex","currentT","getNextPathSegment","pathData","findSegmentToFitCharacter","glyphWidth","currLen","attempts","cumulativePathLength","needNewSegment","lettersInOffset","kern","transposeX","transposeY","NODES_RECT","ANGLES","TOUCH_DEVICE","ANCHORS_NAMES","rotateAroundPoint","angleRad","Transformer","_transforming","_createElements","getNode","attachTo","setNode","setNodes","_nodes","_getEventNamespace","useSingleNodeRotation","_resetTransformCache","additionalEvents","_proxyDrag","lastPos","otherNode","otherAbs","getNodes","getActiveAnchor","_movingAnchorName","_getNodeRect","__getNodeRect","__getNodeShape","relative","ignoreStroke","absScale","absPos","totalPoints","getX","getY","_createBack","_createAnchor","anchor","anchorName","getCursor","_cursorChange","back","rotateEnabled","rotateAnchorOffset","shouldOverdrawWholeArea","hypotenuse","_anchorDragOffset","newHypotenuse","anchorNode","pp","oldAbs","anchorDragBoundFunc","newAbs","keepProportion","keepRatio","shiftKey","centeredScaling","altKey","comparePoint","reverseX","reverseY","topOffsetX","topOffsetY","bottomOffsetX","bottomOffsetY","_fitNodesInto","newRotation","tol","rotationSnapTolerance","snappedRot","snaps","newRotationRad","snapped","absDiff","getSnap","rotationSnaps","deltaRad","getCenter","rotateAroundCenter","_removeEvents","newAttrs","oldAttrs","allowNegativeScale","flipEnabled","boundBoxFunc","baseSize","oldTr","newTr","parentTransform","localTransform","newLocalTransform","_batchChangeChild","enabledAnchors","resizeEnabled","anchorSize","anchorStroke","anchorStrokeWidth","anchorFill","anchorCornerRadius","borderEnabled","borderStroke","borderStrokeWidth","isTransforming","stopTransform","lineEnabled","rotateHandlerOffset","enabledHandlers","Wedge","BlurStack","getAngleDeg","setAngleDeg","mul_table","shg_table","remap","fromValue","fromMin","fromMax","toMin","toMax","fromRange","toRange","pixelAt","idata","rgbDistance","Filters","Blur","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pg","pb","pa","rbs","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stackIn","stackOut","mul_sum","shg_sum","filterGaussBlurRGBA","Brighten","brightness","Contrast","adjust","contrast","nPixels","Emboss","strength","embossStrength","greyLevel","embossWhiteLevel","embossDirection","blend","embossBlend","dirY","dirX","w4","otherY","offsetYOther","otherX","offsetOther","dR","dG","dB","dif","absDif","Enhance","nSubPixels","rMin","rMax","gMin","gMax","bMin","bMax","enhanceAmount","enhance","rMid","rGoalMax","rGoalMin","gMid","gGoalMax","gGoalMin","bMid","bGoalMax","bGoalMin","Grayscale","HSL","saturation","luminance","vsu","vsw","rr","rg","rb","gr","gg","gb","bg","bb","HSV","Invert","Kaleidoscope","srcPos","dstPos","xSize","ySize","power","kaleidoscopePower","kaleidoscopeAngle","tempCanvas","scratchData","dst","srcPixels","dstPixels","xMid","polarCenterX","yMid","polarCenterY","rSize","tSize","conversion","ToPolar","minSectionSize","sectionSize","xStart","xEnd","xDelta","phaseShift","polarRotation","FromPolar","Mask","mask","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","pTab","rgbMean","backgroundMask","applyMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","wt","smoothEdgeMask","dilateMask","erodeMask","Noise","noise","Pixelate","xBinStart","xBinEnd","yBinStart","yBinEnd","xBin","yBin","pixelsInBin","pixelSize","nBinsX","nBinsY","Posterize","levels","RGB","RGBA","ia","Sepia","Solarize","Threshold","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","ns","definition","chunkId","globalThis","Function","needAttach","charset","nc","onScriptComplete","doneFns","scriptUrl","importScripts","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal"],"sourceRoot":""}